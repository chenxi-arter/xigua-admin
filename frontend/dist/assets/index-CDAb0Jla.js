import{m as y,n as g,t as p,c as B,u as O,j as V,a as $,T as R,w as C,s as j,K as D,D as M,B as N,I as w}from"./index-DYKl5Uqj.js";import{u as z}from"./use-placeholder-nVl0cBB3.js";import{d as _,r as E,b as u,g as K,D as F,m as Y}from"./index-CyC_k5V3.js";import{u as Z,r as q}from"./use-route-CRs7iilB.js";const[T,I]=B("tabbar"),G={route:Boolean,fixed:p,border:p,zIndex:g,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:y(0),safeAreaInsetBottom:{type:Boolean,default:null}},A=Symbol(T);var H=_({name:T,props:G,emits:["change","update:modelValue"],setup(e,{emit:d,slots:r}){const m=E(),{linkChildren:b}=O(A),c=z(m,I),f=()=>{var a;return(a=e.safeAreaInsetBottom)!=null?a:e.fixed},n=()=>{var a;const{fixed:t,zIndex:o,border:l}=e;return u("div",{ref:m,role:"tablist",style:V(o),class:[I({fixed:t}),{[$]:l,"van-safe-area-bottom":f()}]},[(a=r.default)==null?void 0:a.call(r)])};return b({props:e,setActive:(a,t)=>{R(e.beforeChange,{args:[a],done(){d("update:modelValue",a),d("change",a),t()}})}}),()=>e.fixed&&e.placeholder?c(n):n()}});const ae=C(H),[J,h]=B("tabbar-item"),L=j({},q,{dot:Boolean,icon:String,name:g,badge:g,badgeProps:Object,iconPrefix:String});var Q=_({name:J,props:L,emits:["click"],setup(e,{emit:d,slots:r}){const m=Z(),b=K().proxy,{parent:c,index:f}=D(A);if(!c)return;const n=F(()=>{var t;const{route:o,modelValue:l}=c.props;if(o&&"$route"in b){const{$route:v}=b,{to:i}=e,s=M(i)?i:{path:i};return v.matched.some(P=>{const S="path"in s&&s.path===P.path,k="name"in s&&s.name===P.name;return S||k})}return((t=e.name)!=null?t:f.value)===l}),x=t=>{var o;n.value||c.setActive((o=e.name)!=null?o:f.value,m),d("click",t)},a=()=>{if(r.icon)return r.icon({active:n.value});if(e.icon)return u(w,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var t;const{dot:o,badge:l}=e,{activeColor:v,inactiveColor:i}=c.props,s=n.value?v:i;return u("div",{role:"tab",class:h({active:n.value}),style:{color:s},tabindex:0,"aria-selected":n.value,onClick:x},[u(N,Y({dot:o,class:h("icon"),content:l},e.badgeProps),{default:a}),u("div",{class:h("text")},[(t=r.default)==null?void 0:t.call(r,{active:n.value})])])}}});const te=C(Q);export{ae as T,te as a,L as b,G as t};
