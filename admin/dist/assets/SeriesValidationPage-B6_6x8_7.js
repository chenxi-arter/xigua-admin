import{I as p,j as e}from"./index-BqQ0KmuN.js";import{r as a,j as pe,R as ee}from"./react-vendor-BZ8KDC-J.js";import{b as C}from"./admin-1nbZk7RE.js";import{t as xe,u as je,p as j,a as w,B as c,R as te,C as g,q as m,v as ye,w as u,d as $,f as ve,x as f,s as h,y as se}from"./antd-vendor-CCOR70di.js";import{R as be}from"./EyeOutlined-RgGrQzxa.js";import"./utils-vendor-NIGUFBhG.js";var Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function T(){return T=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},T.apply(this,arguments)}const we=(r,s)=>a.createElement(p,T({},r,{ref:s,icon:Se})),Ie=a.forwardRef(we);var ze={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};function B(){return B=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},B.apply(this,arguments)}const Oe=(r,s)=>a.createElement(p,B({},r,{ref:s,icon:ze})),k=a.forwardRef(Oe);function _(){return _=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},_.apply(this,arguments)}const Ce=(r,s)=>a.createElement(p,_({},r,{ref:s,icon:xe})),ie=a.forwardRef(Ce);var ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"};function A(){return A=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},A.apply(this,arguments)}const Ee=(r,s)=>a.createElement(p,A({},r,{ref:s,icon:ke})),ne=a.forwardRef(Ee);var Re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm144 452H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm445.7 51.5l-93.3-93.3C814.7 780.7 828 743.9 828 704c0-97.2-78.8-176-176-176s-176 78.8-176 176 78.8 176 176 176c35.8 0 69-10.7 96.8-29l94.7 94.7c1.6 1.6 3.6 2.3 5.6 2.3s4.1-.8 5.6-2.3l31-31a7.9 7.9 0 000-11.2zM652 816c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"file-search",theme:"outlined"};function P(){return P=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},P.apply(this,arguments)}const De=(r,s)=>a.createElement(p,P({},r,{ref:s,icon:Re})),Le=a.forwardRef(De);var $e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};function W(){return W=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},W.apply(this,arguments)}const Me=(r,s)=>a.createElement(p,W({},r,{ref:s,icon:$e})),Te=a.forwardRef(Me);function H(){return H=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},H.apply(this,arguments)}const Be=(r,s)=>a.createElement(p,H({},r,{ref:s,icon:je})),_e=a.forwardRef(Be);var Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"};function N(){return N=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},N.apply(this,arguments)}const Pe=(r,s)=>a.createElement(p,N({},r,{ref:s,icon:Ae})),M=a.forwardRef(Pe);function qe(){const r=pe(),[s,l]=a.useState(null),[n,V]=a.useState([]),[E,re]=a.useState([]),[R,le]=a.useState([]),[y,F]=a.useState(!1),[D,v]=a.useState(null),[ae,O]=a.useState(!1),[o,oe]=a.useState(null),[ce,de]=a.useState("overview"),[d,b]=a.useState("all"),[K,L]=a.useState(null),S=async()=>{try{L(null);const t=await C.getStats();console.log("Stats API ÂÆåÊï¥ÂìçÂ∫î:",t),console.log("Stats data:",t.data),console.log("ÈáçÂ§çÂêçÁß∞Êï∞Èáè:",t.data?.issues?.duplicateNames),l(t.data)}catch(t){console.error("Âä†ËΩΩÁªüËÆ°Â§±Ë¥•:",t);const i=t?.response?.data?.message||t?.message||"Âä†ËΩΩÁªüËÆ°‰ø°ÊÅØÂ§±Ë¥•";L(i),h.error(i)}},q=async()=>{v("missing");try{console.log("ÂºÄÂßãÊ£ÄÊü•Áº∫ÈõÜÈóÆÈ¢ò...");const t=await C.checkMissingEpisodes();console.log("Áº∫ÈõÜÊ£ÄÊü•ÁªìÊûú:",t);const i=t?.data?.items||[];V(i),b("all"),h.success(t?.message||`Ê£ÄÊü•ÂÆåÊàêÔºåÂèëÁé∞ ${i.length} ‰∏™ÈóÆÈ¢ò`),await S()}catch(t){console.error("Ê£ÄÊü•Áº∫ÈõÜÂ§±Ë¥•:",t),V([]),h.error(t?.response?.data?.message||t?.message||"Ê£ÄÊü•Áº∫ÈõÜÂíåÈõÜÈáçÂ§çÈóÆÈ¢òÂ§±Ë¥•")}finally{v(null)}},Z=async()=>{v("names");try{const t=await C.checkDuplicateNames();console.log("ÈáçÂ§çÂêçÁß∞Ê£ÄÊü•ÁªìÊûú:",t),console.log("ÈáçÂ§çÂêçÁß∞items:",t.data?.items),re(t.data?.items||[]),h.success(t.message||"Ê£ÄÊü•ÂÆåÊàê"),await S()}catch(t){console.error("Ê£ÄÊü•Â§±Ë¥•:",t),h.error(t?.response?.data?.message||"Ê£ÄÊü•ÈáçÂ§çÂêçÁß∞Â§±Ë¥•")}finally{v(null)}},G=async()=>{v("ids");try{const t=await C.checkDuplicateExternalIds();le(t.data?.items||[]),h.success(t.message||"Ê£ÄÊü•ÂÆåÊàê"),await S()}catch(t){console.error("Ê£ÄÊü•Â§±Ë¥•:",t),h.error(t?.response?.data?.message||"Ê£ÄÊü•ÈáçÂ§çÂ§ñÈÉ®IDÂ§±Ë¥•")}finally{v(null)}},ue=t=>{oe(t),O(!0)},fe=async()=>{F(!0);try{await S();try{await q()}catch(t){console.error("Ê£ÄÊü•Áº∫ÈõÜÂ§±Ë¥•:",t)}try{await Z()}catch(t){console.error("Ê£ÄÊü•ÈáçÂ§çÂêçÁß∞Â§±Ë¥•:",t)}try{await G()}catch(t){console.error("Ê£ÄÊü•ÈáçÂ§çIDÂ§±Ë¥•:",t)}h.success("Êï∞ÊçÆÂ∑≤Âà∑Êñ∞")}catch(t){console.error("Âà∑Êñ∞Â§±Ë¥•:",t),h.error("Âà∑Êñ∞Â§±Ë¥•: "+(t?.message||"Êú™Áü•ÈîôËØØ"))}finally{F(!1)}};a.useEffect(()=>{S()},[]),a.useEffect(()=>{const t=i=>{console.error("ÂÖ®Â±ÄÈîôËØØ:",i.error),L(i.error?.message||"ÂèëÁîüÊú™Áü•ÈîôËØØ")};return window.addEventListener("error",t),()=>window.removeEventListener("error",t)},[]);const x=t=>t.status==="NO_EPISODES"?"empty":t.issues?.hasMissing&&t.issues?.hasDuplicates?"both":t.issues?.hasMissing?"missing":t.issues?.hasDuplicates?"duplicate":"empty",J=t=>{if(t.status==="NO_EPISODES")return"high";const i=(t.issues?.missingCount||0)+(t.issues?.duplicateCount||0);return i>=5?"high":i>=3?"medium":"low"},Q=t=>{if(t.message)return t.message;if(t.issues){const i=[];return t.issues.hasMissing&&i.push(`Áº∫Â∞ë${t.issues.missingCount}ÈõÜ`),t.issues.hasDuplicates&&i.push(`${t.issues.duplicateCount}ÈõÜÈáçÂ§ç`),i.join("Ôºå")}return"-"},U=t=>{const z={missing:{color:"orange",text:"Áº∫ÈõÜ"},duplicate:{color:"red",text:"ÈáçÂ§ç"},both:{color:"purple",text:"Ê∑∑ÂêàÈóÆÈ¢ò"},empty:{color:"default",text:"Á©∫Á≥ªÂàó"}}[t]||{color:"default",text:t};return e.jsx(se,{color:z.color,children:z.text})},X=t=>{const z={high:{color:"red",text:"‰∏•Èáç"},medium:{color:"orange",text:"‰∏≠Á≠â"},low:{color:"gold",text:"ËΩªÂæÆ"}}[t]||{color:"default",text:t};return e.jsx(se,{color:z.color,children:z.text})},he=async t=>{console.log("ÂàáÊç¢Âà∞Ê†áÁ≠æÈ°µ:",t),de(t);try{t==="missing"&&n.length===0?await q():t==="names"&&E.length===0?await Z():t==="ids"&&R.length===0&&await G()}catch(i){console.error("Ê†áÁ≠æÈ°µÂàáÊç¢Âä†ËΩΩÂ§±Ë¥•:",i)}},ge=ee.useMemo(()=>Array.isArray(n)?d==="all"?n:n.filter(t=>x(t)===d):(console.warn("missingIssues ‰∏çÊòØÊï∞ÁªÑ:",n),[]),[n,d]),I=ee.useMemo(()=>Array.isArray(n)?{all:n.length,missing:n.filter(t=>x(t)==="missing").length,duplicate:n.filter(t=>x(t)==="duplicate").length,both:n.filter(t=>x(t)==="both").length,empty:n.filter(t=>x(t)==="empty").length}:{all:0,missing:0,duplicate:0,both:0,empty:0},[n]),me=[{title:"Á≥ªÂàó‰ø°ÊÅØ",key:"series",width:300,render:(t,i)=>i?e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500,marginBottom:4,color:"#1677ff",cursor:"pointer"},onClick:()=>r("/series"),title:"ÁÇπÂáªÊü•ÁúãÁ≥ªÂàóÂàóË°®",children:i.seriesTitle||"Êú™Áü•Á≥ªÂàó"}),e.jsxs("div",{style:{fontSize:12,color:"#999"},children:["ID: ",i.seriesId," | ",i.seriesShortId]})]}):e.jsx("span",{style:{color:"#999"},children:"Êï∞ÊçÆÂºÇÂ∏∏"})},{title:"ÈóÆÈ¢òÁ±ªÂûã",key:"type",width:120,render:(t,i)=>U(x(i))},{title:"‰∏•ÈáçÁ®ãÂ∫¶",key:"severity",width:100,render:(t,i)=>X(J(i))},{title:"ÈóÆÈ¢òÊèèËø∞",key:"description",render:(t,i)=>Q(i)},{title:"ÈõÜÊï∞ÁªüËÆ°",key:"episodes",width:150,render:(t,i)=>e.jsxs("div",{style:{fontSize:12},children:[e.jsxs("div",{children:["ÊÄªËÆ°: ",i.totalEpisodes||0]}),i.expectedEpisodes&&e.jsxs("div",{children:["È¢ÑÊúü: ",i.expectedEpisodes]}),i.missingEpisodes&&i.missingEpisodes.length>0&&e.jsxs("div",{style:{color:"#ff4d4f"},children:["Áº∫Â§±: ",i.missingEpisodes.length,"ÈõÜ"]}),i.duplicateEpisodes&&i.duplicateEpisodes.length>0&&e.jsxs("div",{style:{color:"#faad14"},children:["ÈáçÂ§ç: ",i.duplicateEpisodes.length,"ÈõÜ"]})]})},{title:"Êìç‰Ωú",key:"action",width:120,render:(t,i)=>e.jsx(w,{children:e.jsx(c,{size:"small",icon:e.jsx(be,{}),onClick:()=>ue(i),children:"ËØ¶ÊÉÖ"})})}],Y=[{title:"ÈáçÂ§çÂÄº",dataIndex:"title",key:"title",width:300},{title:"ÈáçÂ§çÊ¨°Êï∞",dataIndex:"count",key:"count",width:100,render:t=>e.jsx(u,{count:t,showZero:!0,style:{backgroundColor:"#ff4d4f"}})},{title:"ÂèóÂΩ±ÂìçÁ≥ªÂàóÊï∞",key:"seriesCount",width:150,render:(t,i)=>e.jsxs("span",{children:[i.series?.length||0," ‰∏™Á≥ªÂàó"]})},{title:"Êìç‰Ωú",key:"action",width:120,render:()=>e.jsx(c,{size:"small",type:"link",children:"Êü•ÁúãËØ¶ÊÉÖ"})}];return e.jsxs("div",{className:"page",style:{background:"#f0f2f5",minHeight:"100vh",padding:24},children:[K&&e.jsx(j,{style:{marginBottom:24,borderColor:"#ff4d4f",background:"#fff2f0"},children:e.jsxs(w,{children:[e.jsx(k,{style:{color:"#ff4d4f",fontSize:20}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500,color:"#ff4d4f"},children:"Âä†ËΩΩÂ§±Ë¥•"}),e.jsx("div",{style:{fontSize:13,color:"#666",marginTop:4},children:K}),e.jsxs("div",{style:{marginTop:12},children:[e.jsx(c,{size:"small",onClick:()=>window.location.reload(),children:"Âà∑Êñ∞È°µÈù¢"}),e.jsx(c,{size:"small",style:{marginLeft:8},onClick:S,children:"ÈáçËØï"})]})]})]})}),e.jsxs(te,{gutter:[16,16],style:{marginBottom:24},children:[e.jsx(g,{xs:24,sm:12,lg:6,children:e.jsx(j,{loading:y,style:{borderRadius:8,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none"},bodyStyle:{padding:"20px 24px"},children:e.jsx(m,{title:e.jsx("span",{style:{color:"rgba(255,255,255,0.85)",fontSize:14},children:"ÊÄªÁ≥ªÂàóÊï∞"}),value:s?.overview.totalSeries||0,prefix:e.jsx(ne,{style:{color:"#fff"}}),valueStyle:{color:"#fff",fontSize:28,fontWeight:600}})})}),e.jsx(g,{xs:24,sm:12,lg:6,children:e.jsx(j,{loading:y,style:{borderRadius:8,background:"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)",border:"none"},bodyStyle:{padding:"20px 24px"},children:e.jsx(m,{title:e.jsx("span",{style:{color:"rgba(255,255,255,0.85)",fontSize:14},children:"ÂÅ•Â∫∑Á≥ªÂàó"}),value:s?.overview.healthySeries||0,prefix:e.jsx(Ie,{style:{color:"#fff"}}),valueStyle:{color:"#fff",fontSize:28,fontWeight:600}})})}),e.jsx(g,{xs:24,sm:12,lg:6,children:e.jsx(j,{loading:y,style:{borderRadius:8,background:"linear-gradient(135deg, #ff7a45 0%, #ff4d4f 100%)",border:"none"},bodyStyle:{padding:"20px 24px"},children:e.jsx(m,{title:e.jsx("span",{style:{color:"rgba(255,255,255,0.85)",fontSize:14},children:"ÈóÆÈ¢òÁ≥ªÂàó"}),value:s?.overview.issuesSeries||0,prefix:e.jsx(M,{style:{color:"#fff"}}),valueStyle:{color:"#fff",fontSize:28,fontWeight:600}})})}),e.jsx(g,{xs:24,sm:12,lg:6,children:e.jsx(j,{loading:y,style:{borderRadius:8,background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",border:"none"},bodyStyle:{padding:"20px 24px"},children:e.jsx(m,{title:e.jsx("span",{style:{color:"rgba(255,255,255,0.85)",fontSize:14},children:"Ë¥®ÈáèËØÑÂàÜ"}),value:s?.quality.score||0,suffix:e.jsx("span",{style:{fontSize:16,color:"rgba(255,255,255,0.9)",marginLeft:8,fontWeight:"bold"},children:s?.quality.grade}),valueStyle:{color:"#fff",fontSize:28,fontWeight:600}})})})]}),e.jsxs(j,{title:"ÈóÆÈ¢òÁ±ªÂûãÂàÜÂ∏É",loading:y,style:{borderRadius:8,marginBottom:24},children:[e.jsxs(te,{gutter:[32,16],children:[e.jsx(g,{xs:12,sm:8,md:6,children:e.jsx(m,{title:"Áº∫ÈõÜÈóÆÈ¢ò",value:s?.issues.missingEpisodes||0,prefix:e.jsx(M,{style:{color:"#ff7a45"}}),valueStyle:{color:"#ff7a45"}})}),e.jsx(g,{xs:12,sm:8,md:6,children:e.jsx(m,{title:"ÈáçÂ§çÈõÜÊï∞",value:s?.issues.duplicateEpisodes||0,prefix:e.jsx(ie,{style:{color:"#faad14"}}),valueStyle:{color:"#faad14"}})}),e.jsx(g,{xs:12,sm:8,md:6,children:e.jsx(m,{title:"Á©∫Á≥ªÂàó",value:s?.issues.emptySeries||0,prefix:e.jsx(k,{style:{color:"#8c8c8c"}}),valueStyle:{color:"#8c8c8c"}})}),e.jsx(g,{xs:12,sm:8,md:6,children:e.jsx(m,{title:"ÈáçÂ§çÂêçÁß∞",value:s?.issues.duplicateNames||0,prefix:e.jsx(Le,{style:{color:"#1677ff"}}),valueStyle:{color:"#1677ff"}})})]}),s?.lastCheck&&e.jsxs("div",{style:{marginTop:20,paddingTop:16,borderTop:"1px solid #f0f0f0",color:"#999"},children:["ÊúÄÂêéÊ£ÄÊü•: ",new Date(s.lastCheck.timestamp).toLocaleString(),"(ËÄóÊó∂: ",s.lastCheck.duration,"ms)"]})]}),e.jsx(j,{style:{borderRadius:8},children:e.jsx(ye,{activeKey:ce,onChange:he,tabBarExtraContent:e.jsx(w,{children:e.jsx(c,{type:"primary",icon:e.jsx(_e,{}),onClick:fe,loading:y,children:"ÂÖ®ÈáèÂà∑Êñ∞"})}),items:[{key:"overview",label:"Ê¶ÇËßà",children:e.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[e.jsx(ne,{style:{fontSize:64,color:"#1677ff",marginBottom:24}}),e.jsx("h2",{style:{fontSize:20,marginBottom:16,color:"#333"},children:"Êï∞ÊçÆÈ™åËØÅ‰∏≠ÂøÉ"}),e.jsx("p",{style:{fontSize:14,color:"#666",marginBottom:32,maxWidth:600,margin:"0 auto 32px"},children:'ÁÇπÂáª‰∏äÊñπÁöÑÊ†áÁ≠æÈ°µËá™Âä®Ê£ÄÊü•ÂØπÂ∫îÁöÑÊï∞ÊçÆË¥®ÈáèÈóÆÈ¢òÔºåÊàñ‰ΩøÁî®"ÂÖ®ÈáèÂà∑Êñ∞"ÊåâÈíÆ‰∏ÄÊ¨°ÊÄßÊ£ÄÊü•ÊâÄÊúâÈóÆÈ¢ò'}),e.jsxs(w,{direction:"vertical",size:"middle",style:{width:"100%",maxWidth:500,margin:"0 auto"},children:[e.jsxs("div",{style:{textAlign:"left",padding:"16px",background:"#f0f2f5",borderRadius:8},children:[e.jsx("div",{style:{marginBottom:8,fontWeight:500},children:"üìä Êï∞ÊçÆÊ¶ÇËßà"}),e.jsxs("div",{style:{fontSize:13,color:"#666"},children:["ÊÄªÁ≥ªÂàó: ",s?.overview.totalSeries||0," | ÂÅ•Â∫∑: ",s?.overview.healthySeries||0," | ÈóÆÈ¢ò: ",s?.overview.issuesSeries||0]})]}),e.jsxs("div",{style:{textAlign:"left",padding:"16px",background:"#fff7e6",borderRadius:8},children:[e.jsx("div",{style:{marginBottom:8,fontWeight:500},children:"‚ö†Ô∏è Âø´ÈÄüÊìç‰Ωú"}),e.jsxs("div",{style:{fontSize:13,color:"#666"},children:['ÁÇπÂáª"Áº∫ÈõÜÂíåÈõÜÈáçÂ§ç"Ê†áÁ≠æÊü•ÁúãÂâßÈõÜÈóÆÈ¢ò',e.jsx("br",{}),'ÁÇπÂáª"ÈáçÂ§çÂêçÁß∞"Ê†áÁ≠æÊü•ÁúãÈáçÂêçÁ≥ªÂàó',e.jsx("br",{}),'ÁÇπÂáª"ÈáçÂ§çÂ§ñÈÉ®ID"Ê†áÁ≠æÊü•ÁúãIDÂÜ≤Á™Å']})]})]})]})},{key:"missing",label:e.jsx(u,{count:n.length,offset:[10,0],children:e.jsx("span",{children:"Áº∫ÈõÜÂíåÈõÜÈáçÂ§ç"})}),children:e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16,padding:"12px 16px",background:"#fafafa",borderRadius:8},children:[e.jsx("div",{style:{marginBottom:8,color:"#666",fontSize:14},children:"Á≠õÈÄâÈóÆÈ¢òÁ±ªÂûãÔºö"}),e.jsxs(w,{wrap:!0,children:[e.jsxs(c,{type:d==="all"?"primary":"default",onClick:()=>b("all"),size:"middle",children:["ÂÖ®ÈÉ® ",e.jsx(u,{count:I.all,style:{marginLeft:8,backgroundColor:"#52c41a"}})]}),e.jsxs(c,{type:d==="missing"?"primary":"default",onClick:()=>b("missing"),icon:e.jsx(M,{}),size:"middle",children:["Áº∫ÈõÜ ",e.jsx(u,{count:I.missing,style:{marginLeft:8,backgroundColor:"#ff7a45"}})]}),e.jsxs(c,{type:d==="duplicate"?"primary":"default",onClick:()=>b("duplicate"),icon:e.jsx(ie,{}),size:"middle",children:["ÈáçÂ§ç ",e.jsx(u,{count:I.duplicate,style:{marginLeft:8,backgroundColor:"#f5222d"}})]}),e.jsxs(c,{type:d==="both"?"primary":"default",onClick:()=>b("both"),danger:d==="both",size:"middle",children:["Ê∑∑ÂêàÈóÆÈ¢ò ",e.jsx(u,{count:I.both,style:{marginLeft:8,backgroundColor:"#722ed1"}})]}),e.jsxs(c,{type:d==="empty"?"primary":"default",onClick:()=>b("empty"),icon:e.jsx(k,{}),size:"middle",children:["Á©∫Á≥ªÂàó ",e.jsx(u,{count:I.empty,style:{marginLeft:8,backgroundColor:"#8c8c8c"}})]})]})]}),e.jsx($,{rowKey:t=>t?.seriesId||Math.random().toString(),dataSource:ge,columns:me,pagination:{pageSize:10,showTotal:t=>`ÂÖ± ${t} Êù°`},loading:D==="missing",locale:{emptyText:"ÊöÇÊó†ÈóÆÈ¢ò"}})]})},{key:"names",label:e.jsx(u,{count:E.length,offset:[10,0],children:e.jsx("span",{children:"ÈáçÂ§çÂêçÁß∞"})}),children:e.jsx($,{rowKey:t=>t?.title||Math.random().toString(),dataSource:E,columns:Y,pagination:{pageSize:10,showTotal:t=>`ÂÖ± ${t} Êù°`},loading:D==="names",locale:{emptyText:"ÊöÇÊó†ÈáçÂ§çÂêçÁß∞"},expandable:{expandedRowRender:t=>e.jsxs("div",{style:{padding:"12px 24px",background:"#fafafa"},children:[e.jsx("h4",{children:"ÂèóÂΩ±ÂìçÁöÑÁ≥ªÂàó:"}),t.series.map(i=>e.jsxs("div",{style:{marginBottom:8,padding:8,background:"#fff",borderRadius:4},children:[e.jsx("div",{children:e.jsx("strong",{style:{color:"#1677ff",cursor:"pointer"},onClick:()=>r("/series"),title:"ÁÇπÂáªÊü•ÁúãÁ≥ªÂàóÂàóË°®",children:i.title})}),e.jsxs("div",{style:{fontSize:12,color:"#999"},children:["ID: ",i.id," | ",i.shortId," | Â§ñÈÉ®ID: ",i.externalId||"Êó†"," | ÂàõÂª∫Êó∂Èó¥: ",new Date(i.createdAt).toLocaleString()]})]},i.id))]})}})},{key:"ids",label:e.jsx(u,{count:R.length,offset:[10,0],children:e.jsx("span",{children:"ÈáçÂ§çÂ§ñÈÉ®ID"})}),children:e.jsx($,{rowKey:t=>t?.title||Math.random().toString(),dataSource:R,columns:Y,pagination:{pageSize:10,showTotal:t=>`ÂÖ± ${t} Êù°`},loading:D==="ids",locale:{emptyText:"ÊöÇÊó†ÈáçÂ§çÂ§ñÈÉ®ID"},expandable:{expandedRowRender:t=>e.jsxs("div",{style:{padding:"12px 24px",background:"#fafafa"},children:[e.jsx("h4",{children:"ÂèóÂΩ±ÂìçÁöÑÁ≥ªÂàó:"}),t.series.map(i=>e.jsxs("div",{style:{marginBottom:8,padding:8,background:"#fff",borderRadius:4},children:[e.jsx("div",{children:e.jsx("strong",{style:{color:"#1677ff",cursor:"pointer"},onClick:()=>r("/series"),title:"ÁÇπÂáªÊü•ÁúãÁ≥ªÂàóÂàóË°®",children:i.title})}),e.jsxs("div",{style:{fontSize:12,color:"#999"},children:["ID: ",i.id," | ",i.shortId," | Â§ñÈÉ®ID: ",i.externalId||"Êó†"," | ÂàõÂª∫Êó∂Èó¥: ",new Date(i.createdAt).toLocaleString()]})]},i.id))]})}})}]})}),e.jsx(ve,{title:"Á≥ªÂàóËØ¶ÊÉÖ",open:ae,onCancel:()=>O(!1),footer:e.jsxs(w,{children:[e.jsx(c,{onClick:()=>O(!1),children:"ÂÖ≥Èó≠"}),e.jsx(c,{type:"primary",icon:e.jsx(Te,{}),onClick:()=>{r("/series"),O(!1)},children:"ÂâçÂæÄÁ≥ªÂàóÈ°µÈù¢"})]}),width:800,children:o&&e.jsxs("div",{children:[e.jsxs(f,{column:2,bordered:!0,children:[e.jsx(f.Item,{label:"Á≥ªÂàóID",children:o.seriesId}),e.jsx(f.Item,{label:"Short ID",children:o.seriesShortId}),e.jsx(f.Item,{label:"Ê†áÈ¢ò",span:2,children:o.seriesTitle}),e.jsx(f.Item,{label:"ÈóÆÈ¢òÁ±ªÂûã",children:U(x(o))}),e.jsx(f.Item,{label:"‰∏•ÈáçÁ®ãÂ∫¶",children:X(J(o))}),e.jsx(f.Item,{label:"ÈóÆÈ¢òÊèèËø∞",span:2,children:Q(o)}),e.jsx(f.Item,{label:"ÊÄªÈõÜÊï∞",children:o.totalEpisodes}),e.jsx(f.Item,{label:"È¢ÑÊúüÈõÜÊï∞",children:o.expectedEpisodes||"-"})]}),o.missingEpisodes&&o.missingEpisodes.length>0&&e.jsxs("div",{style:{marginTop:16},children:[e.jsx("h4",{children:"Áº∫Â§±ÁöÑÈõÜÊï∞:"}),e.jsx("div",{style:{background:"#fff2e8",padding:12,borderRadius:4},children:o.missingEpisodes.join(", ")})]}),o.duplicateEpisodes&&o.duplicateEpisodes.length>0&&e.jsxs("div",{style:{marginTop:16},children:[e.jsx("h4",{children:"ÈáçÂ§çÁöÑÈõÜÊï∞:"}),e.jsx("div",{style:{background:"#fffbe6",padding:12,borderRadius:4},children:o.duplicateEpisodes.join(", ")})]}),o.status==="NO_EPISODES"&&e.jsxs("div",{style:{marginTop:16,padding:16,background:"#f5f5f5",borderRadius:8,textAlign:"center"},children:[e.jsx(k,{style:{fontSize:32,color:"#8c8c8c",marginBottom:8}}),e.jsx("div",{style:{color:"#666"},children:"ËØ•Á≥ªÂàóÊ≤°Êúâ‰ªª‰ΩïÂâßÈõÜ"})]})]})})]})}export{qe as default};
