import{x as S,t as E,n as h,c as I,M as P,h as R,V as A,I as p,w as x,u as D,m as K,K as M,s as O}from"./index-OOe-qU7w.js";import{d as z,r as L,g as U,D as m,w as V,i as F,h as T,n as _,b as g,f as W,N as Y,m as j}from"./index-B-NUcGvg.js";const[q,v]=I("image"),G={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:h,height:h,radius:h,lazyLoad:Boolean,iconSize:h,showError:E,errorIcon:S("photo-fail"),iconPrefix:String,showLoading:E,loadingIcon:S("photo"),crossorigin:String,referrerpolicy:String,decoding:String};var H=z({name:q,props:G,emits:["load","error"],setup(e,{emit:f,slots:u}){const c=L(!1),i=L(!0),o=L(),{$Lazyload:l}=U().proxy,t=m(()=>{const r={width:P(e.width),height:P(e.height)};return R(e.radius)&&(r.overflow="hidden",r.borderRadius=P(e.radius)),r});V(()=>e.src,()=>{c.value=!1,i.value=!0});const a=r=>{i.value&&(i.value=!1,f("load",r))},n=()=>{const r=new Event("load");Object.defineProperty(r,"target",{value:o.value,enumerable:!0}),a(r)},s=r=>{c.value=!0,i.value=!1,f("error",r)},d=(r,b,k)=>k?k():g(p,{name:r,size:e.iconSize,class:b,classPrefix:e.iconPrefix},null),$=()=>{if(i.value&&e.showLoading)return g("div",{class:v("loading")},[d(e.loadingIcon,v("loading-icon"),u.loading)]);if(c.value&&e.showError)return g("div",{class:v("error")},[d(e.errorIcon,v("error-icon"),u.error)])},y=()=>{if(c.value||!e.src)return;const r={alt:e.alt,class:v("img"),decoding:e.decoding,style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?W(g("img",j({ref:o},r),null),[[Y("lazy"),e.src]]):g("img",j({ref:o,src:e.src,onLoad:a,onError:s},r),null)},w=({el:r})=>{const b=()=>{r===o.value&&i.value&&n()};o.value?b():_(b)},N=({el:r})=>{r===o.value&&!c.value&&s()};return l&&A&&(l.$on("loaded",w),l.$on("error",N),F(()=>{l.$off("loaded",w),l.$off("error",N)})),T(()=>{_(()=>{var r;(r=o.value)!=null&&r.complete&&!e.lazyLoad&&n()})}),()=>{var r;return g("div",{class:v({round:e.round,block:e.block}),style:t.value},[y(),$(),(r=u.default)==null?void 0:r.call(u)])}}});const oe=x(H),[B,J]=I("row"),C=Symbol(B),Q={tag:S("div"),wrap:E,align:String,gutter:{type:[String,Number,Array],default:0},justify:String};var X=z({name:B,props:Q,setup(e,{slots:f}){const{children:u,linkChildren:c}=D(C),i=m(()=>{const t=[[]];let a=0;return u.forEach((n,s)=>{a+=Number(n.span),a>24?(t.push([s]),a-=24):t[t.length-1].push(s)}),t}),o=m(()=>{let t=0;Array.isArray(e.gutter)?t=Number(e.gutter[0])||0:t=Number(e.gutter);const a=[];return t&&i.value.forEach(n=>{const s=t*(n.length-1)/n.length;n.forEach((d,$)=>{if($===0)a.push({right:s});else{const y=t-a[d-1].right,w=s-y;a.push({left:y,right:w})}})}),a}),l=m(()=>{const{gutter:t}=e,a=[];if(Array.isArray(t)&&t.length>1){const n=Number(t[1])||0;if(n<=0)return a;i.value.forEach((s,d)=>{d!==i.value.length-1&&s.forEach(()=>{a.push({bottom:n})})})}return a});return c({spaces:o,verticalSpaces:l}),()=>{const{tag:t,wrap:a,align:n,justify:s}=e;return g(t,{class:J({[`align-${n}`]:n,[`justify-${s}`]:s,nowrap:!a})},{default:()=>{var d;return[(d=f.default)==null?void 0:d.call(f)]}})}}});const[Z,ee]=I("col"),re={tag:S("div"),span:K(0),offset:h};var te=z({name:Z,props:re,setup(e,{slots:f}){const{parent:u,index:c}=M(C),i=m(()=>{if(!u)return;const{spaces:o,verticalSpaces:l}=u;let t={};if(o&&o.value&&o.value[c.value]){const{left:n,right:s}=o.value[c.value];t={paddingLeft:n?`${n}px`:null,paddingRight:s?`${s}px`:null}}const{bottom:a}=l.value[c.value]||{};return O(t,{marginBottom:a?`${a}px`:null})});return()=>{const{tag:o,span:l,offset:t}=e;return g(o,{style:i.value,class:ee({[l]:l,[`offset-${t}`]:t})},{default:()=>{var a;return[(a=f.default)==null?void 0:a.call(f)]}})}}});const se=x(te),ie=x(X);export{se as C,oe as I,ie as R,re as c,G as i,Q as r};
