import{I as w,j as e}from"./index-DsencoU-.js";import{r as a,j as ge,R as X}from"./react-vendor-BZ8KDC-J.js";import{b as C}from"./admin-D9QcSuqT.js";import{m as x,a as S,B as c,R as Y,C as g,r as m,u as me,v as u,g as M,b as pe,w as f,s as h,x as ee}from"./antd-vendor-BWliGsmx.js";import{R as se}from"./CopyOutlined-DguIZEms.js";import{R as xe}from"./ReloadOutlined-25f8kVr9.js";import{R as je}from"./EyeOutlined-FWl0QjxY.js";import"./client-yVgCOTGo.js";import"./utils-vendor-NIGUFBhG.js";var ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function $(){return $=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},$.apply(this,arguments)}const ve=(r,i)=>a.createElement(w,$({},r,{ref:i,icon:ye})),be=a.forwardRef(ve);var Se={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};function B(){return B=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},B.apply(this,arguments)}const we=(r,i)=>a.createElement(w,B({},r,{ref:i,icon:Se})),E=a.forwardRef(we);var Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"};function _(){return _=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},_.apply(this,arguments)}const ze=(r,i)=>a.createElement(w,_({},r,{ref:i,icon:Ie})),te=a.forwardRef(ze);var ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm144 452H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm445.7 51.5l-93.3-93.3C814.7 780.7 828 743.9 828 704c0-97.2-78.8-176-176-176s-176 78.8-176 176 78.8 176 176 176c35.8 0 69-10.7 96.8-29l94.7 94.7c1.6 1.6 3.6 2.3 5.6 2.3s4.1-.8 5.6-2.3l31-31a7.9 7.9 0 000-11.2zM652 816c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"file-search",theme:"outlined"};function A(){return A=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},A.apply(this,arguments)}const Ce=(r,i)=>a.createElement(w,A({},r,{ref:i,icon:ke})),Ee=a.forwardRef(Ce);var Oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};function W(){return W=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},W.apply(this,arguments)}const Re=(r,i)=>a.createElement(w,W({},r,{ref:i,icon:Oe})),De=a.forwardRef(Re);var Le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"};function P(){return P=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},P.apply(this,arguments)}const Me=(r,i)=>a.createElement(w,P({},r,{ref:i,icon:Le})),T=a.forwardRef(Me);function Ve(){const r=ge(),[i,l]=a.useState(null),[n,H]=a.useState([]),[O,ie]=a.useState([]),[R,ne]=a.useState([]),[j,N]=a.useState(!1),[D,y]=a.useState(null),[re,k]=a.useState(!1),[o,le]=a.useState(null),[ae,oe]=a.useState("overview"),[d,v]=a.useState("all"),[V,L]=a.useState(null),b=async()=>{try{L(null);const s=await C.getStats();console.log("Stats API ÂÆåÊï¥ÂìçÂ∫î:",s),console.log("Stats data:",s.data),console.log("ÈáçÂ§çÂêçÁß∞Êï∞Èáè:",s.data?.issues?.duplicateNames),l(s.data)}catch(s){console.error("Âä†ËΩΩÁªüËÆ°Â§±Ë¥•:",s);const t=s?.response?.data?.message||s?.message||"Âä†ËΩΩÁªüËÆ°‰ø°ÊÅØÂ§±Ë¥•";L(t),h.error(t)}},F=async()=>{y("missing");try{console.log("ÂºÄÂßãÊ£ÄÊü•Áº∫ÈõÜÈóÆÈ¢ò...");const s=await C.checkMissingEpisodes();console.log("Áº∫ÈõÜÊ£ÄÊü•ÁªìÊûú:",s);const t=s?.data?.items||[];H(t),v("all"),h.success(s?.message||`Ê£ÄÊü•ÂÆåÊàêÔºåÂèëÁé∞ ${t.length} ‰∏™ÈóÆÈ¢ò`),await b()}catch(s){console.error("Ê£ÄÊü•Áº∫ÈõÜÂ§±Ë¥•:",s),H([]),h.error(s?.response?.data?.message||s?.message||"Ê£ÄÊü•Áº∫ÈõÜÂíåÈõÜÈáçÂ§çÈóÆÈ¢òÂ§±Ë¥•")}finally{y(null)}},K=async()=>{y("names");try{const s=await C.checkDuplicateNames();console.log("ÈáçÂ§çÂêçÁß∞Ê£ÄÊü•ÁªìÊûú:",s),console.log("ÈáçÂ§çÂêçÁß∞items:",s.data?.items),ie(s.data?.items||[]),h.success(s.message||"Ê£ÄÊü•ÂÆåÊàê"),await b()}catch(s){console.error("Ê£ÄÊü•Â§±Ë¥•:",s),h.error(s?.response?.data?.message||"Ê£ÄÊü•ÈáçÂ§çÂêçÁß∞Â§±Ë¥•")}finally{y(null)}},q=async()=>{y("ids");try{const s=await C.checkDuplicateExternalIds();ne(s.data?.items||[]),h.success(s.message||"Ê£ÄÊü•ÂÆåÊàê"),await b()}catch(s){console.error("Ê£ÄÊü•Â§±Ë¥•:",s),h.error(s?.response?.data?.message||"Ê£ÄÊü•ÈáçÂ§çÂ§ñÈÉ®IDÂ§±Ë¥•")}finally{y(null)}},ce=s=>{le(s),k(!0)},de=async()=>{N(!0);try{await b();try{await F()}catch(s){console.error("Ê£ÄÊü•Áº∫ÈõÜÂ§±Ë¥•:",s)}try{await K()}catch(s){console.error("Ê£ÄÊü•ÈáçÂ§çÂêçÁß∞Â§±Ë¥•:",s)}try{await q()}catch(s){console.error("Ê£ÄÊü•ÈáçÂ§çIDÂ§±Ë¥•:",s)}h.success("Êï∞ÊçÆÂ∑≤Âà∑Êñ∞")}catch(s){console.error("Âà∑Êñ∞Â§±Ë¥•:",s),h.error("Âà∑Êñ∞Â§±Ë¥•: "+(s?.message||"Êú™Áü•ÈîôËØØ"))}finally{N(!1)}};a.useEffect(()=>{b()},[]),a.useEffect(()=>{const s=t=>{console.error("ÂÖ®Â±ÄÈîôËØØ:",t.error),L(t.error?.message||"ÂèëÁîüÊú™Áü•ÈîôËØØ")};return window.addEventListener("error",s),()=>window.removeEventListener("error",s)},[]);const p=s=>s.status==="NO_EPISODES"?"empty":s.issues?.hasMissing&&s.issues?.hasDuplicates?"both":s.issues?.hasMissing?"missing":s.issues?.hasDuplicates?"duplicate":"empty",Z=s=>{if(s.status==="NO_EPISODES")return"high";const t=(s.issues?.missingCount||0)+(s.issues?.duplicateCount||0);return t>=5?"high":t>=3?"medium":"low"},G=s=>{if(s.message)return s.message;if(s.issues){const t=[];return s.issues.hasMissing&&t.push(`Áº∫Â∞ë${s.issues.missingCount}ÈõÜ`),s.issues.hasDuplicates&&t.push(`${s.issues.duplicateCount}ÈõÜÈáçÂ§ç`),t.join("Ôºå")}return"-"},J=s=>{const z={missing:{color:"orange",text:"Áº∫ÈõÜ"},duplicate:{color:"red",text:"ÈáçÂ§ç"},both:{color:"purple",text:"Ê∑∑ÂêàÈóÆÈ¢ò"},empty:{color:"default",text:"Á©∫Á≥ªÂàó"}}[s]||{color:"default",text:s};return e.jsx(ee,{color:z.color,children:z.text})},Q=s=>{const z={high:{color:"red",text:"‰∏•Èáç"},medium:{color:"orange",text:"‰∏≠Á≠â"},low:{color:"gold",text:"ËΩªÂæÆ"}}[s]||{color:"default",text:s};return e.jsx(ee,{color:z.color,children:z.text})},ue=async s=>{console.log("ÂàáÊç¢Âà∞Ê†áÁ≠æÈ°µ:",s),oe(s);try{s==="missing"&&n.length===0?await F():s==="names"&&O.length===0?await K():s==="ids"&&R.length===0&&await q()}catch(t){console.error("Ê†áÁ≠æÈ°µÂàáÊç¢Âä†ËΩΩÂ§±Ë¥•:",t)}},fe=X.useMemo(()=>Array.isArray(n)?d==="all"?n:n.filter(s=>p(s)===d):(console.warn("missingIssues ‰∏çÊòØÊï∞ÁªÑ:",n),[]),[n,d]),I=X.useMemo(()=>Array.isArray(n)?{all:n.length,missing:n.filter(s=>p(s)==="missing").length,duplicate:n.filter(s=>p(s)==="duplicate").length,both:n.filter(s=>p(s)==="both").length,empty:n.filter(s=>p(s)==="empty").length}:{all:0,missing:0,duplicate:0,both:0,empty:0},[n]),he=[{title:"Á≥ªÂàó‰ø°ÊÅØ",key:"series",width:300,render:(s,t)=>t?e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500,marginBottom:4,color:"#1677ff",cursor:"pointer"},onClick:()=>r("/series"),title:"ÁÇπÂáªÊü•ÁúãÁ≥ªÂàóÂàóË°®",children:t.seriesTitle||"Êú™Áü•Á≥ªÂàó"}),e.jsxs("div",{style:{fontSize:12,color:"#999"},children:["ID: ",t.seriesId," | ",t.seriesShortId]})]}):e.jsx("span",{style:{color:"#999"},children:"Êï∞ÊçÆÂºÇÂ∏∏"})},{title:"ÈóÆÈ¢òÁ±ªÂûã",key:"type",width:120,render:(s,t)=>J(p(t))},{title:"‰∏•ÈáçÁ®ãÂ∫¶",key:"severity",width:100,render:(s,t)=>Q(Z(t))},{title:"ÈóÆÈ¢òÊèèËø∞",key:"description",render:(s,t)=>G(t)},{title:"ÈõÜÊï∞ÁªüËÆ°",key:"episodes",width:150,render:(s,t)=>e.jsxs("div",{style:{fontSize:12},children:[e.jsxs("div",{children:["ÊÄªËÆ°: ",t.totalEpisodes||0]}),t.expectedEpisodes&&e.jsxs("div",{children:["È¢ÑÊúü: ",t.expectedEpisodes]}),t.missingEpisodes&&t.missingEpisodes.length>0&&e.jsxs("div",{style:{color:"#ff4d4f"},children:["Áº∫Â§±: ",t.missingEpisodes.length,"ÈõÜ"]}),t.duplicateEpisodes&&t.duplicateEpisodes.length>0&&e.jsxs("div",{style:{color:"#faad14"},children:["ÈáçÂ§ç: ",t.duplicateEpisodes.length,"ÈõÜ"]})]})},{title:"Êìç‰Ωú",key:"action",width:120,render:(s,t)=>e.jsx(S,{children:e.jsx(c,{size:"small",icon:e.jsx(je,{}),onClick:()=>ce(t),children:"ËØ¶ÊÉÖ"})})}],U=[{title:"ÈáçÂ§çÂÄº",dataIndex:"title",key:"title",width:300},{title:"ÈáçÂ§çÊ¨°Êï∞",dataIndex:"count",key:"count",width:100,render:s=>e.jsx(u,{count:s,showZero:!0,style:{backgroundColor:"#ff4d4f"}})},{title:"ÂèóÂΩ±ÂìçÁ≥ªÂàóÊï∞",key:"seriesCount",width:150,render:(s,t)=>e.jsxs("span",{children:[t.series?.length||0," ‰∏™Á≥ªÂàó"]})},{title:"Êìç‰Ωú",key:"action",width:120,render:()=>e.jsx(c,{size:"small",type:"link",children:"Êü•ÁúãËØ¶ÊÉÖ"})}];return e.jsxs("div",{className:"page",style:{background:"#f0f2f5",minHeight:"100vh",padding:24},children:[V&&e.jsx(x,{style:{marginBottom:24,borderColor:"#ff4d4f",background:"#fff2f0"},children:e.jsxs(S,{children:[e.jsx(E,{style:{color:"#ff4d4f",fontSize:20}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500,color:"#ff4d4f"},children:"Âä†ËΩΩÂ§±Ë¥•"}),e.jsx("div",{style:{fontSize:13,color:"#666",marginTop:4},children:V}),e.jsxs("div",{style:{marginTop:12},children:[e.jsx(c,{size:"small",onClick:()=>window.location.reload(),children:"Âà∑Êñ∞È°µÈù¢"}),e.jsx(c,{size:"small",style:{marginLeft:8},onClick:b,children:"ÈáçËØï"})]})]})]})}),e.jsxs(Y,{gutter:[16,16],style:{marginBottom:24},children:[e.jsx(g,{xs:24,sm:12,lg:6,children:e.jsx(x,{loading:j,style:{borderRadius:8,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none"},bodyStyle:{padding:"20px 24px"},children:e.jsx(m,{title:e.jsx("span",{style:{color:"rgba(255,255,255,0.85)",fontSize:14},children:"ÊÄªÁ≥ªÂàóÊï∞"}),value:i?.overview.totalSeries||0,prefix:e.jsx(te,{style:{color:"#fff"}}),valueStyle:{color:"#fff",fontSize:28,fontWeight:600}})})}),e.jsx(g,{xs:24,sm:12,lg:6,children:e.jsx(x,{loading:j,style:{borderRadius:8,background:"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)",border:"none"},bodyStyle:{padding:"20px 24px"},children:e.jsx(m,{title:e.jsx("span",{style:{color:"rgba(255,255,255,0.85)",fontSize:14},children:"ÂÅ•Â∫∑Á≥ªÂàó"}),value:i?.overview.healthySeries||0,prefix:e.jsx(be,{style:{color:"#fff"}}),valueStyle:{color:"#fff",fontSize:28,fontWeight:600}})})}),e.jsx(g,{xs:24,sm:12,lg:6,children:e.jsx(x,{loading:j,style:{borderRadius:8,background:"linear-gradient(135deg, #ff7a45 0%, #ff4d4f 100%)",border:"none"},bodyStyle:{padding:"20px 24px"},children:e.jsx(m,{title:e.jsx("span",{style:{color:"rgba(255,255,255,0.85)",fontSize:14},children:"ÈóÆÈ¢òÁ≥ªÂàó"}),value:i?.overview.issuesSeries||0,prefix:e.jsx(T,{style:{color:"#fff"}}),valueStyle:{color:"#fff",fontSize:28,fontWeight:600}})})}),e.jsx(g,{xs:24,sm:12,lg:6,children:e.jsx(x,{loading:j,style:{borderRadius:8,background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",border:"none"},bodyStyle:{padding:"20px 24px"},children:e.jsx(m,{title:e.jsx("span",{style:{color:"rgba(255,255,255,0.85)",fontSize:14},children:"Ë¥®ÈáèËØÑÂàÜ"}),value:i?.quality.score||0,suffix:e.jsx("span",{style:{fontSize:16,color:"rgba(255,255,255,0.9)",marginLeft:8,fontWeight:"bold"},children:i?.quality.grade}),valueStyle:{color:"#fff",fontSize:28,fontWeight:600}})})})]}),e.jsxs(x,{title:"ÈóÆÈ¢òÁ±ªÂûãÂàÜÂ∏É",loading:j,style:{borderRadius:8,marginBottom:24},children:[e.jsxs(Y,{gutter:[32,16],children:[e.jsx(g,{xs:12,sm:8,md:6,children:e.jsx(m,{title:"Áº∫ÈõÜÈóÆÈ¢ò",value:i?.issues.missingEpisodes||0,prefix:e.jsx(T,{style:{color:"#ff7a45"}}),valueStyle:{color:"#ff7a45"}})}),e.jsx(g,{xs:12,sm:8,md:6,children:e.jsx(m,{title:"ÈáçÂ§çÈõÜÊï∞",value:i?.issues.duplicateEpisodes||0,prefix:e.jsx(se,{style:{color:"#faad14"}}),valueStyle:{color:"#faad14"}})}),e.jsx(g,{xs:12,sm:8,md:6,children:e.jsx(m,{title:"Á©∫Á≥ªÂàó",value:i?.issues.emptySeries||0,prefix:e.jsx(E,{style:{color:"#8c8c8c"}}),valueStyle:{color:"#8c8c8c"}})}),e.jsx(g,{xs:12,sm:8,md:6,children:e.jsx(m,{title:"ÈáçÂ§çÂêçÁß∞",value:i?.issues.duplicateNames||0,prefix:e.jsx(Ee,{style:{color:"#1677ff"}}),valueStyle:{color:"#1677ff"}})})]}),i?.lastCheck&&e.jsxs("div",{style:{marginTop:20,paddingTop:16,borderTop:"1px solid #f0f0f0",color:"#999"},children:["ÊúÄÂêéÊ£ÄÊü•: ",new Date(i.lastCheck.timestamp).toLocaleString(),"(ËÄóÊó∂: ",i.lastCheck.duration,"ms)"]})]}),e.jsx(x,{style:{borderRadius:8},children:e.jsx(me,{activeKey:ae,onChange:ue,tabBarExtraContent:e.jsx(S,{children:e.jsx(c,{type:"primary",icon:e.jsx(xe,{}),onClick:de,loading:j,children:"ÂÖ®ÈáèÂà∑Êñ∞"})}),items:[{key:"overview",label:"Ê¶ÇËßà",children:e.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[e.jsx(te,{style:{fontSize:64,color:"#1677ff",marginBottom:24}}),e.jsx("h2",{style:{fontSize:20,marginBottom:16,color:"#333"},children:"Êï∞ÊçÆÈ™åËØÅ‰∏≠ÂøÉ"}),e.jsx("p",{style:{fontSize:14,color:"#666",marginBottom:32,maxWidth:600,margin:"0 auto 32px"},children:'ÁÇπÂáª‰∏äÊñπÁöÑÊ†áÁ≠æÈ°µËá™Âä®Ê£ÄÊü•ÂØπÂ∫îÁöÑÊï∞ÊçÆË¥®ÈáèÈóÆÈ¢òÔºåÊàñ‰ΩøÁî®"ÂÖ®ÈáèÂà∑Êñ∞"ÊåâÈíÆ‰∏ÄÊ¨°ÊÄßÊ£ÄÊü•ÊâÄÊúâÈóÆÈ¢ò'}),e.jsxs(S,{direction:"vertical",size:"middle",style:{width:"100%",maxWidth:500,margin:"0 auto"},children:[e.jsxs("div",{style:{textAlign:"left",padding:"16px",background:"#f0f2f5",borderRadius:8},children:[e.jsx("div",{style:{marginBottom:8,fontWeight:500},children:"üìä Êï∞ÊçÆÊ¶ÇËßà"}),e.jsxs("div",{style:{fontSize:13,color:"#666"},children:["ÊÄªÁ≥ªÂàó: ",i?.overview.totalSeries||0," | ÂÅ•Â∫∑: ",i?.overview.healthySeries||0," | ÈóÆÈ¢ò: ",i?.overview.issuesSeries||0]})]}),e.jsxs("div",{style:{textAlign:"left",padding:"16px",background:"#fff7e6",borderRadius:8},children:[e.jsx("div",{style:{marginBottom:8,fontWeight:500},children:"‚ö†Ô∏è Âø´ÈÄüÊìç‰Ωú"}),e.jsxs("div",{style:{fontSize:13,color:"#666"},children:['ÁÇπÂáª"Áº∫ÈõÜÂíåÈõÜÈáçÂ§ç"Ê†áÁ≠æÊü•ÁúãÂâßÈõÜÈóÆÈ¢ò',e.jsx("br",{}),'ÁÇπÂáª"ÈáçÂ§çÂêçÁß∞"Ê†áÁ≠æÊü•ÁúãÈáçÂêçÁ≥ªÂàó',e.jsx("br",{}),'ÁÇπÂáª"ÈáçÂ§çÂ§ñÈÉ®ID"Ê†áÁ≠æÊü•ÁúãIDÂÜ≤Á™Å']})]})]})]})},{key:"missing",label:e.jsx(u,{count:n.length,offset:[10,0],children:e.jsx("span",{children:"Áº∫ÈõÜÂíåÈõÜÈáçÂ§ç"})}),children:e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16,padding:"12px 16px",background:"#fafafa",borderRadius:8},children:[e.jsx("div",{style:{marginBottom:8,color:"#666",fontSize:14},children:"Á≠õÈÄâÈóÆÈ¢òÁ±ªÂûãÔºö"}),e.jsxs(S,{wrap:!0,children:[e.jsxs(c,{type:d==="all"?"primary":"default",onClick:()=>v("all"),size:"middle",children:["ÂÖ®ÈÉ® ",e.jsx(u,{count:I.all,style:{marginLeft:8,backgroundColor:"#52c41a"}})]}),e.jsxs(c,{type:d==="missing"?"primary":"default",onClick:()=>v("missing"),icon:e.jsx(T,{}),size:"middle",children:["Áº∫ÈõÜ ",e.jsx(u,{count:I.missing,style:{marginLeft:8,backgroundColor:"#ff7a45"}})]}),e.jsxs(c,{type:d==="duplicate"?"primary":"default",onClick:()=>v("duplicate"),icon:e.jsx(se,{}),size:"middle",children:["ÈáçÂ§ç ",e.jsx(u,{count:I.duplicate,style:{marginLeft:8,backgroundColor:"#f5222d"}})]}),e.jsxs(c,{type:d==="both"?"primary":"default",onClick:()=>v("both"),danger:d==="both",size:"middle",children:["Ê∑∑ÂêàÈóÆÈ¢ò ",e.jsx(u,{count:I.both,style:{marginLeft:8,backgroundColor:"#722ed1"}})]}),e.jsxs(c,{type:d==="empty"?"primary":"default",onClick:()=>v("empty"),icon:e.jsx(E,{}),size:"middle",children:["Á©∫Á≥ªÂàó ",e.jsx(u,{count:I.empty,style:{marginLeft:8,backgroundColor:"#8c8c8c"}})]})]})]}),e.jsx(M,{rowKey:s=>s?.seriesId||Math.random().toString(),dataSource:fe,columns:he,pagination:{pageSize:10,showTotal:s=>`ÂÖ± ${s} Êù°`},loading:D==="missing",locale:{emptyText:"ÊöÇÊó†ÈóÆÈ¢ò"}})]})},{key:"names",label:e.jsx(u,{count:O.length,offset:[10,0],children:e.jsx("span",{children:"ÈáçÂ§çÂêçÁß∞"})}),children:e.jsx(M,{rowKey:s=>s?.title||Math.random().toString(),dataSource:O,columns:U,pagination:{pageSize:10,showTotal:s=>`ÂÖ± ${s} Êù°`},loading:D==="names",locale:{emptyText:"ÊöÇÊó†ÈáçÂ§çÂêçÁß∞"},expandable:{expandedRowRender:s=>e.jsxs("div",{style:{padding:"12px 24px",background:"#fafafa"},children:[e.jsx("h4",{children:"ÂèóÂΩ±ÂìçÁöÑÁ≥ªÂàó:"}),s.series.map(t=>e.jsxs("div",{style:{marginBottom:8,padding:8,background:"#fff",borderRadius:4},children:[e.jsx("div",{children:e.jsx("strong",{style:{color:"#1677ff",cursor:"pointer"},onClick:()=>r("/series"),title:"ÁÇπÂáªÊü•ÁúãÁ≥ªÂàóÂàóË°®",children:t.title})}),e.jsxs("div",{style:{fontSize:12,color:"#999"},children:["ID: ",t.id," | ",t.shortId," | Â§ñÈÉ®ID: ",t.externalId||"Êó†"," | ÂàõÂª∫Êó∂Èó¥: ",new Date(t.createdAt).toLocaleString()]})]},t.id))]})}})},{key:"ids",label:e.jsx(u,{count:R.length,offset:[10,0],children:e.jsx("span",{children:"ÈáçÂ§çÂ§ñÈÉ®ID"})}),children:e.jsx(M,{rowKey:s=>s?.title||Math.random().toString(),dataSource:R,columns:U,pagination:{pageSize:10,showTotal:s=>`ÂÖ± ${s} Êù°`},loading:D==="ids",locale:{emptyText:"ÊöÇÊó†ÈáçÂ§çÂ§ñÈÉ®ID"},expandable:{expandedRowRender:s=>e.jsxs("div",{style:{padding:"12px 24px",background:"#fafafa"},children:[e.jsx("h4",{children:"ÂèóÂΩ±ÂìçÁöÑÁ≥ªÂàó:"}),s.series.map(t=>e.jsxs("div",{style:{marginBottom:8,padding:8,background:"#fff",borderRadius:4},children:[e.jsx("div",{children:e.jsx("strong",{style:{color:"#1677ff",cursor:"pointer"},onClick:()=>r("/series"),title:"ÁÇπÂáªÊü•ÁúãÁ≥ªÂàóÂàóË°®",children:t.title})}),e.jsxs("div",{style:{fontSize:12,color:"#999"},children:["ID: ",t.id," | ",t.shortId," | Â§ñÈÉ®ID: ",t.externalId||"Êó†"," | ÂàõÂª∫Êó∂Èó¥: ",new Date(t.createdAt).toLocaleString()]})]},t.id))]})}})}]})}),e.jsx(pe,{title:"Á≥ªÂàóËØ¶ÊÉÖ",open:re,onCancel:()=>k(!1),footer:e.jsxs(S,{children:[e.jsx(c,{onClick:()=>k(!1),children:"ÂÖ≥Èó≠"}),e.jsx(c,{type:"primary",icon:e.jsx(De,{}),onClick:()=>{r("/series"),k(!1)},children:"ÂâçÂæÄÁ≥ªÂàóÈ°µÈù¢"})]}),width:800,children:o&&e.jsxs("div",{children:[e.jsxs(f,{column:2,bordered:!0,children:[e.jsx(f.Item,{label:"Á≥ªÂàóID",children:o.seriesId}),e.jsx(f.Item,{label:"Short ID",children:o.seriesShortId}),e.jsx(f.Item,{label:"Ê†áÈ¢ò",span:2,children:o.seriesTitle}),e.jsx(f.Item,{label:"ÈóÆÈ¢òÁ±ªÂûã",children:J(p(o))}),e.jsx(f.Item,{label:"‰∏•ÈáçÁ®ãÂ∫¶",children:Q(Z(o))}),e.jsx(f.Item,{label:"ÈóÆÈ¢òÊèèËø∞",span:2,children:G(o)}),e.jsx(f.Item,{label:"ÊÄªÈõÜÊï∞",children:o.totalEpisodes}),e.jsx(f.Item,{label:"È¢ÑÊúüÈõÜÊï∞",children:o.expectedEpisodes||"-"})]}),o.missingEpisodes&&o.missingEpisodes.length>0&&e.jsxs("div",{style:{marginTop:16},children:[e.jsx("h4",{children:"Áº∫Â§±ÁöÑÈõÜÊï∞:"}),e.jsx("div",{style:{background:"#fff2e8",padding:12,borderRadius:4},children:o.missingEpisodes.join(", ")})]}),o.duplicateEpisodes&&o.duplicateEpisodes.length>0&&e.jsxs("div",{style:{marginTop:16},children:[e.jsx("h4",{children:"ÈáçÂ§çÁöÑÈõÜÊï∞:"}),e.jsx("div",{style:{background:"#fffbe6",padding:12,borderRadius:4},children:o.duplicateEpisodes.join(", ")})]}),o.status==="NO_EPISODES"&&e.jsxs("div",{style:{marginTop:16,padding:16,background:"#f5f5f5",borderRadius:8,textAlign:"center"},children:[e.jsx(E,{style:{fontSize:32,color:"#8c8c8c",marginBottom:8}}),e.jsx("div",{style:{color:"#666"},children:"ËØ•Á≥ªÂàóÊ≤°Êúâ‰ªª‰ΩïÂâßÈõÜ"})]})]})})]})}export{Ve as default};
