import{f as S,t as E,n as h,c as I,o as P,r as B,O as A,I as p,w as x,u as D,m as O,b as M,e as U}from"./index-D4ij0GdL.js";import{d as z,r as L,g as F,a as m,C as G,M as K,l as T,n as _,c as g,G as V,R as W,m as C}from"./index-lUv6_swH.js";const[Y,v]=I("image"),q={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:h,height:h,radius:h,lazyLoad:Boolean,iconSize:h,showError:E,errorIcon:S("photo-fail"),iconPrefix:String,showLoading:E,loadingIcon:S("photo"),crossorigin:String,referrerpolicy:String,decoding:String};var H=z({name:Y,props:q,emits:["load","error"],setup(e,{emit:f,slots:u}){const c=L(!1),l=L(!0),o=L(),{$Lazyload:s}=F().proxy,t=m(()=>{const r={width:P(e.width),height:P(e.height)};return B(e.radius)&&(r.overflow="hidden",r.borderRadius=P(e.radius)),r});G(()=>e.src,()=>{c.value=!1,l.value=!0});const a=r=>{l.value&&(l.value=!1,f("load",r))},n=()=>{const r=new Event("load");Object.defineProperty(r,"target",{value:o.value,enumerable:!0}),a(r)},i=r=>{c.value=!0,l.value=!1,f("error",r)},d=(r,w,N)=>N?N():g(p,{name:r,size:e.iconSize,class:w,classPrefix:e.iconPrefix},null),$=()=>{if(l.value&&e.showLoading)return g("div",{class:v("loading")},[d(e.loadingIcon,v("loading-icon"),u.loading)]);if(c.value&&e.showError)return g("div",{class:v("error")},[d(e.errorIcon,v("error-icon"),u.error)])},y=()=>{if(c.value||!e.src)return;const r={alt:e.alt,class:v("img"),decoding:e.decoding,style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?V(g("img",C({ref:o},r),null),[[W("lazy"),e.src]]):g("img",C({ref:o,src:e.src,onLoad:a,onError:i},r),null)},b=({el:r})=>{const w=()=>{r===o.value&&l.value&&n()};o.value?w():_(w)},k=({el:r})=>{r===o.value&&!c.value&&i()};return s&&A&&(s.$on("loaded",b),s.$on("error",k),K(()=>{s.$off("loaded",b),s.$off("error",k)})),T(()=>{_(()=>{var r;(r=o.value)!=null&&r.complete&&!e.lazyLoad&&n()})}),()=>{var r;return g("div",{class:v({round:e.round,block:e.block}),style:t.value},[y(),$(),(r=u.default)==null?void 0:r.call(u)])}}});const oe=x(H),[R,J]=I("row"),j=Symbol(R),Q={tag:S("div"),wrap:E,align:String,gutter:{type:[String,Number,Array],default:0},justify:String};var X=z({name:R,props:Q,setup(e,{slots:f}){const{children:u,linkChildren:c}=D(j),l=m(()=>{const t=[[]];let a=0;return u.forEach((n,i)=>{a+=Number(n.span),a>24?(t.push([i]),a-=24):t[t.length-1].push(i)}),t}),o=m(()=>{let t=0;Array.isArray(e.gutter)?t=Number(e.gutter[0])||0:t=Number(e.gutter);const a=[];return t&&l.value.forEach(n=>{const i=t*(n.length-1)/n.length;n.forEach((d,$)=>{if($===0)a.push({right:i});else{const y=t-a[d-1].right,b=i-y;a.push({left:y,right:b})}})}),a}),s=m(()=>{const{gutter:t}=e,a=[];if(Array.isArray(t)&&t.length>1){const n=Number(t[1])||0;if(n<=0)return a;l.value.forEach((i,d)=>{d!==l.value.length-1&&i.forEach(()=>{a.push({bottom:n})})})}return a});return c({spaces:o,verticalSpaces:s}),()=>{const{tag:t,wrap:a,align:n,justify:i}=e;return g(t,{class:J({[`align-${n}`]:n,[`justify-${i}`]:i,nowrap:!a})},{default:()=>{var d;return[(d=f.default)==null?void 0:d.call(f)]}})}}});const[Z,ee]=I("col"),re={tag:S("div"),span:O(0),offset:h};var te=z({name:Z,props:re,setup(e,{slots:f}){const{parent:u,index:c}=M(j),l=m(()=>{if(!u)return;const{spaces:o,verticalSpaces:s}=u;let t={};if(o&&o.value&&o.value[c.value]){const{left:n,right:i}=o.value[c.value];t={paddingLeft:n?`${n}px`:null,paddingRight:i?`${i}px`:null}}const{bottom:a}=s.value[c.value]||{};return U(t,{marginBottom:a?`${a}px`:null})});return()=>{const{tag:o,span:s,offset:t}=e;return g(o,{style:l.value,class:ee({[s]:s,[`offset-${t}`]:t})},{default:()=>{var a;return[(a=f.default)==null?void 0:a.call(f)]}})}}});const ie=x(te),le=x(X);export{ie as C,oe as I,le as R};
