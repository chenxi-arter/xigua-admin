import{d as ht,e as Es,c as js,a as B,l as Ds,J as Bs,a2 as qi,a3 as Qs,t as Kt,al as Os,a0 as As,aE as _s,I as Zt,w as $s,r as F,Q as Mt,aF as qs,aG as es,an as ri,i as el,aH as Ve,ak as Gt,R as oi,aB as ts,O as is,N as tl,aI as il,P as sl,p as q,q as D,V as Ae,y as k,C as Ee,D as Je,T as Te,x as _e,G as $e,z as te,ah as ss,F as Oe,v as nt,s as He,U as me,ae as Ne,_ as Tt,S as at,W as ls,Y as ll,Z as nl,aD as al}from"./index-CnxCcpFx.js";import{G as rl,a as ol}from"./index-BMuw34wr.js";import{L as dl}from"./index-BegZuqKF.js";import{E as cl}from"./index-CuVZ5q3F.js";import{C as ul}from"./index-DGuvz9pw.js";import{B as bi,f as ml,_ as pl,M as le,V as fi,r as yi,A as Xi,a as hl,b as ft,c as Zl,d as bl,e as fl,L as yl,g as Wi,h as Xl,E as ie,i as A,j as Li,N as Wl,k as Si,l as di,m as Gi,F as Ll,n as Sl,o as ct,p as Ke,q as Gl,s as Vi,S as kt,W as gi,U as Ht,t as yt,u as Vl,D as gl,v as vl,P as Yl,H as xl,w as wl}from"./index.min-KXG9XeQd.js";import{I as Ml}from"./index-KbWV1BFu.js";import{g as Qe}from"./counter-LboKcaDm.js";import{B as Tl}from"./index-rnR5xm3l.js";const Rl=s=>s?.includes("/"),Il=[...As,"round","closeOnPopstate","safeAreaInsetBottom"],Cl={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[Kl,Ye,kl]=js("share-sheet"),Hl=Es({},Qs,{title:String,round:Kt,options:Os(),cancelText:String,description:String,closeOnPopstate:Kt,safeAreaInsetBottom:Kt});var zl=ht({name:Kl,props:Hl,emits:["cancel","select","update:show"],setup(s,{emit:i,slots:l}){const e=m=>i("update:show",m),t=()=>{e(!1),i("cancel")},n=(m,p)=>i("select",m,p),a=()=>{const m=l.title?l.title():s.title,p=l.description?l.description():s.description;if(m||p)return B("div",{class:Ye("header")},[m&&B("h2",{class:Ye("title")},[m]),p&&B("span",{class:Ye("description")},[p])])},o=m=>Rl(m)?B("img",{src:m,class:Ye("image-icon")},null):B("div",{class:Ye("icon",[m])},[B(Zt,{name:Cl[m]||m},null)]),r=(m,p)=>{const{name:h,icon:Z,className:v,description:V}=m;return B("div",{role:"button",tabindex:0,class:[Ye("option"),v,_s],onClick:()=>n(m,p)},[o(Z),h&&B("span",{class:Ye("name")},[h]),V&&B("span",{class:Ye("option-description")},[V])])},d=(m,p)=>B("div",{class:Ye("options",{border:p})},[m.map(r)]),c=()=>{const{options:m}=s;return Array.isArray(m[0])?m.map((p,h)=>d(p,h!==0)):d(m)},u=()=>{var m;const p=(m=s.cancelText)!=null?m:kl("cancel");if(l.cancel||p)return B("button",{type:"button",class:Ye("cancel"),onClick:t},[l.cancel?l.cancel():p])};return()=>B(qi,Ds({class:Ye(),position:"bottom","onUpdate:show":e},Bs(s,Il)),{default:()=>[a(),c(),u()]})}});const Nl=$s(zl),ns="/clear-up.png",as="/clear-on.png";function vi(s){return s!==null&&typeof s=="object"&&"constructor"in s&&s.constructor===Object}function ci(s={},i={}){const l=["__proto__","constructor","prototype"];Object.keys(i).filter(e=>l.indexOf(e)<0).forEach(e=>{typeof s[e]>"u"?s[e]=i[e]:vi(i[e])&&vi(s[e])&&Object.keys(i[e]).length>0&&ci(s[e],i[e])})}const rs={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function et(){const s=typeof document<"u"?document:{};return ci(s,rs),s}const Pl={document:rs,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(s){return typeof setTimeout>"u"?(s(),null):setTimeout(s,0)},cancelAnimationFrame(s){typeof setTimeout>"u"||clearTimeout(s)}};function be(){const s=typeof window<"u"?window:{};return ci(s,Pl),s}function Fl(s=""){return s.trim().split(" ").filter(i=>!!i.trim())}function Jl(s){const i=s;Object.keys(i).forEach(l=>{try{i[l]=null}catch{}try{delete i[l]}catch{}})}function os(s,i=0){return setTimeout(s,i)}function vt(){return Date.now()}function Ul(s){const i=be();let l;return i.getComputedStyle&&(l=i.getComputedStyle(s,null)),!l&&s.currentStyle&&(l=s.currentStyle),l||(l=s.style),l}function El(s,i="x"){const l=be();let e,t,n;const a=Ul(s);return l.WebKitCSSMatrix?(t=a.transform||a.webkitTransform,t.split(",").length>6&&(t=t.split(", ").map(o=>o.replace(",",".")).join(", ")),n=new l.WebKitCSSMatrix(t==="none"?"":t)):(n=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),e=n.toString().split(",")),i==="x"&&(l.WebKitCSSMatrix?t=n.m41:e.length===16?t=parseFloat(e[12]):t=parseFloat(e[4])),i==="y"&&(l.WebKitCSSMatrix?t=n.m42:e.length===16?t=parseFloat(e[13]):t=parseFloat(e[5])),t||0}function Xt(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"}function jl(s){return typeof window<"u"&&typeof window.HTMLElement<"u"?s instanceof HTMLElement:s&&(s.nodeType===1||s.nodeType===11)}function Ge(...s){const i=Object(s[0]),l=["__proto__","constructor","prototype"];for(let e=1;e<s.length;e+=1){const t=s[e];if(t!=null&&!jl(t)){const n=Object.keys(Object(t)).filter(a=>l.indexOf(a)<0);for(let a=0,o=n.length;a<o;a+=1){const r=n[a],d=Object.getOwnPropertyDescriptor(t,r);d!==void 0&&d.enumerable&&(Xt(i[r])&&Xt(t[r])?t[r].__swiper__?i[r]=t[r]:Ge(i[r],t[r]):!Xt(i[r])&&Xt(t[r])?(i[r]={},t[r].__swiper__?i[r]=t[r]:Ge(i[r],t[r])):i[r]=t[r])}}}return i}function Wt(s,i,l){s.style.setProperty(i,l)}function ds({swiper:s,targetPosition:i,side:l}){const e=be(),t=-s.translate;let n=null,a;const o=s.params.speed;s.wrapperEl.style.scrollSnapType="none",e.cancelAnimationFrame(s.cssModeFrameID);const r=i>t?"next":"prev",d=(u,m)=>r==="next"&&u>=m||r==="prev"&&u<=m,c=()=>{a=new Date().getTime(),n===null&&(n=a);const u=Math.max(Math.min((a-n)/o,1),0),m=.5-Math.cos(u*Math.PI)/2;let p=t+m*(i-t);if(d(p,i)&&(p=i),s.wrapperEl.scrollTo({[l]:p}),d(p,i)){s.wrapperEl.style.overflow="hidden",s.wrapperEl.style.scrollSnapType="",setTimeout(()=>{s.wrapperEl.style.overflow="",s.wrapperEl.scrollTo({[l]:p})}),e.cancelAnimationFrame(s.cssModeFrameID);return}s.cssModeFrameID=e.requestAnimationFrame(c)};c()}function Pe(s,i=""){const l=be(),e=[...s.children];return l.HTMLSlotElement&&s instanceof HTMLSlotElement&&e.push(...s.assignedElements()),i?e.filter(t=>t.matches(i)):e}function Dl(s,i){const l=[i];for(;l.length>0;){const e=l.shift();if(s===e)return!0;l.push(...e.children,...e.shadowRoot?e.shadowRoot.children:[],...e.assignedElements?e.assignedElements():[])}}function Bl(s,i){const l=be();let e=i.contains(s);return!e&&l.HTMLSlotElement&&i instanceof HTMLSlotElement&&(e=[...i.assignedElements()].includes(s),e||(e=Dl(s,i))),e}function Yt(s){try{console.warn(s);return}catch{}}function Ot(s,i=[]){const l=document.createElement(s);return l.classList.add(...Array.isArray(i)?i:Fl(i)),l}function Ql(s,i){const l=[];for(;s.previousElementSibling;){const e=s.previousElementSibling;i?e.matches(i)&&l.push(e):l.push(e),s=e}return l}function Ol(s,i){const l=[];for(;s.nextElementSibling;){const e=s.nextElementSibling;i?e.matches(i)&&l.push(e):l.push(e),s=e}return l}function je(s,i){return be().getComputedStyle(s,null).getPropertyValue(i)}function Yi(s){let i=s,l;if(i){for(l=0;(i=i.previousSibling)!==null;)i.nodeType===1&&(l+=1);return l}}function Al(s,i){const l=[];let e=s.parentElement;for(;e;)l.push(e),e=e.parentElement;return l}function xi(s,i,l){const e=be();return s[i==="width"?"offsetWidth":"offsetHeight"]+parseFloat(e.getComputedStyle(s,null).getPropertyValue(i==="width"?"margin-right":"margin-top"))+parseFloat(e.getComputedStyle(s,null).getPropertyValue(i==="width"?"margin-left":"margin-bottom"))}function wi(s,i=""){typeof trustedTypes<"u"?s.innerHTML=trustedTypes.createPolicy("html",{createHTML:l=>l}).createHTML(i):s.innerHTML=i}let zt;function _l(){const s=be(),i=et();return{smoothScroll:i.documentElement&&i.documentElement.style&&"scrollBehavior"in i.documentElement.style,touch:!!("ontouchstart"in s||s.DocumentTouch&&i instanceof s.DocumentTouch)}}function cs(){return zt||(zt=_l()),zt}let Nt;function $l({userAgent:s}={}){const i=cs(),l=be(),e=l.navigator.platform,t=s||l.navigator.userAgent,n={ios:!1,android:!1},a=l.screen.width,o=l.screen.height,r=t.match(/(Android);?[\s\/]+([\d.]+)?/);let d=t.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const c=t.match(/(iPod)(.*OS\s([\d_]+))?/),u=!d&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=e==="Win32";let p=e==="MacIntel";const h=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&p&&i.touch&&h.indexOf(`${a}x${o}`)>=0&&(d=t.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),p=!1),r&&!m&&(n.os="android",n.android=!0),(d||u||c)&&(n.os="ios",n.ios=!0),n}function us(s={}){return Nt||(Nt=$l(s)),Nt}let Pt;function ql(){const s=be(),i=us();let l=!1;function e(){const o=s.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(e()){const o=String(s.navigator.userAgent);if(o.includes("Version/")){const[r,d]=o.split("Version/")[1].split(" ")[0].split(".").map(c=>Number(c));l=r<16||r===16&&d<2}}const t=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(s.navigator.userAgent),n=e(),a=n||t&&i.ios;return{isSafari:l||n,needPerspectiveFix:l,need3dFix:a,isWebView:t}}function ms(){return Pt||(Pt=ql()),Pt}function en({swiper:s,on:i,emit:l}){const e=be();let t=null,n=null;const a=()=>{!s||s.destroyed||!s.initialized||(l("beforeResize"),l("resize"))},o=()=>{!s||s.destroyed||!s.initialized||(t=new ResizeObserver(c=>{n=e.requestAnimationFrame(()=>{const{width:u,height:m}=s;let p=u,h=m;c.forEach(({contentBoxSize:Z,contentRect:v,target:V})=>{V&&V!==s.el||(p=v?v.width:(Z[0]||Z).inlineSize,h=v?v.height:(Z[0]||Z).blockSize)}),(p!==u||h!==m)&&a()})}),t.observe(s.el))},r=()=>{n&&e.cancelAnimationFrame(n),t&&t.unobserve&&s.el&&(t.unobserve(s.el),t=null)},d=()=>{!s||s.destroyed||!s.initialized||l("orientationchange")};i("init",()=>{if(s.params.resizeObserver&&typeof e.ResizeObserver<"u"){o();return}e.addEventListener("resize",a),e.addEventListener("orientationchange",d)}),i("destroy",()=>{r(),e.removeEventListener("resize",a),e.removeEventListener("orientationchange",d)})}function tn({swiper:s,extendParams:i,on:l,emit:e}){const t=[],n=be(),a=(d,c={})=>{const u=n.MutationObserver||n.WebkitMutationObserver,m=new u(p=>{if(s.__preventObserver__)return;if(p.length===1){e("observerUpdate",p[0]);return}const h=function(){e("observerUpdate",p[0])};n.requestAnimationFrame?n.requestAnimationFrame(h):n.setTimeout(h,0)});m.observe(d,{attributes:typeof c.attributes>"u"?!0:c.attributes,childList:s.isElement||(typeof c.childList>"u"?!0:c).childList,characterData:typeof c.characterData>"u"?!0:c.characterData}),t.push(m)},o=()=>{if(s.params.observer){if(s.params.observeParents){const d=Al(s.hostEl);for(let c=0;c<d.length;c+=1)a(d[c])}a(s.hostEl,{childList:s.params.observeSlideChildren}),a(s.wrapperEl,{attributes:!1})}},r=()=>{t.forEach(d=>{d.disconnect()}),t.splice(0,t.length)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),l("init",o),l("destroy",r)}var sn={on(s,i,l){const e=this;if(!e.eventsListeners||e.destroyed||typeof i!="function")return e;const t=l?"unshift":"push";return s.split(" ").forEach(n=>{e.eventsListeners[n]||(e.eventsListeners[n]=[]),e.eventsListeners[n][t](i)}),e},once(s,i,l){const e=this;if(!e.eventsListeners||e.destroyed||typeof i!="function")return e;function t(...n){e.off(s,t),t.__emitterProxy&&delete t.__emitterProxy,i.apply(e,n)}return t.__emitterProxy=i,e.on(s,t,l)},onAny(s,i){const l=this;if(!l.eventsListeners||l.destroyed||typeof s!="function")return l;const e=i?"unshift":"push";return l.eventsAnyListeners.indexOf(s)<0&&l.eventsAnyListeners[e](s),l},offAny(s){const i=this;if(!i.eventsListeners||i.destroyed||!i.eventsAnyListeners)return i;const l=i.eventsAnyListeners.indexOf(s);return l>=0&&i.eventsAnyListeners.splice(l,1),i},off(s,i){const l=this;return!l.eventsListeners||l.destroyed||!l.eventsListeners||s.split(" ").forEach(e=>{typeof i>"u"?l.eventsListeners[e]=[]:l.eventsListeners[e]&&l.eventsListeners[e].forEach((t,n)=>{(t===i||t.__emitterProxy&&t.__emitterProxy===i)&&l.eventsListeners[e].splice(n,1)})}),l},emit(...s){const i=this;if(!i.eventsListeners||i.destroyed||!i.eventsListeners)return i;let l,e,t;return typeof s[0]=="string"||Array.isArray(s[0])?(l=s[0],e=s.slice(1,s.length),t=i):(l=s[0].events,e=s[0].data,t=s[0].context||i),e.unshift(t),(Array.isArray(l)?l:l.split(" ")).forEach(a=>{i.eventsAnyListeners&&i.eventsAnyListeners.length&&i.eventsAnyListeners.forEach(o=>{o.apply(t,[a,...e])}),i.eventsListeners&&i.eventsListeners[a]&&i.eventsListeners[a].forEach(o=>{o.apply(t,e)})}),i}};function ln(){const s=this;let i,l;const e=s.el;typeof s.params.width<"u"&&s.params.width!==null?i=s.params.width:i=e.clientWidth,typeof s.params.height<"u"&&s.params.height!==null?l=s.params.height:l=e.clientHeight,!(i===0&&s.isHorizontal()||l===0&&s.isVertical())&&(i=i-parseInt(je(e,"padding-left")||0,10)-parseInt(je(e,"padding-right")||0,10),l=l-parseInt(je(e,"padding-top")||0,10)-parseInt(je(e,"padding-bottom")||0,10),Number.isNaN(i)&&(i=0),Number.isNaN(l)&&(l=0),Object.assign(s,{width:i,height:l,size:s.isHorizontal()?i:l}))}function nn(){const s=this;function i(C,I){return parseFloat(C.getPropertyValue(s.getDirectionLabel(I))||0)}const l=s.params,{wrapperEl:e,slidesEl:t,rtlTranslate:n,wrongRTL:a}=s,o=s.virtual&&l.virtual.enabled,r=o?s.virtual.slides.length:s.slides.length,d=Pe(t,`.${s.params.slideClass}, swiper-slide`),c=o?s.virtual.slides.length:d.length;let u=[];const m=[],p=[];let h=l.slidesOffsetBefore;typeof h=="function"&&(h=l.slidesOffsetBefore.call(s));let Z=l.slidesOffsetAfter;typeof Z=="function"&&(Z=l.slidesOffsetAfter.call(s));const v=s.snapGrid.length,V=s.slidesGrid.length,L=s.size-h-Z;let Y=l.spaceBetween,g=-h,X=0,G=0;if(typeof L>"u")return;typeof Y=="string"&&Y.indexOf("%")>=0?Y=parseFloat(Y.replace("%",""))/100*L:typeof Y=="string"&&(Y=parseFloat(Y)),s.virtualSize=-Y-h-Z,d.forEach(C=>{n?C.style.marginLeft="":C.style.marginRight="",C.style.marginBottom="",C.style.marginTop=""}),l.centeredSlides&&l.cssMode&&(Wt(e,"--swiper-centered-offset-before",""),Wt(e,"--swiper-centered-offset-after",""));const S=l.grid&&l.grid.rows>1&&s.grid;S?s.grid.initSlides(d):s.grid&&s.grid.unsetSlides();let b;const H=l.slidesPerView==="auto"&&l.breakpoints&&Object.keys(l.breakpoints).filter(C=>typeof l.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<c;C+=1){b=0;const I=d[C];if(!(I&&(S&&s.grid.updateSlide(C,I,d),je(I,"display")==="none"))){if(o&&l.slidesPerView==="auto")l.virtual.slidesPerViewAutoSlideSize&&(b=l.virtual.slidesPerViewAutoSlideSize),b&&I&&(l.roundLengths&&(b=Math.floor(b)),I.style[s.getDirectionLabel("width")]=`${b}px`);else if(l.slidesPerView==="auto"){H&&(I.style[s.getDirectionLabel("width")]="");const f=getComputedStyle(I),y=I.style.transform,W=I.style.webkitTransform;if(y&&(I.style.transform="none"),W&&(I.style.webkitTransform="none"),l.roundLengths)b=s.isHorizontal()?xi(I,"width"):xi(I,"height");else{const w=i(f,"width"),x=i(f,"padding-left"),T=i(f,"padding-right"),M=i(f,"margin-left"),P=i(f,"margin-right"),K=f.getPropertyValue("box-sizing");if(K&&K==="border-box")b=w+M+P;else{const{clientWidth:E,offsetWidth:ee}=I;b=w+x+T+M+P+(ee-E)}}y&&(I.style.transform=y),W&&(I.style.webkitTransform=W),l.roundLengths&&(b=Math.floor(b))}else b=(L-(l.slidesPerView-1)*Y)/l.slidesPerView,l.roundLengths&&(b=Math.floor(b)),I&&(I.style[s.getDirectionLabel("width")]=`${b}px`);I&&(I.swiperSlideSize=b),p.push(b),l.centeredSlides?(g=g+b/2+X/2+Y,X===0&&C!==0&&(g=g-L/2-Y),C===0&&(g=g-L/2-Y),Math.abs(g)<1/1e3&&(g=0),l.roundLengths&&(g=Math.floor(g)),G%l.slidesPerGroup===0&&u.push(g),m.push(g)):(l.roundLengths&&(g=Math.floor(g)),(G-Math.min(s.params.slidesPerGroupSkip,G))%s.params.slidesPerGroup===0&&u.push(g),m.push(g),g=g+b+Y),s.virtualSize+=b+Y,X=b,G+=1}}if(s.virtualSize=Math.max(s.virtualSize,L)+Z,n&&a&&(l.effect==="slide"||l.effect==="coverflow")&&(e.style.width=`${s.virtualSize+Y}px`),l.setWrapperSize&&(e.style[s.getDirectionLabel("width")]=`${s.virtualSize+Y}px`),S&&s.grid.updateWrapperSize(b,u),!l.centeredSlides){const C=[];for(let I=0;I<u.length;I+=1){let f=u[I];l.roundLengths&&(f=Math.floor(f)),u[I]<=s.virtualSize-L&&C.push(f)}u=C,Math.floor(s.virtualSize-L)-Math.floor(u[u.length-1])>1&&u.push(s.virtualSize-L)}if(o&&l.loop){const C=p[0]+Y;if(l.slidesPerGroup>1){const I=Math.ceil((s.virtual.slidesBefore+s.virtual.slidesAfter)/l.slidesPerGroup),f=C*l.slidesPerGroup;for(let y=0;y<I;y+=1)u.push(u[u.length-1]+f)}for(let I=0;I<s.virtual.slidesBefore+s.virtual.slidesAfter;I+=1)l.slidesPerGroup===1&&u.push(u[u.length-1]+C),m.push(m[m.length-1]+C),s.virtualSize+=C}if(u.length===0&&(u=[0]),Y!==0){const C=s.isHorizontal()&&n?"marginLeft":s.getDirectionLabel("marginRight");d.filter((I,f)=>!l.cssMode||l.loop?!0:f!==d.length-1).forEach(I=>{I.style[C]=`${Y}px`})}if(l.centeredSlides&&l.centeredSlidesBounds){let C=0;p.forEach(f=>{C+=f+(Y||0)}),C-=Y;const I=C>L?C-L:0;u=u.map(f=>f<=0?-h:f>I?I+Z:f)}if(l.centerInsufficientSlides){let C=0;p.forEach(f=>{C+=f+(Y||0)}),C-=Y;const I=(h||0)+(Z||0);if(C+I<L){const f=(L-C-I)/2;u.forEach((y,W)=>{u[W]=y-f}),m.forEach((y,W)=>{m[W]=y+f})}}if(Object.assign(s,{slides:d,snapGrid:u,slidesGrid:m,slidesSizesGrid:p}),l.centeredSlides&&l.cssMode&&!l.centeredSlidesBounds){Wt(e,"--swiper-centered-offset-before",`${-u[0]}px`),Wt(e,"--swiper-centered-offset-after",`${s.size/2-p[p.length-1]/2}px`);const C=-s.snapGrid[0],I=-s.slidesGrid[0];s.snapGrid=s.snapGrid.map(f=>f+C),s.slidesGrid=s.slidesGrid.map(f=>f+I)}if(c!==r&&s.emit("slidesLengthChange"),u.length!==v&&(s.params.watchOverflow&&s.checkOverflow(),s.emit("snapGridLengthChange")),m.length!==V&&s.emit("slidesGridLengthChange"),l.watchSlidesProgress&&s.updateSlidesOffset(),s.emit("slidesUpdated"),!o&&!l.cssMode&&(l.effect==="slide"||l.effect==="fade")){const C=`${l.containerModifierClass}backface-hidden`,I=s.el.classList.contains(C);c<=l.maxBackfaceHiddenSlides?I||s.el.classList.add(C):I&&s.el.classList.remove(C)}}function an(s){const i=this,l=[],e=i.virtual&&i.params.virtual.enabled;let t=0,n;typeof s=="number"?i.setTransition(s):s===!0&&i.setTransition(i.params.speed);const a=o=>e?i.slides[i.getSlideIndexByData(o)]:i.slides[o];if(i.params.slidesPerView!=="auto"&&i.params.slidesPerView>1)if(i.params.centeredSlides)(i.visibleSlides||[]).forEach(o=>{l.push(o)});else for(n=0;n<Math.ceil(i.params.slidesPerView);n+=1){const o=i.activeIndex+n;if(o>i.slides.length&&!e)break;l.push(a(o))}else l.push(a(i.activeIndex));for(n=0;n<l.length;n+=1)if(typeof l[n]<"u"){const o=l[n].offsetHeight;t=o>t?o:t}(t||t===0)&&(i.wrapperEl.style.height=`${t}px`)}function rn(){const s=this,i=s.slides,l=s.isElement?s.isHorizontal()?s.wrapperEl.offsetLeft:s.wrapperEl.offsetTop:0;for(let e=0;e<i.length;e+=1)i[e].swiperSlideOffset=(s.isHorizontal()?i[e].offsetLeft:i[e].offsetTop)-l-s.cssOverflowAdjustment()}const Mi=(s,i,l)=>{i&&!s.classList.contains(l)?s.classList.add(l):!i&&s.classList.contains(l)&&s.classList.remove(l)};function on(s=this&&this.translate||0){const i=this,l=i.params,{slides:e,rtlTranslate:t,snapGrid:n}=i;if(e.length===0)return;typeof e[0].swiperSlideOffset>"u"&&i.updateSlidesOffset();let a=-s;t&&(a=s),i.visibleSlidesIndexes=[],i.visibleSlides=[];let o=l.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*i.size:typeof o=="string"&&(o=parseFloat(o));for(let r=0;r<e.length;r+=1){const d=e[r];let c=d.swiperSlideOffset;l.cssMode&&l.centeredSlides&&(c-=e[0].swiperSlideOffset);const u=(a+(l.centeredSlides?i.minTranslate():0)-c)/(d.swiperSlideSize+o),m=(a-n[0]+(l.centeredSlides?i.minTranslate():0)-c)/(d.swiperSlideSize+o),p=-(a-c),h=p+i.slidesSizesGrid[r],Z=p>=0&&p<=i.size-i.slidesSizesGrid[r],v=p>=0&&p<i.size-1||h>1&&h<=i.size||p<=0&&h>=i.size;v&&(i.visibleSlides.push(d),i.visibleSlidesIndexes.push(r)),Mi(d,v,l.slideVisibleClass),Mi(d,Z,l.slideFullyVisibleClass),d.progress=t?-u:u,d.originalProgress=t?-m:m}}function dn(s){const i=this;if(typeof s>"u"){const c=i.rtlTranslate?-1:1;s=i&&i.translate&&i.translate*c||0}const l=i.params,e=i.maxTranslate()-i.minTranslate();let{progress:t,isBeginning:n,isEnd:a,progressLoop:o}=i;const r=n,d=a;if(e===0)t=0,n=!0,a=!0;else{t=(s-i.minTranslate())/e;const c=Math.abs(s-i.minTranslate())<1,u=Math.abs(s-i.maxTranslate())<1;n=c||t<=0,a=u||t>=1,c&&(t=0),u&&(t=1)}if(l.loop){const c=i.getSlideIndexByData(0),u=i.getSlideIndexByData(i.slides.length-1),m=i.slidesGrid[c],p=i.slidesGrid[u],h=i.slidesGrid[i.slidesGrid.length-1],Z=Math.abs(s);Z>=m?o=(Z-m)/h:o=(Z+h-p)/h,o>1&&(o-=1)}Object.assign(i,{progress:t,progressLoop:o,isBeginning:n,isEnd:a}),(l.watchSlidesProgress||l.centeredSlides&&l.autoHeight)&&i.updateSlidesProgress(s),n&&!r&&i.emit("reachBeginning toEdge"),a&&!d&&i.emit("reachEnd toEdge"),(r&&!n||d&&!a)&&i.emit("fromEdge"),i.emit("progress",t)}const Ft=(s,i,l)=>{i&&!s.classList.contains(l)?s.classList.add(l):!i&&s.classList.contains(l)&&s.classList.remove(l)};function cn(){const s=this,{slides:i,params:l,slidesEl:e,activeIndex:t}=s,n=s.virtual&&l.virtual.enabled,a=s.grid&&l.grid&&l.grid.rows>1,o=u=>Pe(e,`.${l.slideClass}${u}, swiper-slide${u}`)[0];let r,d,c;if(n)if(l.loop){let u=t-s.virtual.slidesBefore;u<0&&(u=s.virtual.slides.length+u),u>=s.virtual.slides.length&&(u-=s.virtual.slides.length),r=o(`[data-swiper-slide-index="${u}"]`)}else r=o(`[data-swiper-slide-index="${t}"]`);else a?(r=i.find(u=>u.column===t),c=i.find(u=>u.column===t+1),d=i.find(u=>u.column===t-1)):r=i[t];r&&(a||(c=Ol(r,`.${l.slideClass}, swiper-slide`)[0],l.loop&&!c&&(c=i[0]),d=Ql(r,`.${l.slideClass}, swiper-slide`)[0],l.loop&&!d===0&&(d=i[i.length-1]))),i.forEach(u=>{Ft(u,u===r,l.slideActiveClass),Ft(u,u===c,l.slideNextClass),Ft(u,u===d,l.slidePrevClass)}),s.emitSlidesClasses()}const Vt=(s,i)=>{if(!s||s.destroyed||!s.params)return;const l=()=>s.isElement?"swiper-slide":`.${s.params.slideClass}`,e=i.closest(l());if(e){let t=e.querySelector(`.${s.params.lazyPreloaderClass}`);!t&&s.isElement&&(e.shadowRoot?t=e.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{e.shadowRoot&&(t=e.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`),t&&t.remove())})),t&&t.remove()}},Jt=(s,i)=>{if(!s.slides[i])return;const l=s.slides[i].querySelector('[loading="lazy"]');l&&l.removeAttribute("loading")},At=s=>{if(!s||s.destroyed||!s.params)return;let i=s.params.lazyPreloadPrevNext;const l=s.slides.length;if(!l||!i||i<0)return;i=Math.min(i,l);const e=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(s.params.slidesPerView),t=s.activeIndex;if(s.params.grid&&s.params.grid.rows>1){const a=t,o=[a-i];o.push(...Array.from({length:i}).map((r,d)=>a+e+d)),s.slides.forEach((r,d)=>{o.includes(r.column)&&Jt(s,d)});return}const n=t+e-1;if(s.params.rewind||s.params.loop)for(let a=t-i;a<=n+i;a+=1){const o=(a%l+l)%l;(o<t||o>n)&&Jt(s,o)}else for(let a=Math.max(t-i,0);a<=Math.min(n+i,l-1);a+=1)a!==t&&(a>n||a<t)&&Jt(s,a)};function un(s){const{slidesGrid:i,params:l}=s,e=s.rtlTranslate?s.translate:-s.translate;let t;for(let n=0;n<i.length;n+=1)typeof i[n+1]<"u"?e>=i[n]&&e<i[n+1]-(i[n+1]-i[n])/2?t=n:e>=i[n]&&e<i[n+1]&&(t=n+1):e>=i[n]&&(t=n);return l.normalizeSlideIndex&&(t<0||typeof t>"u")&&(t=0),t}function mn(s){const i=this,l=i.rtlTranslate?i.translate:-i.translate,{snapGrid:e,params:t,activeIndex:n,realIndex:a,snapIndex:o}=i;let r=s,d;const c=p=>{let h=p-i.virtual.slidesBefore;return h<0&&(h=i.virtual.slides.length+h),h>=i.virtual.slides.length&&(h-=i.virtual.slides.length),h};if(typeof r>"u"&&(r=un(i)),e.indexOf(l)>=0)d=e.indexOf(l);else{const p=Math.min(t.slidesPerGroupSkip,r);d=p+Math.floor((r-p)/t.slidesPerGroup)}if(d>=e.length&&(d=e.length-1),r===n&&!i.params.loop){d!==o&&(i.snapIndex=d,i.emit("snapIndexChange"));return}if(r===n&&i.params.loop&&i.virtual&&i.params.virtual.enabled){i.realIndex=c(r);return}const u=i.grid&&t.grid&&t.grid.rows>1;let m;if(i.virtual&&t.virtual.enabled&&t.loop)m=c(r);else if(u){const p=i.slides.find(Z=>Z.column===r);let h=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(h)&&(h=Math.max(i.slides.indexOf(p),0)),m=Math.floor(h/t.grid.rows)}else if(i.slides[r]){const p=i.slides[r].getAttribute("data-swiper-slide-index");p?m=parseInt(p,10):m=r}else m=r;Object.assign(i,{previousSnapIndex:o,snapIndex:d,previousRealIndex:a,realIndex:m,previousIndex:n,activeIndex:r}),i.initialized&&At(i),i.emit("activeIndexChange"),i.emit("snapIndexChange"),(i.initialized||i.params.runCallbacksOnInit)&&(a!==m&&i.emit("realIndexChange"),i.emit("slideChange"))}function pn(s,i){const l=this,e=l.params;let t=s.closest(`.${e.slideClass}, swiper-slide`);!t&&l.isElement&&i&&i.length>1&&i.includes(s)&&[...i.slice(i.indexOf(s)+1,i.length)].forEach(o=>{!t&&o.matches&&o.matches(`.${e.slideClass}, swiper-slide`)&&(t=o)});let n=!1,a;if(t){for(let o=0;o<l.slides.length;o+=1)if(l.slides[o]===t){n=!0,a=o;break}}if(t&&n)l.clickedSlide=t,l.virtual&&l.params.virtual.enabled?l.clickedIndex=parseInt(t.getAttribute("data-swiper-slide-index"),10):l.clickedIndex=a;else{l.clickedSlide=void 0,l.clickedIndex=void 0;return}e.slideToClickedSlide&&l.clickedIndex!==void 0&&l.clickedIndex!==l.activeIndex&&l.slideToClickedSlide()}var hn={updateSize:ln,updateSlides:nn,updateAutoHeight:an,updateSlidesOffset:rn,updateSlidesProgress:on,updateProgress:dn,updateSlidesClasses:cn,updateActiveIndex:mn,updateClickedSlide:pn};function Zn(s=this.isHorizontal()?"x":"y"){const i=this,{params:l,rtlTranslate:e,translate:t,wrapperEl:n}=i;if(l.virtualTranslate)return e?-t:t;if(l.cssMode)return t;let a=El(n,s);return a+=i.cssOverflowAdjustment(),e&&(a=-a),a||0}function bn(s,i){const l=this,{rtlTranslate:e,params:t,wrapperEl:n,progress:a}=l;let o=0,r=0;const d=0;l.isHorizontal()?o=e?-s:s:r=s,t.roundLengths&&(o=Math.floor(o),r=Math.floor(r)),l.previousTranslate=l.translate,l.translate=l.isHorizontal()?o:r,t.cssMode?n[l.isHorizontal()?"scrollLeft":"scrollTop"]=l.isHorizontal()?-o:-r:t.virtualTranslate||(l.isHorizontal()?o-=l.cssOverflowAdjustment():r-=l.cssOverflowAdjustment(),n.style.transform=`translate3d(${o}px, ${r}px, ${d}px)`);let c;const u=l.maxTranslate()-l.minTranslate();u===0?c=0:c=(s-l.minTranslate())/u,c!==a&&l.updateProgress(s),l.emit("setTranslate",l.translate,i)}function fn(){return-this.snapGrid[0]}function yn(){return-this.snapGrid[this.snapGrid.length-1]}function Xn(s=0,i=this.params.speed,l=!0,e=!0,t){const n=this,{params:a,wrapperEl:o}=n;if(n.animating&&a.preventInteractionOnTransition)return!1;const r=n.minTranslate(),d=n.maxTranslate();let c;if(e&&s>r?c=r:e&&s<d?c=d:c=s,n.updateProgress(c),a.cssMode){const u=n.isHorizontal();if(i===0)o[u?"scrollLeft":"scrollTop"]=-c;else{if(!n.support.smoothScroll)return ds({swiper:n,targetPosition:-c,side:u?"left":"top"}),!0;o.scrollTo({[u?"left":"top"]:-c,behavior:"smooth"})}return!0}return i===0?(n.setTransition(0),n.setTranslate(c),l&&(n.emit("beforeTransitionStart",i,t),n.emit("transitionEnd"))):(n.setTransition(i),n.setTranslate(c),l&&(n.emit("beforeTransitionStart",i,t),n.emit("transitionStart")),n.animating||(n.animating=!0,n.onTranslateToWrapperTransitionEnd||(n.onTranslateToWrapperTransitionEnd=function(m){!n||n.destroyed||m.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.onTranslateToWrapperTransitionEnd=null,delete n.onTranslateToWrapperTransitionEnd,n.animating=!1,l&&n.emit("transitionEnd"))}),n.wrapperEl.addEventListener("transitionend",n.onTranslateToWrapperTransitionEnd))),!0}var Wn={getTranslate:Zn,setTranslate:bn,minTranslate:fn,maxTranslate:yn,translateTo:Xn};function Ln(s,i){const l=this;l.params.cssMode||(l.wrapperEl.style.transitionDuration=`${s}ms`,l.wrapperEl.style.transitionDelay=s===0?"0ms":""),l.emit("setTransition",s,i)}function ps({swiper:s,runCallbacks:i,direction:l,step:e}){const{activeIndex:t,previousIndex:n}=s;let a=l;a||(t>n?a="next":t<n?a="prev":a="reset"),s.emit(`transition${e}`),i&&a==="reset"?s.emit(`slideResetTransition${e}`):i&&t!==n&&(s.emit(`slideChangeTransition${e}`),a==="next"?s.emit(`slideNextTransition${e}`):s.emit(`slidePrevTransition${e}`))}function Sn(s=!0,i){const l=this,{params:e}=l;e.cssMode||(e.autoHeight&&l.updateAutoHeight(),ps({swiper:l,runCallbacks:s,direction:i,step:"Start"}))}function Gn(s=!0,i){const l=this,{params:e}=l;l.animating=!1,!e.cssMode&&(l.setTransition(0),ps({swiper:l,runCallbacks:s,direction:i,step:"End"}))}var Vn={setTransition:Ln,transitionStart:Sn,transitionEnd:Gn};function gn(s=0,i,l=!0,e,t){typeof s=="string"&&(s=parseInt(s,10));const n=this;let a=s;a<0&&(a=0);const{params:o,snapGrid:r,slidesGrid:d,previousIndex:c,activeIndex:u,rtlTranslate:m,wrapperEl:p,enabled:h}=n;if(!h&&!e&&!t||n.destroyed||n.animating&&o.preventInteractionOnTransition)return!1;typeof i>"u"&&(i=n.params.speed);const Z=Math.min(n.params.slidesPerGroupSkip,a);let v=Z+Math.floor((a-Z)/n.params.slidesPerGroup);v>=r.length&&(v=r.length-1);const V=-r[v];if(o.normalizeSlideIndex)for(let S=0;S<d.length;S+=1){const b=-Math.floor(V*100),H=Math.floor(d[S]*100),C=Math.floor(d[S+1]*100);typeof d[S+1]<"u"?b>=H&&b<C-(C-H)/2?a=S:b>=H&&b<C&&(a=S+1):b>=H&&(a=S)}if(n.initialized&&a!==u&&(!n.allowSlideNext&&(m?V>n.translate&&V>n.minTranslate():V<n.translate&&V<n.minTranslate())||!n.allowSlidePrev&&V>n.translate&&V>n.maxTranslate()&&(u||0)!==a))return!1;a!==(c||0)&&l&&n.emit("beforeSlideChangeStart"),n.updateProgress(V);let L;a>u?L="next":a<u?L="prev":L="reset";const Y=n.virtual&&n.params.virtual.enabled;if(!(Y&&t)&&(m&&-V===n.translate||!m&&V===n.translate))return n.updateActiveIndex(a),o.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),o.effect!=="slide"&&n.setTranslate(V),L!=="reset"&&(n.transitionStart(l,L),n.transitionEnd(l,L)),!1;if(o.cssMode){const S=n.isHorizontal(),b=m?V:-V;if(i===0)Y&&(n.wrapperEl.style.scrollSnapType="none",n._immediateVirtual=!0),Y&&!n._cssModeVirtualInitialSet&&n.params.initialSlide>0?(n._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[S?"scrollLeft":"scrollTop"]=b})):p[S?"scrollLeft":"scrollTop"]=b,Y&&requestAnimationFrame(()=>{n.wrapperEl.style.scrollSnapType="",n._immediateVirtual=!1});else{if(!n.support.smoothScroll)return ds({swiper:n,targetPosition:b,side:S?"left":"top"}),!0;p.scrollTo({[S?"left":"top"]:b,behavior:"smooth"})}return!0}const G=ms().isSafari;return Y&&!t&&G&&n.isElement&&n.virtual.update(!1,!1,a),n.setTransition(i),n.setTranslate(V),n.updateActiveIndex(a),n.updateSlidesClasses(),n.emit("beforeTransitionStart",i,e),n.transitionStart(l,L),i===0?n.transitionEnd(l,L):n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(b){!n||n.destroyed||b.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(l,L))}),n.wrapperEl.addEventListener("transitionend",n.onSlideToWrapperTransitionEnd)),!0}function vn(s=0,i,l=!0,e){typeof s=="string"&&(s=parseInt(s,10));const t=this;if(t.destroyed)return;typeof i>"u"&&(i=t.params.speed);const n=t.grid&&t.params.grid&&t.params.grid.rows>1;let a=s;if(t.params.loop)if(t.virtual&&t.params.virtual.enabled)a=a+t.virtual.slidesBefore;else{let o;if(n){const Z=a*t.params.grid.rows;o=t.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===Z).column}else o=t.getSlideIndexByData(a);const r=n?Math.ceil(t.slides.length/t.params.grid.rows):t.slides.length,{centeredSlides:d,slidesOffsetBefore:c,slidesOffsetAfter:u}=t.params,m=d||!!c||!!u;let p=t.params.slidesPerView;p==="auto"?p=t.slidesPerViewDynamic():(p=Math.ceil(parseFloat(t.params.slidesPerView,10)),m&&p%2===0&&(p=p+1));let h=r-o<p;if(m&&(h=h||o<Math.ceil(p/2)),e&&m&&t.params.slidesPerView!=="auto"&&!n&&(h=!1),h){const Z=m?o<t.activeIndex?"prev":"next":o-t.activeIndex-1<t.params.slidesPerView?"next":"prev";t.loopFix({direction:Z,slideTo:!0,activeSlideIndex:Z==="next"?o+1:o-r+1,slideRealIndex:Z==="next"?t.realIndex:void 0})}if(n){const Z=a*t.params.grid.rows;a=t.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===Z).column}else a=t.getSlideIndexByData(a)}return requestAnimationFrame(()=>{t.slideTo(a,i,l,e)}),t}function Yn(s,i=!0,l){const e=this,{enabled:t,params:n,animating:a}=e;if(!t||e.destroyed)return e;typeof s>"u"&&(s=e.params.speed);let o=n.slidesPerGroup;n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(o=Math.max(e.slidesPerViewDynamic("current",!0),1));const r=e.activeIndex<n.slidesPerGroupSkip?1:o,d=e.virtual&&n.virtual.enabled;if(n.loop){if(a&&!d&&n.loopPreventsSliding)return!1;if(e.loopFix({direction:"next"}),e._clientLeft=e.wrapperEl.clientLeft,e.activeIndex===e.slides.length-1&&n.cssMode)return requestAnimationFrame(()=>{e.slideTo(e.activeIndex+r,s,i,l)}),!0}return n.rewind&&e.isEnd?e.slideTo(0,s,i,l):e.slideTo(e.activeIndex+r,s,i,l)}function xn(s,i=!0,l){const e=this,{params:t,snapGrid:n,slidesGrid:a,rtlTranslate:o,enabled:r,animating:d}=e;if(!r||e.destroyed)return e;typeof s>"u"&&(s=e.params.speed);const c=e.virtual&&t.virtual.enabled;if(t.loop){if(d&&!c&&t.loopPreventsSliding)return!1;e.loopFix({direction:"prev"}),e._clientLeft=e.wrapperEl.clientLeft}const u=o?e.translate:-e.translate;function m(L){return L<0?-Math.floor(Math.abs(L)):Math.floor(L)}const p=m(u),h=n.map(L=>m(L)),Z=t.freeMode&&t.freeMode.enabled;let v=n[h.indexOf(p)-1];if(typeof v>"u"&&(t.cssMode||Z)){let L;n.forEach((Y,g)=>{p>=Y&&(L=g)}),typeof L<"u"&&(v=Z?n[L]:n[L>0?L-1:L])}let V=0;if(typeof v<"u"&&(V=a.indexOf(v),V<0&&(V=e.activeIndex-1),t.slidesPerView==="auto"&&t.slidesPerGroup===1&&t.slidesPerGroupAuto&&(V=V-e.slidesPerViewDynamic("previous",!0)+1,V=Math.max(V,0))),t.rewind&&e.isBeginning){const L=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1;return e.slideTo(L,s,i,l)}else if(t.loop&&e.activeIndex===0&&t.cssMode)return requestAnimationFrame(()=>{e.slideTo(V,s,i,l)}),!0;return e.slideTo(V,s,i,l)}function wn(s,i=!0,l){const e=this;if(!e.destroyed)return typeof s>"u"&&(s=e.params.speed),e.slideTo(e.activeIndex,s,i,l)}function Mn(s,i=!0,l,e=.5){const t=this;if(t.destroyed)return;typeof s>"u"&&(s=t.params.speed);let n=t.activeIndex;const a=Math.min(t.params.slidesPerGroupSkip,n),o=a+Math.floor((n-a)/t.params.slidesPerGroup),r=t.rtlTranslate?t.translate:-t.translate;if(r>=t.snapGrid[o]){const d=t.snapGrid[o],c=t.snapGrid[o+1];r-d>(c-d)*e&&(n+=t.params.slidesPerGroup)}else{const d=t.snapGrid[o-1],c=t.snapGrid[o];r-d<=(c-d)*e&&(n-=t.params.slidesPerGroup)}return n=Math.max(n,0),n=Math.min(n,t.slidesGrid.length-1),t.slideTo(n,s,i,l)}function Tn(){const s=this;if(s.destroyed)return;const{params:i,slidesEl:l}=s,e=i.slidesPerView==="auto"?s.slidesPerViewDynamic():i.slidesPerView;let t=s.getSlideIndexWhenGrid(s.clickedIndex),n;const a=s.isElement?"swiper-slide":`.${i.slideClass}`,o=s.grid&&s.params.grid&&s.params.grid.rows>1;if(i.loop){if(s.animating)return;n=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10),i.centeredSlides?s.slideToLoop(n):t>(o?(s.slides.length-e)/2-(s.params.grid.rows-1):s.slides.length-e)?(s.loopFix(),t=s.getSlideIndex(Pe(l,`${a}[data-swiper-slide-index="${n}"]`)[0]),os(()=>{s.slideTo(t)})):s.slideTo(t)}else s.slideTo(t)}var Rn={slideTo:gn,slideToLoop:vn,slideNext:Yn,slidePrev:xn,slideReset:wn,slideToClosest:Mn,slideToClickedSlide:Tn};function In(s,i){const l=this,{params:e,slidesEl:t}=l;if(!e.loop||l.virtual&&l.params.virtual.enabled)return;const n=()=>{Pe(t,`.${e.slideClass}, swiper-slide`).forEach((h,Z)=>{h.setAttribute("data-swiper-slide-index",Z)})},a=()=>{const p=Pe(t,`.${e.slideBlankClass}`);p.forEach(h=>{h.remove()}),p.length>0&&(l.recalcSlides(),l.updateSlides())},o=l.grid&&e.grid&&e.grid.rows>1;e.loopAddBlankSlides&&(e.slidesPerGroup>1||o)&&a();const r=e.slidesPerGroup*(o?e.grid.rows:1),d=l.slides.length%r!==0,c=o&&l.slides.length%e.grid.rows!==0,u=p=>{for(let h=0;h<p;h+=1){const Z=l.isElement?Ot("swiper-slide",[e.slideBlankClass]):Ot("div",[e.slideClass,e.slideBlankClass]);l.slidesEl.append(Z)}};if(d){if(e.loopAddBlankSlides){const p=r-l.slides.length%r;u(p),l.recalcSlides(),l.updateSlides()}else Yt("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else if(c){if(e.loopAddBlankSlides){const p=e.grid.rows-l.slides.length%e.grid.rows;u(p),l.recalcSlides(),l.updateSlides()}else Yt("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else n();const m=e.centeredSlides||!!e.slidesOffsetBefore||!!e.slidesOffsetAfter;l.loopFix({slideRealIndex:s,direction:m?void 0:"next",initial:i})}function Cn({slideRealIndex:s,slideTo:i=!0,direction:l,setTranslate:e,activeSlideIndex:t,initial:n,byController:a,byMousewheel:o}={}){const r=this;if(!r.params.loop)return;r.emit("beforeLoopFix");const{slides:d,allowSlidePrev:c,allowSlideNext:u,slidesEl:m,params:p}=r,{centeredSlides:h,slidesOffsetBefore:Z,slidesOffsetAfter:v,initialSlide:V}=p,L=h||!!Z||!!v;if(r.allowSlidePrev=!0,r.allowSlideNext=!0,r.virtual&&p.virtual.enabled){i&&(!L&&r.snapIndex===0?r.slideTo(r.virtual.slides.length,0,!1,!0):L&&r.snapIndex<p.slidesPerView?r.slideTo(r.virtual.slides.length+r.snapIndex,0,!1,!0):r.snapIndex===r.snapGrid.length-1&&r.slideTo(r.virtual.slidesBefore,0,!1,!0)),r.allowSlidePrev=c,r.allowSlideNext=u,r.emit("loopFix");return}let Y=p.slidesPerView;Y==="auto"?Y=r.slidesPerViewDynamic():(Y=Math.ceil(parseFloat(p.slidesPerView,10)),L&&Y%2===0&&(Y=Y+1));const g=p.slidesPerGroupAuto?Y:p.slidesPerGroup;let X=L?Math.max(g,Math.ceil(Y/2)):g;X%g!==0&&(X+=g-X%g),X+=p.loopAdditionalSlides,r.loopedSlides=X;const G=r.grid&&p.grid&&p.grid.rows>1;d.length<Y+X||r.params.effect==="cards"&&d.length<Y+X*2?Yt("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):G&&p.grid.fill==="row"&&Yt("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const S=[],b=[],H=G?Math.ceil(d.length/p.grid.rows):d.length,C=n&&H-V<Y&&!L;let I=C?V:r.activeIndex;typeof t>"u"?t=r.getSlideIndex(d.find(M=>M.classList.contains(p.slideActiveClass))):I=t;const f=l==="next"||!l,y=l==="prev"||!l;let W=0,w=0;const T=(G?d[t].column:t)+(L&&typeof e>"u"?-Y/2+.5:0);if(T<X){W=Math.max(X-T,g);for(let M=0;M<X-T;M+=1){const P=M-Math.floor(M/H)*H;if(G){const K=H-P-1;for(let E=d.length-1;E>=0;E-=1)d[E].column===K&&S.push(E)}else S.push(H-P-1)}}else if(T+Y>H-X){w=Math.max(T-(H-X*2),g),C&&(w=Math.max(w,Y-H+V+1));for(let M=0;M<w;M+=1){const P=M-Math.floor(M/H)*H;G?d.forEach((K,E)=>{K.column===P&&b.push(E)}):b.push(P)}}if(r.__preventObserver__=!0,requestAnimationFrame(()=>{r.__preventObserver__=!1}),r.params.effect==="cards"&&d.length<Y+X*2&&(b.includes(t)&&b.splice(b.indexOf(t),1),S.includes(t)&&S.splice(S.indexOf(t),1)),y&&S.forEach(M=>{d[M].swiperLoopMoveDOM=!0,m.prepend(d[M]),d[M].swiperLoopMoveDOM=!1}),f&&b.forEach(M=>{d[M].swiperLoopMoveDOM=!0,m.append(d[M]),d[M].swiperLoopMoveDOM=!1}),r.recalcSlides(),p.slidesPerView==="auto"?r.updateSlides():G&&(S.length>0&&y||b.length>0&&f)&&r.slides.forEach((M,P)=>{r.grid.updateSlide(P,M,r.slides)}),p.watchSlidesProgress&&r.updateSlidesOffset(),i){if(S.length>0&&y){if(typeof s>"u"){const M=r.slidesGrid[I],K=r.slidesGrid[I+W]-M;o?r.setTranslate(r.translate-K):(r.slideTo(I+Math.ceil(W),0,!1,!0),e&&(r.touchEventsData.startTranslate=r.touchEventsData.startTranslate-K,r.touchEventsData.currentTranslate=r.touchEventsData.currentTranslate-K))}else if(e){const M=G?S.length/p.grid.rows:S.length;r.slideTo(r.activeIndex+M,0,!1,!0),r.touchEventsData.currentTranslate=r.translate}}else if(b.length>0&&f)if(typeof s>"u"){const M=r.slidesGrid[I],K=r.slidesGrid[I-w]-M;o?r.setTranslate(r.translate-K):(r.slideTo(I-w,0,!1,!0),e&&(r.touchEventsData.startTranslate=r.touchEventsData.startTranslate-K,r.touchEventsData.currentTranslate=r.touchEventsData.currentTranslate-K))}else{const M=G?b.length/p.grid.rows:b.length;r.slideTo(r.activeIndex-M,0,!1,!0)}}if(r.allowSlidePrev=c,r.allowSlideNext=u,r.controller&&r.controller.control&&!a){const M={slideRealIndex:s,direction:l,setTranslate:e,activeSlideIndex:t,byController:!0};Array.isArray(r.controller.control)?r.controller.control.forEach(P=>{!P.destroyed&&P.params.loop&&P.loopFix({...M,slideTo:P.params.slidesPerView===p.slidesPerView?i:!1})}):r.controller.control instanceof r.constructor&&r.controller.control.params.loop&&r.controller.control.loopFix({...M,slideTo:r.controller.control.params.slidesPerView===p.slidesPerView?i:!1})}r.emit("loopFix")}function Kn(){const s=this,{params:i,slidesEl:l}=s;if(!i.loop||!l||s.virtual&&s.params.virtual.enabled)return;s.recalcSlides();const e=[];s.slides.forEach(t=>{const n=typeof t.swiperSlideIndex>"u"?t.getAttribute("data-swiper-slide-index")*1:t.swiperSlideIndex;e[n]=t}),s.slides.forEach(t=>{t.removeAttribute("data-swiper-slide-index")}),e.forEach(t=>{l.append(t)}),s.recalcSlides(),s.slideTo(s.realIndex,0)}var kn={loopCreate:In,loopFix:Cn,loopDestroy:Kn};function Hn(s){const i=this;if(!i.params.simulateTouch||i.params.watchOverflow&&i.isLocked||i.params.cssMode)return;const l=i.params.touchEventsTarget==="container"?i.el:i.wrapperEl;i.isElement&&(i.__preventObserver__=!0),l.style.cursor="move",l.style.cursor=s?"grabbing":"grab",i.isElement&&requestAnimationFrame(()=>{i.__preventObserver__=!1})}function zn(){const s=this;s.params.watchOverflow&&s.isLocked||s.params.cssMode||(s.isElement&&(s.__preventObserver__=!0),s[s.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",s.isElement&&requestAnimationFrame(()=>{s.__preventObserver__=!1}))}var Nn={setGrabCursor:Hn,unsetGrabCursor:zn};function Pn(s,i=this){function l(e){if(!e||e===et()||e===be())return null;e.assignedSlot&&(e=e.assignedSlot);const t=e.closest(s);return!t&&!e.getRootNode?null:t||l(e.getRootNode().host)}return l(i)}function Ti(s,i,l){const e=be(),{params:t}=s,n=t.edgeSwipeDetection,a=t.edgeSwipeThreshold;return n&&(l<=a||l>=e.innerWidth-a)?n==="prevent"?(i.preventDefault(),!0):!1:!0}function Fn(s){const i=this,l=et();let e=s;e.originalEvent&&(e=e.originalEvent);const t=i.touchEventsData;if(e.type==="pointerdown"){if(t.pointerId!==null&&t.pointerId!==e.pointerId)return;t.pointerId=e.pointerId}else e.type==="touchstart"&&e.targetTouches.length===1&&(t.touchId=e.targetTouches[0].identifier);if(e.type==="touchstart"){Ti(i,e,e.targetTouches[0].pageX);return}const{params:n,touches:a,enabled:o}=i;if(!o||!n.simulateTouch&&e.pointerType==="mouse"||i.animating&&n.preventInteractionOnTransition)return;!i.animating&&n.cssMode&&n.loop&&i.loopFix();let r=e.target;if(n.touchEventsTarget==="wrapper"&&!Bl(r,i.wrapperEl)||"which"in e&&e.which===3||"button"in e&&e.button>0||t.isTouched&&t.isMoved)return;const d=!!n.noSwipingClass&&n.noSwipingClass!=="",c=e.composedPath?e.composedPath():e.path;d&&e.target&&e.target.shadowRoot&&c&&(r=c[0]);const u=n.noSwipingSelector?n.noSwipingSelector:`.${n.noSwipingClass}`,m=!!(e.target&&e.target.shadowRoot);if(n.noSwiping&&(m?Pn(u,r):r.closest(u))){i.allowClick=!0;return}if(n.swipeHandler&&!r.closest(n.swipeHandler))return;a.currentX=e.pageX,a.currentY=e.pageY;const p=a.currentX,h=a.currentY;if(!Ti(i,e,p))return;Object.assign(t,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=p,a.startY=h,t.touchStartTime=vt(),i.allowClick=!0,i.updateSize(),i.swipeDirection=void 0,n.threshold>0&&(t.allowThresholdMove=!1);let Z=!0;r.matches(t.focusableElements)&&(Z=!1,r.nodeName==="SELECT"&&(t.isTouched=!1)),l.activeElement&&l.activeElement.matches(t.focusableElements)&&l.activeElement!==r&&(e.pointerType==="mouse"||e.pointerType!=="mouse"&&!r.matches(t.focusableElements))&&l.activeElement.blur();const v=Z&&i.allowTouchMove&&n.touchStartPreventDefault;(n.touchStartForcePreventDefault||v)&&!r.isContentEditable&&e.preventDefault(),n.freeMode&&n.freeMode.enabled&&i.freeMode&&i.animating&&!n.cssMode&&i.freeMode.onTouchStart(),i.emit("touchStart",e)}function Jn(s){const i=et(),l=this,e=l.touchEventsData,{params:t,touches:n,rtlTranslate:a,enabled:o}=l;if(!o||!t.simulateTouch&&s.pointerType==="mouse")return;let r=s;if(r.originalEvent&&(r=r.originalEvent),r.type==="pointermove"&&(e.touchId!==null||r.pointerId!==e.pointerId))return;let d;if(r.type==="touchmove"){if(d=[...r.changedTouches].find(X=>X.identifier===e.touchId),!d||d.identifier!==e.touchId)return}else d=r;if(!e.isTouched){e.startMoving&&e.isScrolling&&l.emit("touchMoveOpposite",r);return}const c=d.pageX,u=d.pageY;if(r.preventedByNestedSwiper){n.startX=c,n.startY=u;return}if(!l.allowTouchMove){r.target.matches(e.focusableElements)||(l.allowClick=!1),e.isTouched&&(Object.assign(n,{startX:c,startY:u,currentX:c,currentY:u}),e.touchStartTime=vt());return}if(t.touchReleaseOnEdges&&!t.loop)if(l.isVertical()){if(u<n.startY&&l.translate<=l.maxTranslate()||u>n.startY&&l.translate>=l.minTranslate()){e.isTouched=!1,e.isMoved=!1;return}}else{if(a&&(c>n.startX&&-l.translate<=l.maxTranslate()||c<n.startX&&-l.translate>=l.minTranslate()))return;if(!a&&(c<n.startX&&l.translate<=l.maxTranslate()||c>n.startX&&l.translate>=l.minTranslate()))return}if(i.activeElement&&i.activeElement.matches(e.focusableElements)&&i.activeElement!==r.target&&r.pointerType!=="mouse"&&i.activeElement.blur(),i.activeElement&&r.target===i.activeElement&&r.target.matches(e.focusableElements)){e.isMoved=!0,l.allowClick=!1;return}e.allowTouchCallbacks&&l.emit("touchMove",r),n.previousX=n.currentX,n.previousY=n.currentY,n.currentX=c,n.currentY=u;const m=n.currentX-n.startX,p=n.currentY-n.startY;if(l.params.threshold&&Math.sqrt(m**2+p**2)<l.params.threshold)return;if(typeof e.isScrolling>"u"){let X;l.isHorizontal()&&n.currentY===n.startY||l.isVertical()&&n.currentX===n.startX?e.isScrolling=!1:m*m+p*p>=25&&(X=Math.atan2(Math.abs(p),Math.abs(m))*180/Math.PI,e.isScrolling=l.isHorizontal()?X>t.touchAngle:90-X>t.touchAngle)}if(e.isScrolling&&l.emit("touchMoveOpposite",r),typeof e.startMoving>"u"&&(n.currentX!==n.startX||n.currentY!==n.startY)&&(e.startMoving=!0),e.isScrolling||r.type==="touchmove"&&e.preventTouchMoveFromPointerMove){e.isTouched=!1;return}if(!e.startMoving)return;l.allowClick=!1,!t.cssMode&&r.cancelable&&r.preventDefault(),t.touchMoveStopPropagation&&!t.nested&&r.stopPropagation();let h=l.isHorizontal()?m:p,Z=l.isHorizontal()?n.currentX-n.previousX:n.currentY-n.previousY;t.oneWayMovement&&(h=Math.abs(h)*(a?1:-1),Z=Math.abs(Z)*(a?1:-1)),n.diff=h,h*=t.touchRatio,a&&(h=-h,Z=-Z);const v=l.touchesDirection;l.swipeDirection=h>0?"prev":"next",l.touchesDirection=Z>0?"prev":"next";const V=l.params.loop&&!t.cssMode,L=l.touchesDirection==="next"&&l.allowSlideNext||l.touchesDirection==="prev"&&l.allowSlidePrev;if(!e.isMoved){if(V&&L&&l.loopFix({direction:l.swipeDirection}),e.startTranslate=l.getTranslate(),l.setTransition(0),l.animating){const X=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});l.wrapperEl.dispatchEvent(X)}e.allowMomentumBounce=!1,t.grabCursor&&(l.allowSlideNext===!0||l.allowSlidePrev===!0)&&l.setGrabCursor(!0),l.emit("sliderFirstMove",r)}if(new Date().getTime(),t._loopSwapReset!==!1&&e.isMoved&&e.allowThresholdMove&&v!==l.touchesDirection&&V&&L&&Math.abs(h)>=1){Object.assign(n,{startX:c,startY:u,currentX:c,currentY:u,startTranslate:e.currentTranslate}),e.loopSwapReset=!0,e.startTranslate=e.currentTranslate;return}l.emit("sliderMove",r),e.isMoved=!0,e.currentTranslate=h+e.startTranslate;let Y=!0,g=t.resistanceRatio;if(t.touchReleaseOnEdges&&(g=0),h>0?(V&&L&&e.allowThresholdMove&&e.currentTranslate>(t.centeredSlides?l.minTranslate()-l.slidesSizesGrid[l.activeIndex+1]-(t.slidesPerView!=="auto"&&l.slides.length-t.slidesPerView>=2?l.slidesSizesGrid[l.activeIndex+1]+l.params.spaceBetween:0)-l.params.spaceBetween:l.minTranslate())&&l.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),e.currentTranslate>l.minTranslate()&&(Y=!1,t.resistance&&(e.currentTranslate=l.minTranslate()-1+(-l.minTranslate()+e.startTranslate+h)**g))):h<0&&(V&&L&&e.allowThresholdMove&&e.currentTranslate<(t.centeredSlides?l.maxTranslate()+l.slidesSizesGrid[l.slidesSizesGrid.length-1]+l.params.spaceBetween+(t.slidesPerView!=="auto"&&l.slides.length-t.slidesPerView>=2?l.slidesSizesGrid[l.slidesSizesGrid.length-1]+l.params.spaceBetween:0):l.maxTranslate())&&l.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:l.slides.length-(t.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(parseFloat(t.slidesPerView,10)))}),e.currentTranslate<l.maxTranslate()&&(Y=!1,t.resistance&&(e.currentTranslate=l.maxTranslate()+1-(l.maxTranslate()-e.startTranslate-h)**g))),Y&&(r.preventedByNestedSwiper=!0),!l.allowSlideNext&&l.swipeDirection==="next"&&e.currentTranslate<e.startTranslate&&(e.currentTranslate=e.startTranslate),!l.allowSlidePrev&&l.swipeDirection==="prev"&&e.currentTranslate>e.startTranslate&&(e.currentTranslate=e.startTranslate),!l.allowSlidePrev&&!l.allowSlideNext&&(e.currentTranslate=e.startTranslate),t.threshold>0)if(Math.abs(h)>t.threshold||e.allowThresholdMove){if(!e.allowThresholdMove){e.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,e.currentTranslate=e.startTranslate,n.diff=l.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY;return}}else{e.currentTranslate=e.startTranslate;return}!t.followFinger||t.cssMode||((t.freeMode&&t.freeMode.enabled&&l.freeMode||t.watchSlidesProgress)&&(l.updateActiveIndex(),l.updateSlidesClasses()),t.freeMode&&t.freeMode.enabled&&l.freeMode&&l.freeMode.onTouchMove(),l.updateProgress(e.currentTranslate),l.setTranslate(e.currentTranslate))}function Un(s){const i=this,l=i.touchEventsData;let e=s;e.originalEvent&&(e=e.originalEvent);let t;if(e.type==="touchend"||e.type==="touchcancel"){if(t=[...e.changedTouches].find(X=>X.identifier===l.touchId),!t||t.identifier!==l.touchId)return}else{if(l.touchId!==null||e.pointerId!==l.pointerId)return;t=e}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(e.type)&&!(["pointercancel","contextmenu"].includes(e.type)&&(i.browser.isSafari||i.browser.isWebView)))return;l.pointerId=null,l.touchId=null;const{params:a,touches:o,rtlTranslate:r,slidesGrid:d,enabled:c}=i;if(!c||!a.simulateTouch&&e.pointerType==="mouse")return;if(l.allowTouchCallbacks&&i.emit("touchEnd",e),l.allowTouchCallbacks=!1,!l.isTouched){l.isMoved&&a.grabCursor&&i.setGrabCursor(!1),l.isMoved=!1,l.startMoving=!1;return}a.grabCursor&&l.isMoved&&l.isTouched&&(i.allowSlideNext===!0||i.allowSlidePrev===!0)&&i.setGrabCursor(!1);const u=vt(),m=u-l.touchStartTime;if(i.allowClick){const X=e.path||e.composedPath&&e.composedPath();i.updateClickedSlide(X&&X[0]||e.target,X),i.emit("tap click",e),m<300&&u-l.lastClickTime<300&&i.emit("doubleTap doubleClick",e)}if(l.lastClickTime=vt(),os(()=>{i.destroyed||(i.allowClick=!0)}),!l.isTouched||!l.isMoved||!i.swipeDirection||o.diff===0&&!l.loopSwapReset||l.currentTranslate===l.startTranslate&&!l.loopSwapReset){l.isTouched=!1,l.isMoved=!1,l.startMoving=!1;return}l.isTouched=!1,l.isMoved=!1,l.startMoving=!1;let p;if(a.followFinger?p=r?i.translate:-i.translate:p=-l.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){i.freeMode.onTouchEnd({currentPos:p});return}const h=p>=-i.maxTranslate()&&!i.params.loop;let Z=0,v=i.slidesSizesGrid[0];for(let X=0;X<d.length;X+=X<a.slidesPerGroupSkip?1:a.slidesPerGroup){const G=X<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof d[X+G]<"u"?(h||p>=d[X]&&p<d[X+G])&&(Z=X,v=d[X+G]-d[X]):(h||p>=d[X])&&(Z=X,v=d[d.length-1]-d[d.length-2])}let V=null,L=null;a.rewind&&(i.isBeginning?L=a.virtual&&a.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1:i.isEnd&&(V=0));const Y=(p-d[Z])/v,g=Z<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(m>a.longSwipesMs){if(!a.longSwipes){i.slideTo(i.activeIndex);return}i.swipeDirection==="next"&&(Y>=a.longSwipesRatio?i.slideTo(a.rewind&&i.isEnd?V:Z+g):i.slideTo(Z)),i.swipeDirection==="prev"&&(Y>1-a.longSwipesRatio?i.slideTo(Z+g):L!==null&&Y<0&&Math.abs(Y)>a.longSwipesRatio?i.slideTo(L):i.slideTo(Z))}else{if(!a.shortSwipes){i.slideTo(i.activeIndex);return}i.navigation&&(e.target===i.navigation.nextEl||e.target===i.navigation.prevEl)?e.target===i.navigation.nextEl?i.slideTo(Z+g):i.slideTo(Z):(i.swipeDirection==="next"&&i.slideTo(V!==null?V:Z+g),i.swipeDirection==="prev"&&i.slideTo(L!==null?L:Z))}}function Ri(){const s=this,{params:i,el:l}=s;if(l&&l.offsetWidth===0)return;i.breakpoints&&s.setBreakpoint();const{allowSlideNext:e,allowSlidePrev:t,snapGrid:n}=s,a=s.virtual&&s.params.virtual.enabled;s.allowSlideNext=!0,s.allowSlidePrev=!0,s.updateSize(),s.updateSlides(),s.updateSlidesClasses();const o=a&&i.loop;(i.slidesPerView==="auto"||i.slidesPerView>1)&&s.isEnd&&!s.isBeginning&&!s.params.centeredSlides&&!o?s.slideTo(s.slides.length-1,0,!1,!0):s.params.loop&&!a?s.slideToLoop(s.realIndex,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),s.autoplay&&s.autoplay.running&&s.autoplay.paused&&(clearTimeout(s.autoplay.resizeTimeout),s.autoplay.resizeTimeout=setTimeout(()=>{s.autoplay&&s.autoplay.running&&s.autoplay.paused&&s.autoplay.resume()},500)),s.allowSlidePrev=t,s.allowSlideNext=e,s.params.watchOverflow&&n!==s.snapGrid&&s.checkOverflow()}function En(s){const i=this;i.enabled&&(i.allowClick||(i.params.preventClicks&&s.preventDefault(),i.params.preventClicksPropagation&&i.animating&&(s.stopPropagation(),s.stopImmediatePropagation())))}function jn(){const s=this,{wrapperEl:i,rtlTranslate:l,enabled:e}=s;if(!e)return;s.previousTranslate=s.translate,s.isHorizontal()?s.translate=-i.scrollLeft:s.translate=-i.scrollTop,s.translate===0&&(s.translate=0),s.updateActiveIndex(),s.updateSlidesClasses();let t;const n=s.maxTranslate()-s.minTranslate();n===0?t=0:t=(s.translate-s.minTranslate())/n,t!==s.progress&&s.updateProgress(l?-s.translate:s.translate),s.emit("setTranslate",s.translate,!1)}function Dn(s){const i=this;Vt(i,s.target),!(i.params.cssMode||i.params.slidesPerView!=="auto"&&!i.params.autoHeight)&&i.update()}function Bn(){const s=this;s.documentTouchHandlerProceeded||(s.documentTouchHandlerProceeded=!0,s.params.touchReleaseOnEdges&&(s.el.style.touchAction="auto"))}const hs=(s,i)=>{const l=et(),{params:e,el:t,wrapperEl:n,device:a}=s,o=!!e.nested,r=i==="on"?"addEventListener":"removeEventListener",d=i;!t||typeof t=="string"||(l[r]("touchstart",s.onDocumentTouchStart,{passive:!1,capture:o}),t[r]("touchstart",s.onTouchStart,{passive:!1}),t[r]("pointerdown",s.onTouchStart,{passive:!1}),l[r]("touchmove",s.onTouchMove,{passive:!1,capture:o}),l[r]("pointermove",s.onTouchMove,{passive:!1,capture:o}),l[r]("touchend",s.onTouchEnd,{passive:!0}),l[r]("pointerup",s.onTouchEnd,{passive:!0}),l[r]("pointercancel",s.onTouchEnd,{passive:!0}),l[r]("touchcancel",s.onTouchEnd,{passive:!0}),l[r]("pointerout",s.onTouchEnd,{passive:!0}),l[r]("pointerleave",s.onTouchEnd,{passive:!0}),l[r]("contextmenu",s.onTouchEnd,{passive:!0}),(e.preventClicks||e.preventClicksPropagation)&&t[r]("click",s.onClick,!0),e.cssMode&&n[r]("scroll",s.onScroll),e.updateOnWindowResize?s[d](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Ri,!0):s[d]("observerUpdate",Ri,!0),t[r]("load",s.onLoad,{capture:!0}))};function Qn(){const s=this,{params:i}=s;s.onTouchStart=Fn.bind(s),s.onTouchMove=Jn.bind(s),s.onTouchEnd=Un.bind(s),s.onDocumentTouchStart=Bn.bind(s),i.cssMode&&(s.onScroll=jn.bind(s)),s.onClick=En.bind(s),s.onLoad=Dn.bind(s),hs(s,"on")}function On(){hs(this,"off")}var An={attachEvents:Qn,detachEvents:On};const Ii=(s,i)=>s.grid&&i.grid&&i.grid.rows>1;function _n(){const s=this,{realIndex:i,initialized:l,params:e,el:t}=s,n=e.breakpoints;if(!n||n&&Object.keys(n).length===0)return;const a=et(),o=e.breakpointsBase==="window"||!e.breakpointsBase?e.breakpointsBase:"container",r=["window","container"].includes(e.breakpointsBase)||!e.breakpointsBase?s.el:a.querySelector(e.breakpointsBase),d=s.getBreakpoint(n,o,r);if(!d||s.currentBreakpoint===d)return;const u=(d in n?n[d]:void 0)||s.originalParams,m=Ii(s,e),p=Ii(s,u),h=s.params.grabCursor,Z=u.grabCursor,v=e.enabled;m&&!p?(t.classList.remove(`${e.containerModifierClass}grid`,`${e.containerModifierClass}grid-column`),s.emitContainerClasses()):!m&&p&&(t.classList.add(`${e.containerModifierClass}grid`),(u.grid.fill&&u.grid.fill==="column"||!u.grid.fill&&e.grid.fill==="column")&&t.classList.add(`${e.containerModifierClass}grid-column`),s.emitContainerClasses()),h&&!Z?s.unsetGrabCursor():!h&&Z&&s.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(G=>{if(typeof u[G]>"u")return;const S=e[G]&&e[G].enabled,b=u[G]&&u[G].enabled;S&&!b&&s[G].disable(),!S&&b&&s[G].enable()});const V=u.direction&&u.direction!==e.direction,L=e.loop&&(u.slidesPerView!==e.slidesPerView||V),Y=e.loop;V&&l&&s.changeDirection(),Ge(s.params,u);const g=s.params.enabled,X=s.params.loop;Object.assign(s,{allowTouchMove:s.params.allowTouchMove,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev}),v&&!g?s.disable():!v&&g&&s.enable(),s.currentBreakpoint=d,s.emit("_beforeBreakpoint",u),l&&(L?(s.loopDestroy(),s.loopCreate(i),s.updateSlides()):!Y&&X?(s.loopCreate(i),s.updateSlides()):Y&&!X&&s.loopDestroy()),s.emit("breakpoint",u)}function $n(s,i="window",l){if(!s||i==="container"&&!l)return;let e=!1;const t=be(),n=i==="window"?t.innerHeight:l.clientHeight,a=Object.keys(s).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const r=parseFloat(o.substr(1));return{value:n*r,point:o}}return{value:o,point:o}});a.sort((o,r)=>parseInt(o.value,10)-parseInt(r.value,10));for(let o=0;o<a.length;o+=1){const{point:r,value:d}=a[o];i==="window"?t.matchMedia(`(min-width: ${d}px)`).matches&&(e=r):d<=l.clientWidth&&(e=r)}return e||"max"}var qn={setBreakpoint:_n,getBreakpoint:$n};function ea(s,i){const l=[];return s.forEach(e=>{typeof e=="object"?Object.keys(e).forEach(t=>{e[t]&&l.push(i+t)}):typeof e=="string"&&l.push(i+e)}),l}function ta(){const s=this,{classNames:i,params:l,rtl:e,el:t,device:n}=s,a=ea(["initialized",l.direction,{"free-mode":s.params.freeMode&&l.freeMode.enabled},{autoheight:l.autoHeight},{rtl:e},{grid:l.grid&&l.grid.rows>1},{"grid-column":l.grid&&l.grid.rows>1&&l.grid.fill==="column"},{android:n.android},{ios:n.ios},{"css-mode":l.cssMode},{centered:l.cssMode&&l.centeredSlides},{"watch-progress":l.watchSlidesProgress}],l.containerModifierClass);i.push(...a),t.classList.add(...i),s.emitContainerClasses()}function ia(){const s=this,{el:i,classNames:l}=s;!i||typeof i=="string"||(i.classList.remove(...l),s.emitContainerClasses())}var sa={addClasses:ta,removeClasses:ia};function la(){const s=this,{isLocked:i,params:l}=s,{slidesOffsetBefore:e}=l;if(e){const t=s.slides.length-1,n=s.slidesGrid[t]+s.slidesSizesGrid[t]+e*2;s.isLocked=s.size>n}else s.isLocked=s.snapGrid.length===1;l.allowSlideNext===!0&&(s.allowSlideNext=!s.isLocked),l.allowSlidePrev===!0&&(s.allowSlidePrev=!s.isLocked),i&&i!==s.isLocked&&(s.isEnd=!1),i!==s.isLocked&&s.emit(s.isLocked?"lock":"unlock")}var na={checkOverflow:la},_t={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function aa(s,i){return function(e={}){const t=Object.keys(e)[0],n=e[t];if(typeof n!="object"||n===null){Ge(i,e);return}if(s[t]===!0&&(s[t]={enabled:!0}),t==="navigation"&&s[t]&&s[t].enabled&&!s[t].prevEl&&!s[t].nextEl&&(s[t].auto=!0),["pagination","scrollbar"].indexOf(t)>=0&&s[t]&&s[t].enabled&&!s[t].el&&(s[t].auto=!0),!(t in s&&"enabled"in n)){Ge(i,e);return}typeof s[t]=="object"&&!("enabled"in s[t])&&(s[t].enabled=!0),s[t]||(s[t]={enabled:!1}),Ge(i,e)}}const Ut={eventsEmitter:sn,update:hn,translate:Wn,transition:Vn,slide:Rn,loop:kn,grabCursor:Nn,events:An,breakpoints:qn,checkOverflow:na,classes:sa},Et={};let ui=class ze{constructor(...i){let l,e;i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?e=i[0]:[l,e]=i,e||(e={}),e=Ge({},e),l&&!e.el&&(e.el=l);const t=et();if(e.el&&typeof e.el=="string"&&t.querySelectorAll(e.el).length>1){const r=[];return t.querySelectorAll(e.el).forEach(d=>{const c=Ge({},e,{el:d});r.push(new ze(c))}),r}const n=this;n.__swiper__=!0,n.support=cs(),n.device=us({userAgent:e.userAgent}),n.browser=ms(),n.eventsListeners={},n.eventsAnyListeners=[],n.modules=[...n.__modules__],e.modules&&Array.isArray(e.modules)&&n.modules.push(...e.modules);const a={};n.modules.forEach(r=>{r({params:e,swiper:n,extendParams:aa(e,a),on:n.on.bind(n),once:n.once.bind(n),off:n.off.bind(n),emit:n.emit.bind(n)})});const o=Ge({},_t,a);return n.params=Ge({},o,Et,e),n.originalParams=Ge({},n.params),n.passedParams=Ge({},e),n.params&&n.params.on&&Object.keys(n.params.on).forEach(r=>{n.on(r,n.params.on[r])}),n.params&&n.params.onAny&&n.onAny(n.params.onAny),Object.assign(n,{enabled:n.params.enabled,el:l,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return n.params.direction==="horizontal"},isVertical(){return n.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:n.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:n.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),n.emit("_swiper"),n.params.init&&n.init(),n}getDirectionLabel(i){return this.isHorizontal()?i:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[i]}getSlideIndex(i){const{slidesEl:l,params:e}=this,t=Pe(l,`.${e.slideClass}, swiper-slide`),n=Yi(t[0]);return Yi(i)-n}getSlideIndexByData(i){return this.getSlideIndex(this.slides.find(l=>l.getAttribute("data-swiper-slide-index")*1===i))}getSlideIndexWhenGrid(i){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?i=Math.floor(i/this.params.grid.rows):this.params.grid.fill==="row"&&(i=i%Math.ceil(this.slides.length/this.params.grid.rows))),i}recalcSlides(){const i=this,{slidesEl:l,params:e}=i;i.slides=Pe(l,`.${e.slideClass}, swiper-slide`)}enable(){const i=this;i.enabled||(i.enabled=!0,i.params.grabCursor&&i.setGrabCursor(),i.emit("enable"))}disable(){const i=this;i.enabled&&(i.enabled=!1,i.params.grabCursor&&i.unsetGrabCursor(),i.emit("disable"))}setProgress(i,l){const e=this;i=Math.min(Math.max(i,0),1);const t=e.minTranslate(),a=(e.maxTranslate()-t)*i+t;e.translateTo(a,typeof l>"u"?0:l),e.updateActiveIndex(),e.updateSlidesClasses()}emitContainerClasses(){const i=this;if(!i.params._emitClasses||!i.el)return;const l=i.el.className.split(" ").filter(e=>e.indexOf("swiper")===0||e.indexOf(i.params.containerModifierClass)===0);i.emit("_containerClasses",l.join(" "))}getSlideClasses(i){const l=this;return l.destroyed?"":i.className.split(" ").filter(e=>e.indexOf("swiper-slide")===0||e.indexOf(l.params.slideClass)===0).join(" ")}emitSlidesClasses(){const i=this;if(!i.params._emitClasses||!i.el)return;const l=[];i.slides.forEach(e=>{const t=i.getSlideClasses(e);l.push({slideEl:e,classNames:t}),i.emit("_slideClass",e,t)}),i.emit("_slideClasses",l)}slidesPerViewDynamic(i="current",l=!1){const e=this,{params:t,slides:n,slidesGrid:a,slidesSizesGrid:o,size:r,activeIndex:d}=e;let c=1;if(typeof t.slidesPerView=="number")return t.slidesPerView;if(t.centeredSlides){let u=n[d]?Math.ceil(n[d].swiperSlideSize):0,m;for(let p=d+1;p<n.length;p+=1)n[p]&&!m&&(u+=Math.ceil(n[p].swiperSlideSize),c+=1,u>r&&(m=!0));for(let p=d-1;p>=0;p-=1)n[p]&&!m&&(u+=n[p].swiperSlideSize,c+=1,u>r&&(m=!0))}else if(i==="current")for(let u=d+1;u<n.length;u+=1)(l?a[u]+o[u]-a[d]<r:a[u]-a[d]<r)&&(c+=1);else for(let u=d-1;u>=0;u-=1)a[d]-a[u]<r&&(c+=1);return c}update(){const i=this;if(!i||i.destroyed)return;const{snapGrid:l,params:e}=i;e.breakpoints&&i.setBreakpoint(),[...i.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Vt(i,a)}),i.updateSize(),i.updateSlides(),i.updateProgress(),i.updateSlidesClasses();function t(){const a=i.rtlTranslate?i.translate*-1:i.translate,o=Math.min(Math.max(a,i.maxTranslate()),i.minTranslate());i.setTranslate(o),i.updateActiveIndex(),i.updateSlidesClasses()}let n;if(e.freeMode&&e.freeMode.enabled&&!e.cssMode)t(),e.autoHeight&&i.updateAutoHeight();else{if((e.slidesPerView==="auto"||e.slidesPerView>1)&&i.isEnd&&!e.centeredSlides){const a=i.virtual&&e.virtual.enabled?i.virtual.slides:i.slides;n=i.slideTo(a.length-1,0,!1,!0)}else n=i.slideTo(i.activeIndex,0,!1,!0);n||t()}e.watchOverflow&&l!==i.snapGrid&&i.checkOverflow(),i.emit("update")}changeDirection(i,l=!0){const e=this,t=e.params.direction;return i||(i=t==="horizontal"?"vertical":"horizontal"),i===t||i!=="horizontal"&&i!=="vertical"||(e.el.classList.remove(`${e.params.containerModifierClass}${t}`),e.el.classList.add(`${e.params.containerModifierClass}${i}`),e.emitContainerClasses(),e.params.direction=i,e.slides.forEach(n=>{i==="vertical"?n.style.width="":n.style.height=""}),e.emit("changeDirection"),l&&e.update()),e}changeLanguageDirection(i){const l=this;l.rtl&&i==="rtl"||!l.rtl&&i==="ltr"||(l.rtl=i==="rtl",l.rtlTranslate=l.params.direction==="horizontal"&&l.rtl,l.rtl?(l.el.classList.add(`${l.params.containerModifierClass}rtl`),l.el.dir="rtl"):(l.el.classList.remove(`${l.params.containerModifierClass}rtl`),l.el.dir="ltr"),l.update())}mount(i){const l=this;if(l.mounted)return!0;let e=i||l.params.el;if(typeof e=="string"&&(e=document.querySelector(e)),!e)return!1;e.swiper=l,e.parentNode&&e.parentNode.host&&e.parentNode.host.nodeName===l.params.swiperElementNodeName.toUpperCase()&&(l.isElement=!0);const t=()=>`.${(l.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=e&&e.shadowRoot&&e.shadowRoot.querySelector?e.shadowRoot.querySelector(t()):Pe(e,t())[0];return!a&&l.params.createElements&&(a=Ot("div",l.params.wrapperClass),e.append(a),Pe(e,`.${l.params.slideClass}`).forEach(o=>{a.append(o)})),Object.assign(l,{el:e,wrapperEl:a,slidesEl:l.isElement&&!e.parentNode.host.slideSlots?e.parentNode.host:a,hostEl:l.isElement?e.parentNode.host:e,mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||je(e,"direction")==="rtl",rtlTranslate:l.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||je(e,"direction")==="rtl"),wrongRTL:je(a,"display")==="-webkit-box"}),!0}init(i){const l=this;if(l.initialized||l.mount(i)===!1)return l;l.emit("beforeInit"),l.params.breakpoints&&l.setBreakpoint(),l.addClasses(),l.updateSize(),l.updateSlides(),l.params.watchOverflow&&l.checkOverflow(),l.params.grabCursor&&l.enabled&&l.setGrabCursor(),l.params.loop&&l.virtual&&l.params.virtual.enabled?l.slideTo(l.params.initialSlide+l.virtual.slidesBefore,0,l.params.runCallbacksOnInit,!1,!0):l.slideTo(l.params.initialSlide,0,l.params.runCallbacksOnInit,!1,!0),l.params.loop&&l.loopCreate(void 0,!0),l.attachEvents();const t=[...l.el.querySelectorAll('[loading="lazy"]')];return l.isElement&&t.push(...l.hostEl.querySelectorAll('[loading="lazy"]')),t.forEach(n=>{n.complete?Vt(l,n):n.addEventListener("load",a=>{Vt(l,a.target)})}),At(l),l.initialized=!0,At(l),l.emit("init"),l.emit("afterInit"),l}destroy(i=!0,l=!0){const e=this,{params:t,el:n,wrapperEl:a,slides:o}=e;return typeof e.params>"u"||e.destroyed||(e.emit("beforeDestroy"),e.initialized=!1,e.detachEvents(),t.loop&&e.loopDestroy(),l&&(e.removeClasses(),n&&typeof n!="string"&&n.removeAttribute("style"),a&&a.removeAttribute("style"),o&&o.length&&o.forEach(r=>{r.classList.remove(t.slideVisibleClass,t.slideFullyVisibleClass,t.slideActiveClass,t.slideNextClass,t.slidePrevClass),r.removeAttribute("style"),r.removeAttribute("data-swiper-slide-index")})),e.emit("destroy"),Object.keys(e.eventsListeners).forEach(r=>{e.off(r)}),i!==!1&&(e.el&&typeof e.el!="string"&&(e.el.swiper=null),Jl(e)),e.destroyed=!0),null}static extendDefaults(i){Ge(Et,i)}static get extendedDefaults(){return Et}static get defaults(){return _t}static installModule(i){ze.prototype.__modules__||(ze.prototype.__modules__=[]);const l=ze.prototype.__modules__;typeof i=="function"&&l.indexOf(i)<0&&l.push(i)}static use(i){return Array.isArray(i)?(i.forEach(l=>ze.installModule(l)),ze):(ze.installModule(i),ze)}};Object.keys(Ut).forEach(s=>{Object.keys(Ut[s]).forEach(i=>{ui.prototype[i]=Ut[s][i]})});ui.use([en,tn]);const Zs=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function qe(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"&&!s.__swiper__}function rt(s,i){const l=["__proto__","constructor","prototype"];Object.keys(i).filter(e=>l.indexOf(e)<0).forEach(e=>{typeof s[e]>"u"?s[e]=i[e]:qe(i[e])&&qe(s[e])&&Object.keys(i[e]).length>0?i[e].__swiper__?s[e]=i[e]:rt(s[e],i[e]):s[e]=i[e]})}function bs(s={}){return s.navigation&&typeof s.navigation.nextEl>"u"&&typeof s.navigation.prevEl>"u"}function fs(s={}){return s.pagination&&typeof s.pagination.el>"u"}function ys(s={}){return s.scrollbar&&typeof s.scrollbar.el>"u"}function Xs(s=""){const i=s.split(" ").map(e=>e.trim()).filter(e=>!!e),l=[];return i.forEach(e=>{l.indexOf(e)<0&&l.push(e)}),l.join(" ")}function ra(s=""){return s?s.includes("swiper-wrapper")?s:`swiper-wrapper ${s}`:"swiper-wrapper"}function oa({swiper:s,slides:i,passedParams:l,changedParams:e,nextEl:t,prevEl:n,scrollbarEl:a,paginationEl:o}){const r=e.filter(b=>b!=="children"&&b!=="direction"&&b!=="wrapperClass"),{params:d,pagination:c,navigation:u,scrollbar:m,virtual:p,thumbs:h}=s;let Z,v,V,L,Y,g,X,G;e.includes("thumbs")&&l.thumbs&&l.thumbs.swiper&&!l.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(Z=!0),e.includes("controller")&&l.controller&&l.controller.control&&d.controller&&!d.controller.control&&(v=!0),e.includes("pagination")&&l.pagination&&(l.pagination.el||o)&&(d.pagination||d.pagination===!1)&&c&&!c.el&&(V=!0),e.includes("scrollbar")&&l.scrollbar&&(l.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&m&&!m.el&&(L=!0),e.includes("navigation")&&l.navigation&&(l.navigation.prevEl||n)&&(l.navigation.nextEl||t)&&(d.navigation||d.navigation===!1)&&u&&!u.prevEl&&!u.nextEl&&(Y=!0);const S=b=>{s[b]&&(s[b].destroy(),b==="navigation"?(s.isElement&&(s[b].prevEl.remove(),s[b].nextEl.remove()),d[b].prevEl=void 0,d[b].nextEl=void 0,s[b].prevEl=void 0,s[b].nextEl=void 0):(s.isElement&&s[b].el.remove(),d[b].el=void 0,s[b].el=void 0))};e.includes("loop")&&s.isElement&&(d.loop&&!l.loop?g=!0:!d.loop&&l.loop?X=!0:G=!0),r.forEach(b=>{if(qe(d[b])&&qe(l[b]))Object.assign(d[b],l[b]),(b==="navigation"||b==="pagination"||b==="scrollbar")&&"enabled"in l[b]&&!l[b].enabled&&S(b);else{const H=l[b];(H===!0||H===!1)&&(b==="navigation"||b==="pagination"||b==="scrollbar")?H===!1&&S(b):d[b]=l[b]}}),r.includes("controller")&&!v&&s.controller&&s.controller.control&&d.controller&&d.controller.control&&(s.controller.control=d.controller.control),e.includes("children")&&i&&p&&d.virtual.enabled?(p.slides=i,p.update(!0)):e.includes("virtual")&&p&&d.virtual.enabled&&(i&&(p.slides=i),p.update(!0)),e.includes("children")&&i&&d.loop&&(G=!0),Z&&h.init()&&h.update(!0),v&&(s.controller.control=d.controller.control),V&&(s.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-pagination"),o.part.add("pagination"),s.el.appendChild(o)),o&&(d.pagination.el=o),c.init(),c.render(),c.update()),L&&(s.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),s.el.appendChild(a)),a&&(d.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),Y&&(s.isElement&&((!t||typeof t=="string")&&(t=document.createElement("div"),t.classList.add("swiper-button-next"),wi(t,s.hostEl.constructor.nextButtonSvg),t.part.add("button-next"),s.el.appendChild(t)),(!n||typeof n=="string")&&(n=document.createElement("div"),n.classList.add("swiper-button-prev"),wi(n,s.hostEl.constructor.prevButtonSvg),n.part.add("button-prev"),s.el.appendChild(n))),t&&(d.navigation.nextEl=t),n&&(d.navigation.prevEl=n),u.init(),u.update()),e.includes("allowSlideNext")&&(s.allowSlideNext=l.allowSlideNext),e.includes("allowSlidePrev")&&(s.allowSlidePrev=l.allowSlidePrev),e.includes("direction")&&s.changeDirection(l.direction,!1),(g||G)&&s.loopDestroy(),(X||G)&&s.loopCreate(),s.update()}function Ci(s={},i=!0){const l={on:{}},e={},t={};rt(l,_t),l._emitClasses=!0,l.init=!1;const n={},a=Zs.map(r=>r.replace(/_/,"")),o=Object.assign({},s);return Object.keys(o).forEach(r=>{typeof s[r]>"u"||(a.indexOf(r)>=0?qe(s[r])?(l[r]={},t[r]={},rt(l[r],s[r]),rt(t[r],s[r])):(l[r]=s[r],t[r]=s[r]):r.search(/on[A-Z]/)===0&&typeof s[r]=="function"?i?e[`${r[2].toLowerCase()}${r.substr(3)}`]=s[r]:l.on[`${r[2].toLowerCase()}${r.substr(3)}`]=s[r]:n[r]=s[r])}),["navigation","pagination","scrollbar"].forEach(r=>{l[r]===!0&&(l[r]={}),l[r]===!1&&delete l[r]}),{params:l,passedParams:t,rest:n,events:e}}function da({el:s,nextEl:i,prevEl:l,paginationEl:e,scrollbarEl:t,swiper:n},a){bs(a)&&i&&l&&(n.params.navigation.nextEl=i,n.originalParams.navigation.nextEl=i,n.params.navigation.prevEl=l,n.originalParams.navigation.prevEl=l),fs(a)&&e&&(n.params.pagination.el=e,n.originalParams.pagination.el=e),ys(a)&&t&&(n.params.scrollbar.el=t,n.originalParams.scrollbar.el=t),n.init(s)}function ca(s,i,l,e,t){const n=[];if(!i)return n;const a=r=>{n.indexOf(r)<0&&n.push(r)};if(l&&e){const r=e.map(t),d=l.map(t);r.join("")!==d.join("")&&a("children"),e.length!==l.length&&a("children")}return Zs.filter(r=>r[0]==="_").map(r=>r.replace(/_/,"")).forEach(r=>{if(r in s&&r in i)if(qe(s[r])&&qe(i[r])){const d=Object.keys(s[r]),c=Object.keys(i[r]);d.length!==c.length?a(r):(d.forEach(u=>{s[r][u]!==i[r][u]&&a(r)}),c.forEach(u=>{s[r][u]!==i[r][u]&&a(r)}))}else s[r]!==i[r]&&a(r)}),n}const ua=s=>{!s||s.destroyed||!s.params.virtual||s.params.virtual&&!s.params.virtual.enabled||(s.updateSlides(),s.updateProgress(),s.updateSlidesClasses(),s.emit("_virtualUpdated"),s.parallax&&s.params.parallax&&s.params.parallax.enabled&&s.parallax.setTranslate())};function jt(s={},i,l){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},n=(a,o)=>{Array.isArray(a)&&a.forEach(r=>{const d=typeof r.type=="symbol";o==="default"&&(o="container-end"),d&&r.children?n(r.children,o):r.type&&(r.type.name==="SwiperSlide"||r.type.name==="AsyncComponentWrapper")||r.componentOptions&&r.componentOptions.tag==="SwiperSlide"?e.push(r):t[o]&&t[o].push(r)})};return Object.keys(s).forEach(a=>{if(typeof s[a]!="function")return;const o=s[a]();n(o,a)}),l.value=i.value,i.value=e,{slides:e,slots:t}}function ma(s,i,l){if(!l)return null;const e=c=>{let u=c;return c<0?u=i.length+c:u>=i.length&&(u=u-i.length),u},t=s.value.isHorizontal()?{[s.value.rtlTranslate?"right":"left"]:`${l.offset}px`}:{top:`${l.offset}px`},{from:n,to:a}=l,o=s.value.params.loop?-i.length:0,r=s.value.params.loop?i.length*2:i.length,d=[];for(let c=o;c<r;c+=1)c>=n&&c<=a&&d.length<i.length&&d.push(i[e(c)]);return d.map(c=>{if(c.props||(c.props={}),c.props.style||(c.props.style={}),c.props.swiperRef=s,c.props.style=t,c.type)return Ve(c.type,{...c.props},c.children);if(c.componentOptions)return Ve(c.componentOptions.Ctor,{...c.props},c.componentOptions.children)})}const pa={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},loopAdditionalSlides:{type:Number,default:void 0},loopAddBlankSlides:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","_virtualUpdated","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(s,{slots:i,emit:l}){const{tag:e,wrapperTag:t}=s,n=F("swiper"),a=F(null),o=F(!1),r=F(!1),d=F(null),c=F(null),u=F(null),m={value:[]},p={value:[]},h=F(null),Z=F(null),v=F(null),V=F(null),{params:L,passedParams:Y}=Ci(s,!1);jt(i,m,p),u.value=Y,p.value=m.value;const g=()=>{jt(i,m,p),o.value=!0};L.onAny=(S,...b)=>{l(S,...b)},Object.assign(L.on,{_beforeBreakpoint:g,_containerClasses(S,b){n.value=b}});const X={...L};if(delete X.wrapperClass,c.value=new ui(X),c.value.virtual&&c.value.params.virtual.enabled){c.value.virtual.slides=m.value;const S={cache:!1,slides:m.value,renderExternal:b=>{a.value=b},renderExternalUpdate:!1};rt(c.value.params.virtual,S),rt(c.value.originalParams.virtual,S)}es(()=>{!r.value&&c.value&&(c.value.emitSlidesClasses(),r.value=!0);const{passedParams:S}=Ci(s,!1),b=ca(S,u.value,m.value,p.value,H=>H.props&&H.props.key);u.value=S,(b.length||o.value)&&c.value&&!c.value.destroyed&&oa({swiper:c.value,slides:m.value,passedParams:S,changedParams:b,nextEl:h.value,prevEl:Z.value,scrollbarEl:V.value,paginationEl:v.value}),o.value=!1}),ts("swiper",c),Gt(a,()=>{oi(()=>{ua(c.value)})}),Mt(()=>{d.value&&(da({el:d.value,nextEl:h.value,prevEl:Z.value,paginationEl:v.value,scrollbarEl:V.value,swiper:c.value},L),l("swiper",c.value))}),ri(()=>{c.value&&!c.value.destroyed&&c.value.destroy(!0,!1)});function G(S){return L.virtual?ma(c,S,a.value):(S.forEach((b,H)=>{b.props||(b.props={}),b.props.swiperRef=c,b.props.swiperSlideIndex=H}),S)}return()=>{const{slides:S,slots:b}=jt(i,m,p);return Ve(e,{ref:d,class:Xs(n.value)},[b["container-start"],Ve(t,{class:ra(L.wrapperClass)},[b["wrapper-start"],G(S),b["wrapper-end"]]),bs(s)&&[Ve("div",{ref:Z,class:"swiper-button-prev"}),Ve("div",{ref:h,class:"swiper-button-next"})],ys(s)&&Ve("div",{ref:V,class:"swiper-scrollbar"}),fs(s)&&Ve("div",{ref:v,class:"swiper-pagination"}),b["container-end"]])}}},ha={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(s,{slots:i}){let l=!1;const{swiperRef:e}=s,t=F(null),n=F("swiper-slide"),a=F(!1);function o(c,u,m){u===t.value&&(n.value=m)}Mt(()=>{!e||!e.value||(e.value.on("_slideClass",o),l=!0)}),qs(()=>{l||!e||!e.value||(e.value.on("_slideClass",o),l=!0)}),es(()=>{!t.value||!e||!e.value||(typeof s.swiperSlideIndex<"u"&&(t.value.swiperSlideIndex=s.swiperSlideIndex),e.value.destroyed&&n.value!=="swiper-slide"&&(n.value="swiper-slide"))}),ri(()=>{!e||!e.value||e.value.off("_slideClass",o)});const r=el(()=>({isActive:n.value.indexOf("swiper-slide-active")>=0,isVisible:n.value.indexOf("swiper-slide-visible")>=0,isPrev:n.value.indexOf("swiper-slide-prev")>=0,isNext:n.value.indexOf("swiper-slide-next")>=0}));ts("swiperSlide",r);const d=()=>{a.value=!0};return()=>Ve(s.tag,{class:Xs(`${n.value}`),ref:t,"data-swiper-slide-index":typeof s.virtualIndex>"u"&&e&&e.value&&e.value.params.loop?s.swiperSlideIndex:s.virtualIndex,onLoadCapture:d},s.zoom?Ve("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof s.zoom=="number"?s.zoom:void 0},[i.default&&i.default(r.value),s.lazy&&!a.value&&Ve("div",{class:"swiper-lazy-preloader"})]):[i.default&&i.default(r.value),s.lazy&&!a.value&&Ve("div",{class:"swiper-lazy-preloader"})])}},Za="/rotate.png";class he{static create(...i){return new this(...i)}mixIn(i){return Object.assign(this,i)}clone(){const i=new this.constructor;return Object.assign(i,this),i}}class Ze extends he{constructor(i=[],l=i.length*4){super();let e=i;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){const t=e.byteLength,n=[];for(let a=0;a<t;a+=1)n[a>>>2]|=e[a]<<24-a%4*8;this.words=n,this.sigBytes=t}else this.words=i,this.sigBytes=l}static random(i){const l=[],e=t=>{let n=t,a=987654321;const o=4294967295;return()=>{a=36969*(a&65535)+(a>>16)&o,n=18e3*(n&65535)+(n>>16)&o;let r=(a<<16)+n&o;return r/=4294967296,r+=.5,r*(Math.random()>.5?1:-1)}};for(let t=0,n;t<i;t+=4){const a=e((n||Math.random())*4294967296);n=a()*987654071,l.push(a()*4294967296|0)}return new Ze(l,i)}toString(i=$t){return i.stringify(this)}concat(i){const l=this.words,e=i.words,t=this.sigBytes,n=i.sigBytes;if(this.clamp(),t%4)for(let a=0;a<n;a+=1){const o=e[a>>>2]>>>24-a%4*8&255;l[t+a>>>2]|=o<<24-(t+a)%4*8}else for(let a=0;a<n;a+=4)l[t+a>>>2]=e[a>>>2];return this.sigBytes+=n,this}clamp(){const{words:i,sigBytes:l}=this;i[l>>>2]&=4294967295<<32-l%4*8,i.length=Math.ceil(l/4)}clone(){const i=super.clone.call(this);return i.words=this.words.slice(0),i}}const $t={stringify(s){const{words:i,sigBytes:l}=s,e=[];for(let t=0;t<l;t+=1){const n=i[t>>>2]>>>24-t%4*8&255;e.push((n>>>4).toString(16)),e.push((n&15).toString(16))}return e.join("")},parse(s){const i=s.length,l=[];for(let e=0;e<i;e+=2)l[e>>>3]|=parseInt(s.substr(e,2),16)<<24-e%8*4;return new Ze(l,i/2)}},Ki={stringify(s){const{words:i,sigBytes:l}=s,e=[];for(let t=0;t<l;t+=1){const n=i[t>>>2]>>>24-t%4*8&255;e.push(String.fromCharCode(n))}return e.join("")},parse(s){const i=s.length,l=[];for(let e=0;e<i;e+=1)l[e>>>2]|=(s.charCodeAt(e)&255)<<24-e%4*8;return new Ze(l,i)}},Ws={stringify(s){try{return decodeURIComponent(escape(Ki.stringify(s)))}catch{throw new Error("Malformed UTF-8 data")}},parse(s){return Ki.parse(unescape(encodeURIComponent(s)))}};class Ls extends he{constructor(){super(),this._minBufferSize=0}reset(){this._data=new Ze,this._nDataBytes=0}_append(i){let l=i;typeof l=="string"&&(l=Ws.parse(l)),this._data.concat(l),this._nDataBytes+=l.sigBytes}_process(i){let l;const{_data:e,blockSize:t}=this,n=e.words,a=e.sigBytes,o=t*4;let r=a/o;i?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);const d=r*t,c=Math.min(d*4,a);if(d){for(let u=0;u<d;u+=t)this._doProcessBlock(n,u);l=n.splice(0,d),e.sigBytes-=c}return new Ze(l,c)}clone(){const i=super.clone.call(this);return i._data=this._data.clone(),i}}class ba extends Ls{constructor(i){super(),this.blockSize=512/32,this.cfg=Object.assign(new he,i),this.reset()}static _createHelper(i){return(l,e)=>new i(e).finalize(l)}static _createHmacHelper(i){return(l,e)=>new fa(i,e).finalize(l)}reset(){super.reset.call(this),this._doReset()}update(i){return this._append(i),this._process(),this}finalize(i){return i&&this._append(i),this._doFinalize()}}class fa extends he{constructor(i,l){super();const e=new i;this._hasher=e;let t=l;typeof t=="string"&&(t=Ws.parse(t));const n=e.blockSize,a=n*4;t.sigBytes>a&&(t=e.finalize(l)),t.clamp();const o=t.clone();this._oKey=o;const r=t.clone();this._iKey=r;const d=o.words,c=r.words;for(let u=0;u<n;u+=1)d[u]^=1549556828,c[u]^=909522486;o.sigBytes=a,r.sigBytes=a,this.reset()}reset(){const i=this._hasher;i.reset(),i.update(this._iKey)}update(i){return this._hasher.update(i),this}finalize(i){const l=this._hasher,e=l.finalize(i);return l.reset(),l.finalize(this._oKey.clone().concat(e))}}const ya=(s,i,l)=>{const e=[];let t=0;for(let n=0;n<i;n+=1)if(n%4){const a=l[s.charCodeAt(n-1)]<<n%4*2,o=l[s.charCodeAt(n)]>>>6-n%4*2,r=a|o;e[t>>>2]|=r<<24-t%4*8,t+=1}return Ze.create(e,t)},ki={stringify(s){const{words:i,sigBytes:l}=s,e=this._map;s.clamp();const t=[];for(let a=0;a<l;a+=3){const o=i[a>>>2]>>>24-a%4*8&255,r=i[a+1>>>2]>>>24-(a+1)%4*8&255,d=i[a+2>>>2]>>>24-(a+2)%4*8&255,c=o<<16|r<<8|d;for(let u=0;u<4&&a+u*.75<l;u+=1)t.push(e.charAt(c>>>6*(3-u)&63))}const n=e.charAt(64);if(n)for(;t.length%4;)t.push(n);return t.join("")},parse(s){let i=s.length;const l=this._map;let e=this._reverseMap;if(!e){this._reverseMap=[],e=this._reverseMap;for(let n=0;n<l.length;n+=1)e[l.charCodeAt(n)]=n}const t=l.charAt(64);if(t){const n=s.indexOf(t);n!==-1&&(i=n)}return ya(s,i,e)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},z=[];for(let s=0;s<64;s+=1)z[s]=Math.abs(Math.sin(s+1))*4294967296|0;const re=(s,i,l,e,t,n,a)=>{const o=s+(i&l|~i&e)+t+a;return(o<<n|o>>>32-n)+i},oe=(s,i,l,e,t,n,a)=>{const o=s+(i&e|l&~e)+t+a;return(o<<n|o>>>32-n)+i},de=(s,i,l,e,t,n,a)=>{const o=s+(i^l^e)+t+a;return(o<<n|o>>>32-n)+i},ce=(s,i,l,e,t,n,a)=>{const o=s+(l^(i|~e))+t+a;return(o<<n|o>>>32-n)+i};class Xa extends ba{_doReset(){this._hash=new Ze([1732584193,4023233417,2562383102,271733878])}_doProcessBlock(i,l){const e=i;for(let H=0;H<16;H+=1){const C=l+H,I=i[C];e[C]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}const t=this._hash.words,n=e[l+0],a=e[l+1],o=e[l+2],r=e[l+3],d=e[l+4],c=e[l+5],u=e[l+6],m=e[l+7],p=e[l+8],h=e[l+9],Z=e[l+10],v=e[l+11],V=e[l+12],L=e[l+13],Y=e[l+14],g=e[l+15];let X=t[0],G=t[1],S=t[2],b=t[3];X=re(X,G,S,b,n,7,z[0]),b=re(b,X,G,S,a,12,z[1]),S=re(S,b,X,G,o,17,z[2]),G=re(G,S,b,X,r,22,z[3]),X=re(X,G,S,b,d,7,z[4]),b=re(b,X,G,S,c,12,z[5]),S=re(S,b,X,G,u,17,z[6]),G=re(G,S,b,X,m,22,z[7]),X=re(X,G,S,b,p,7,z[8]),b=re(b,X,G,S,h,12,z[9]),S=re(S,b,X,G,Z,17,z[10]),G=re(G,S,b,X,v,22,z[11]),X=re(X,G,S,b,V,7,z[12]),b=re(b,X,G,S,L,12,z[13]),S=re(S,b,X,G,Y,17,z[14]),G=re(G,S,b,X,g,22,z[15]),X=oe(X,G,S,b,a,5,z[16]),b=oe(b,X,G,S,u,9,z[17]),S=oe(S,b,X,G,v,14,z[18]),G=oe(G,S,b,X,n,20,z[19]),X=oe(X,G,S,b,c,5,z[20]),b=oe(b,X,G,S,Z,9,z[21]),S=oe(S,b,X,G,g,14,z[22]),G=oe(G,S,b,X,d,20,z[23]),X=oe(X,G,S,b,h,5,z[24]),b=oe(b,X,G,S,Y,9,z[25]),S=oe(S,b,X,G,r,14,z[26]),G=oe(G,S,b,X,p,20,z[27]),X=oe(X,G,S,b,L,5,z[28]),b=oe(b,X,G,S,o,9,z[29]),S=oe(S,b,X,G,m,14,z[30]),G=oe(G,S,b,X,V,20,z[31]),X=de(X,G,S,b,c,4,z[32]),b=de(b,X,G,S,p,11,z[33]),S=de(S,b,X,G,v,16,z[34]),G=de(G,S,b,X,Y,23,z[35]),X=de(X,G,S,b,a,4,z[36]),b=de(b,X,G,S,d,11,z[37]),S=de(S,b,X,G,m,16,z[38]),G=de(G,S,b,X,Z,23,z[39]),X=de(X,G,S,b,L,4,z[40]),b=de(b,X,G,S,n,11,z[41]),S=de(S,b,X,G,r,16,z[42]),G=de(G,S,b,X,u,23,z[43]),X=de(X,G,S,b,h,4,z[44]),b=de(b,X,G,S,V,11,z[45]),S=de(S,b,X,G,g,16,z[46]),G=de(G,S,b,X,o,23,z[47]),X=ce(X,G,S,b,n,6,z[48]),b=ce(b,X,G,S,m,10,z[49]),S=ce(S,b,X,G,Y,15,z[50]),G=ce(G,S,b,X,c,21,z[51]),X=ce(X,G,S,b,V,6,z[52]),b=ce(b,X,G,S,r,10,z[53]),S=ce(S,b,X,G,Z,15,z[54]),G=ce(G,S,b,X,a,21,z[55]),X=ce(X,G,S,b,p,6,z[56]),b=ce(b,X,G,S,g,10,z[57]),S=ce(S,b,X,G,u,15,z[58]),G=ce(G,S,b,X,L,21,z[59]),X=ce(X,G,S,b,d,6,z[60]),b=ce(b,X,G,S,v,10,z[61]),S=ce(S,b,X,G,o,15,z[62]),G=ce(G,S,b,X,h,21,z[63]),t[0]=t[0]+X|0,t[1]=t[1]+G|0,t[2]=t[2]+S|0,t[3]=t[3]+b|0}_doFinalize(){const i=this._data,l=i.words,e=this._nDataBytes*8,t=i.sigBytes*8;l[t>>>5]|=128<<24-t%32;const n=Math.floor(e/4294967296),a=e;l[(t+64>>>9<<4)+15]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360,l[(t+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360,i.sigBytes=(l.length+1)*4,this._process();const o=this._hash,r=o.words;for(let d=0;d<4;d+=1){const c=r[d];r[d]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360}return o}clone(){const i=super.clone.call(this);return i._hash=this._hash.clone(),i}}class Wa extends he{constructor(i){super(),this.cfg=Object.assign(new he,{keySize:128/32,hasher:Xa,iterations:1},i)}compute(i,l){let e;const{cfg:t}=this,n=t.hasher.create(),a=Ze.create(),o=a.words,{keySize:r,iterations:d}=t;for(;o.length<r;){e&&n.update(e),e=n.update(i).finalize(l),n.reset();for(let c=1;c<d;c+=1)e=n.finalize(e),n.reset();a.concat(e)}return a.sigBytes=r*4,a}}class bt extends Ls{constructor(i,l,e){super(),this.cfg=Object.assign(new he,e),this._xformMode=i,this._key=l,this.reset()}static createEncryptor(i,l){return this.create(this._ENC_XFORM_MODE,i,l)}static createDecryptor(i,l){return this.create(this._DEC_XFORM_MODE,i,l)}static _createHelper(i){const l=e=>typeof e=="string"?gs:ot;return{encrypt(e,t,n){return l(t).encrypt(i,e,t,n)},decrypt(e,t,n){return l(t).decrypt(i,e,t,n)}}}reset(){super.reset.call(this),this._doReset()}process(i){return this._append(i),this._process()}finalize(i){return i&&this._append(i),this._doFinalize()}}bt._ENC_XFORM_MODE=1;bt._DEC_XFORM_MODE=2;bt.keySize=128/32;bt.ivSize=128/32;class Ss extends he{constructor(i,l){super(),this._cipher=i,this._iv=l}static createEncryptor(i,l){return this.Encryptor.create(i,l)}static createDecryptor(i,l){return this.Decryptor.create(i,l)}}function Gs(s,i,l){const e=s;let t;const n=this._iv;n?(t=n,this._iv=void 0):t=this._prevBlock;for(let a=0;a<l;a+=1)e[i+a]^=t[a]}class mt extends Ss{}mt.Encryptor=class extends mt{processBlock(s,i){const l=this._cipher,{blockSize:e}=l;Gs.call(this,s,i,e),l.encryptBlock(s,i),this._prevBlock=s.slice(i,i+e)}};mt.Decryptor=class extends mt{processBlock(s,i){const l=this._cipher,{blockSize:e}=l,t=s.slice(i,i+e);l.decryptBlock(s,i),Gs.call(this,s,i,e),this._prevBlock=t}};const La={pad(s,i){const l=i*4,e=l-s.sigBytes%l,t=e<<24|e<<16|e<<8|e,n=[];for(let o=0;o<e;o+=4)n.push(t);const a=Ze.create(n,e);s.concat(a)},unpad(s){const i=s,l=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=l}};class Vs extends bt{constructor(i,l,e){super(i,l,Object.assign({mode:mt,padding:La},e)),this.blockSize=128/32}reset(){let i;super.reset.call(this);const{cfg:l}=this,{iv:e,mode:t}=l;this._xformMode===this.constructor._ENC_XFORM_MODE?i=t.createEncryptor:(i=t.createDecryptor,this._minBufferSize=1),this._mode=i.call(t,this,e&&e.words),this._mode.__creator=i}_doProcessBlock(i,l){this._mode.processBlock(i,l)}_doFinalize(){let i;const{padding:l}=this.cfg;return this._xformMode===this.constructor._ENC_XFORM_MODE?(l.pad(this._data,this.blockSize),i=this._process(!0)):(i=this._process(!0),l.unpad(i)),i}}class Rt extends he{constructor(i){super(),this.mixIn(i)}toString(i){return(i||this.formatter).stringify(this)}}const Sa={stringify(s){let i;const{ciphertext:l,salt:e}=s;return e?i=Ze.create([1398893684,1701076831]).concat(e).concat(l):i=l,i.toString(ki)},parse(s){let i;const l=ki.parse(s),e=l.words;return e[0]===1398893684&&e[1]===1701076831&&(i=Ze.create(e.slice(2,4)),e.splice(0,4),l.sigBytes-=16),Rt.create({ciphertext:l,salt:i})}};class ot extends he{static encrypt(i,l,e,t){const n=Object.assign(new he,this.cfg,t),a=i.createEncryptor(e,n),o=a.finalize(l),r=a.cfg;return Rt.create({ciphertext:o,key:e,iv:r.iv,algorithm:i,mode:r.mode,padding:r.padding,blockSize:a.blockSize,formatter:n.format})}static decrypt(i,l,e,t){let n=l;const a=Object.assign(new he,this.cfg,t);return n=this._parse(n,a.format),i.createDecryptor(e,a).finalize(n.ciphertext)}static _parse(i,l){return typeof i=="string"?l.parse(i,this):i}}ot.cfg=Object.assign(new he,{format:Sa});const Ga={execute(s,i,l,e){let t=e;t||(t=Ze.random(64/8));const n=Wa.create({keySize:i+l}).compute(s,t),a=Ze.create(n.words.slice(i),l*4);return n.sigBytes=i*4,Rt.create({key:n,iv:a,salt:t})}};class gs extends ot{static encrypt(i,l,e,t){const n=Object.assign(new he,this.cfg,t),a=n.kdf.execute(e,i.keySize,i.ivSize);n.iv=a.iv;const o=ot.encrypt.call(this,i,l,a.key,n);return o.mixIn(a),o}static decrypt(i,l,e,t){let n=l;const a=Object.assign(new he,this.cfg,t);n=this._parse(n,a.format);const o=a.kdf.execute(e,i.keySize,i.ivSize,n.salt);return a.iv=o.iv,ot.decrypt.call(this,i,n,o.key,a)}}gs.cfg=Object.assign(ot.cfg,{kdf:Ga});const Xe=[],vs=[],Ys=[],xs=[],ws=[],Ms=[],qt=[],ei=[],ti=[],ii=[],we=[];for(let s=0;s<256;s+=1)s<128?we[s]=s<<1:we[s]=s<<1^283;let xe=0,ke=0;for(let s=0;s<256;s+=1){let i=ke^ke<<1^ke<<2^ke<<3^ke<<4;i=i>>>8^i&255^99,Xe[xe]=i,vs[i]=xe;const l=we[xe],e=we[l],t=we[e];let n=we[i]*257^i*16843008;Ys[xe]=n<<24|n>>>8,xs[xe]=n<<16|n>>>16,ws[xe]=n<<8|n>>>24,Ms[xe]=n,n=t*16843009^e*65537^l*257^xe*16843008,qt[i]=n<<24|n>>>8,ei[i]=n<<16|n>>>16,ti[i]=n<<8|n>>>24,ii[i]=n,xe?(xe=l^we[we[we[t^l]]],ke^=we[we[ke]]):(ke=1,xe=ke)}const Va=[0,1,2,4,8,16,32,64,128,27,54];class Ts extends Vs{_doReset(){let i;if(this._nRounds&&this._keyPriorReset===this._key)return;this._keyPriorReset=this._key;const l=this._keyPriorReset,e=l.words,t=l.sigBytes/4;this._nRounds=t+6;const a=(this._nRounds+1)*4;this._keySchedule=[];const o=this._keySchedule;for(let d=0;d<a;d+=1)d<t?o[d]=e[d]:(i=o[d-1],d%t?t>6&&d%t===4&&(i=Xe[i>>>24]<<24|Xe[i>>>16&255]<<16|Xe[i>>>8&255]<<8|Xe[i&255]):(i=i<<8|i>>>24,i=Xe[i>>>24]<<24|Xe[i>>>16&255]<<16|Xe[i>>>8&255]<<8|Xe[i&255],i^=Va[d/t|0]<<24),o[d]=o[d-t]^i);this._invKeySchedule=[];const r=this._invKeySchedule;for(let d=0;d<a;d+=1){const c=a-d;d%4?i=o[c]:i=o[c-4],d<4||c<=4?r[d]=i:r[d]=qt[Xe[i>>>24]]^ei[Xe[i>>>16&255]]^ti[Xe[i>>>8&255]]^ii[Xe[i&255]]}}encryptBlock(i,l){this._doCryptBlock(i,l,this._keySchedule,Ys,xs,ws,Ms,Xe)}decryptBlock(i,l){const e=i;let t=e[l+1];e[l+1]=e[l+3],e[l+3]=t,this._doCryptBlock(e,l,this._invKeySchedule,qt,ei,ti,ii,vs),t=e[l+1],e[l+1]=e[l+3],e[l+3]=t}_doCryptBlock(i,l,e,t,n,a,o,r){const d=i,c=this._nRounds;let u=d[l]^e[0],m=d[l+1]^e[1],p=d[l+2]^e[2],h=d[l+3]^e[3],Z=4;for(let g=1;g<c;g+=1){const X=t[u>>>24]^n[m>>>16&255]^a[p>>>8&255]^o[h&255]^e[Z];Z+=1;const G=t[m>>>24]^n[p>>>16&255]^a[h>>>8&255]^o[u&255]^e[Z];Z+=1;const S=t[p>>>24]^n[h>>>16&255]^a[u>>>8&255]^o[m&255]^e[Z];Z+=1;const b=t[h>>>24]^n[u>>>16&255]^a[m>>>8&255]^o[p&255]^e[Z];Z+=1,u=X,m=G,p=S,h=b}const v=(r[u>>>24]<<24|r[m>>>16&255]<<16|r[p>>>8&255]<<8|r[h&255])^e[Z];Z+=1;const V=(r[m>>>24]<<24|r[p>>>16&255]<<16|r[h>>>8&255]<<8|r[u&255])^e[Z];Z+=1;const L=(r[p>>>24]<<24|r[h>>>16&255]<<16|r[u>>>8&255]<<8|r[m&255])^e[Z];Z+=1;const Y=(r[h>>>24]<<24|r[u>>>16&255]<<16|r[m>>>8&255]<<8|r[p&255])^e[Z];Z+=1,d[l]=v,d[l+1]=V,d[l+2]=L,d[l+3]=Y}}Ts.keySize=256/32;const ga=Vs._createHelper(Ts);class pt extends Ss{}pt.Encryptor=class extends pt{processBlock(s,i){const l=s,e=this._cipher,{blockSize:t}=e,n=this._iv;let a=this._counter;n&&(this._counter=n.slice(0),a=this._counter,this._iv=void 0);const o=a.slice(0);e.encryptBlock(o,0),a[t-1]=a[t-1]+1|0;for(let r=0;r<t;r+=1)l[i+r]^=o[r]}};pt.Decryptor=pt.Encryptor;const va={pad(){},unpad(){}};var gt={decryptWordArray:function(i,l,e){var t=$t.parse(l),n=$t.parse(ml(e)),a=Ze.create(new Uint8Array(i)),o=ga.decrypt(Rt.create({ciphertext:a}),t,{iv:n,mode:pt,padding:va});return gt.wordArrayToUint8Array(o)},wordArrayToUint8Array:function(i){for(var l=i.sigBytes,e=i.words,t=new Uint8Array(l),n=0,a=0;n!==l;){var o=e[a++];if(t[n++]=(o&4278190080)>>>24,n===l||(t[n++]=(o&16711680)>>>16,n===l)||(t[n++]=(o&65280)>>>8,n===l))break;t[n++]=o&255}return t},decoderAESCTRData:function(i,l,e){if(i.videoSenc){var t=i.kidValue,n=i.videoSenc;i.samples.forEach(function(r,d){var c=n[d],u=r.data,m=[],p=[],h=c.InitializationVector;if(c.subsamples&&c.subsamples.length)c.subsamples.forEach(function(Y){var g=Y.BytesOfClearData+Y.BytesOfProtectedData,X=u.slice(0,g);m.push(X.slice(0,Y.BytesOfClearData)),p.push(X.slice(Y.BytesOfClearData)),u=u.slice(g)});else{var Z=r.size;m.push(u.slice(0,0)),p.push(u.slice(0,Z)),u=u.slice(Z)}var v=new bi;v.write.apply(v,p);var V=e?e(v.buffer,t,h):gt.decryptWordArray(v.buffer,t,h),L=new bi;m.forEach(function(Y,g){var X=p[g].length,G=V.slice(0,X);L.write(Y),L.write(G),V=V.slice(X)}),i.samples[d].data=L.buffer})}if(l.audioSenc){var a=l.kidValue,o=l.audioSenc;l.samples.forEach(function(r,d){var c=o[d],u=e?e(r.data,a,c.InitializationVector):gt.decryptWordArray(r.data,a,c.InitializationVector);l.samples[d].data=u})}}},Hi=20,Ya=function(){function s(i,l,e,t){var n=this;hl(this,s),ft(this,"_videoSamples",[]),ft(this,"_audioSamples",[]),ft(this,"_lastRemainBuffer",[]),ft(this,"_lastRemainBufferStartPos",0),this.videoTrack=new Zl,this.audioTrack=new bl,this.metadataTrack=e||new fl,this.log=new yl("MP4Demuxer",t&&t.openLog?!t.openLog:!0),i&&i.forEach(function(a){var o;(o=n._videoSamples).push.apply(o,Wi(a.frames))}),l&&l.forEach(function(a){var o;(o=n._audioSamples).push.apply(o,Wi(a.frames))})}return pl(s,[{key:"parseSamples",value:function(l){if(!l)throw new Error("moov is required");if(!this.videoTrack.codec&&!this.audioTrack.codec&&(le.moovToTrack(l,this.videoTrack,this.audioTrack),this.videoSenc=this.videoTrack.videoSenc,this.audioSenc=this.audioTrack.audioSenc),!this._audioSamples.length&&!this._videoSamples.length){var e=le.moovToSamples(l);if(!e)throw new Error("cannot parse samples from moov box");this._videoSamples=e.videoSamples||[],this._audioSamples=e.audioSamples||[]}}},{key:"demux",value:function(l,e,t,n,a){this.parseSamples(a);var o=this.videoTrack,r=this.audioTrack;o.samples=[],r.samples=[];var d,c,u;if(t){for(var m,p=0,h=t[0],Z=t[1];h<=Z;h++){if(d=this._videoSamples[h],!d)throw new Error("cannot found video frame #".concat(h));u=d.offset-e,c=l.subarray(u,u+d.size),m=new fi(d.pts||d.dts,d.dts),m.duration=d.duration,m.gopId=d.gopId,d.keyframe&&m.setToKeyframe();for(var v=0,V=c.length-1;v<V;)p=yi(c,v),v+=4,m.units.push(c.subarray(v,v+p)),v+=p;o.samples.push(m)}o.baseMediaDecodeTime=o.samples[0].dts}if(n){for(var L=n[0],Y=n[1];L<=Y;L++){if(d=this._audioSamples[L],!d)throw new Error("cannot found video frame #".concat(L));u=d.offset-e,c=l.subarray(u,u+d.size),r.samples.push(new Xi(d.dts,c,d.duration))}r.baseMediaDecodeTime=r.samples[0].dts}return{videoTrack:o,audioTrack:r,metadataTrack:this.metadataTrack}}},{key:"demuxPart",value:function(l,e,t,n,a,o,r,d){if(this.parseSamples(a),this.videoTrack.useEME=o,this.audioTrack.useEME=o,this._lastRemainBuffer&&this._lastRemainBuffer.byteLength>0&&e>this._lastRemainBufferStartPos&&e<=this._lastRemainBufferStartPos+this._lastRemainBuffer.byteLength)for(var c=0;c<Hi;)try{var u=this._lastRemainBuffer.subarray(0,e-this._lastRemainBufferStartPos),m=new Uint8Array(l.byteLength+u.byteLength);m.set(u,0),m.set(new Uint8Array(l),u.byteLength),l=m,e-=u.byteLength,this._lastRemainBuffer=null,this._lastRemainBufferStartPos=0;break}catch(y){if(c<Hi)c++;else throw new Error("new Uint8Array error:,"+y.errorMessage)}var p=this.videoTrack,h=this.audioTrack;p.samples=[],h.samples=[],p.videoSenc=null,h.audioSenc=null;var Z,v,V,L=0,Y=0;if(this._videoSamples.length>0&&t.length>0){for(var g,X=l.byteLength+e,G=t[0];G<=t[1];G++){if(Z=this._videoSamples[G],!Z)throw new Error("cannot found video frame #".concat(G));Z.offset>=e&&Z.offset+Z.size<=X&&(V=Z.offset-e,L=V+Z.size,v=l.subarray(V,L),g=new fi(Z.pts||Z.dts,Z.dts),g.duration=Z.duration,g.gopId=Z.gopId,g.sampleOffset=Z.index,Z.keyframe&&g.setToKeyframe(),g.data=v,g.size=Z.size,p.samples.push(g))}p.samples.length>0&&(p.gopId=p.samples[0].gopId,p.baseMediaDecodeTime=p.samples[0].dts,p.startPts=p.samples[0].pts/p.timescale,p.endPts=p.samples[p.samples.length-1].pts/p.timescale,this.videoSenc&&(p.videoSenc=this.videoSenc.slice(p.samples[0].sampleOffset,p.samples[0].sampleOffset+p.samples.length),p.kidValue=r))}if(this._audioSamples.length>0&&n.length>0){for(var S=n[0];S<=n[1];S++){if(Z=this._audioSamples[S],!Z)throw new Error("cannot found video frame #".concat(S));Z.offset>=e&&Z.offset+Z.size<=l.byteLength+e&&(V=Z.offset-e,Y=V+Z.size,v=l.subarray(V,Y),h.samples.push(new Xi(Z.dts,v,Z.duration,Z.index)))}h.samples.length>0&&(h.gopId=h.samples[0].gopId||p.gopId,h.baseMediaDecodeTime=h.samples[0].dts,h.startPts=h.samples[0].pts/h.timescale,h.endPts=h.samples[h.samples.length-1].pts/h.timescale,this.audioSenc&&(h.audioSenc=this.audioSenc.slice(h.samples[0].sampleOffset,h.samples[0].sampleOffset+h.samples.length),h.kidValue=r))}this.decoderData(p,h,d);for(var b=0,H=0;H<p.samples.length;H++)for(var C=0,I=p.samples[H].data,f=I.length-1;C<f;)b=yi(I,C),C+=4,p.samples[H].units.push(I.subarray(C,C+b)),C+=b;return this._lastRemainBuffer=l.subarray(Math.max(L,Y)),this._lastRemainBuffer.byteLength>0?this._lastRemainBufferStartPos=e+l.byteLength-this._lastRemainBuffer.byteLength:this._lastRemainBufferStartPos=0,{videoTrack:p,audioTrack:h,metadataTrack:this.metadataTrack}}},{key:"reset",value:function(){this._videoSamples=[],this._audioSamples=[],this._lastRemainBuffer=null,this._lastRemainBufferStartPos=0,this.videoTrack.reset(),this.audioTrack.reset(),this.metadataTrack.reset()}},{key:"decoderData",value:function(l,e,t){l.useEME||e.useEME||gt.decoderAESCTRData(l,e,t)}}],[{key:"probe",value:function(l){return le.probe(l)}}]),s}();function zi(s,i){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);i&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})),l.push.apply(l,e)}return l}function Ue(s){for(var i=1;i<arguments.length;i++){var l=arguments[i]!=null?arguments[i]:{};i%2?zi(Object(l),!0).forEach(function(e){Se(s,e,l[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):zi(Object(l)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(l,e))})}return s}function j(){j=function(){return s};var s={},i=Object.prototype,l=i.hasOwnProperty,e=Object.defineProperty||function(f,y,W){f[y]=W.value},t=typeof Symbol=="function"?Symbol:{},n=t.iterator||"@@iterator",a=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function r(f,y,W){return Object.defineProperty(f,y,{value:W,enumerable:!0,configurable:!0,writable:!0}),f[y]}try{r({},"")}catch{r=function(y,W,w){return y[W]=w}}function d(f,y,W,w){var x=y&&y.prototype instanceof m?y:m,T=Object.create(x.prototype),M=new H(w||[]);return e(T,"_invoke",{value:X(f,W,M)}),T}function c(f,y,W){try{return{type:"normal",arg:f.call(y,W)}}catch(w){return{type:"throw",arg:w}}}s.wrap=d;var u={};function m(){}function p(){}function h(){}var Z={};r(Z,n,function(){return this});var v=Object.getPrototypeOf,V=v&&v(v(C([])));V&&V!==i&&l.call(V,n)&&(Z=V);var L=h.prototype=m.prototype=Object.create(Z);function Y(f){["next","throw","return"].forEach(function(y){r(f,y,function(W){return this._invoke(y,W)})})}function g(f,y){function W(x,T,M,P){var K=c(f[x],f,T);if(K.type!=="throw"){var E=K.arg,ee=E.value;return ee&&typeof ee=="object"&&l.call(ee,"__await")?y.resolve(ee.__await).then(function(R){W("next",R,M,P)},function(R){W("throw",R,M,P)}):y.resolve(ee).then(function(R){E.value=R,M(E)},function(R){return W("throw",R,M,P)})}P(K.arg)}var w;e(this,"_invoke",{value:function(x,T){function M(){return new y(function(P,K){W(x,T,P,K)})}return w=w?w.then(M,M):M()}})}function X(f,y,W){var w="suspendedStart";return function(x,T){if(w==="executing")throw new Error("Generator is already running");if(w==="completed"){if(x==="throw")throw T;return I()}for(W.method=x,W.arg=T;;){var M=W.delegate;if(M){var P=G(M,W);if(P){if(P===u)continue;return P}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(w==="suspendedStart")throw w="completed",W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);w="executing";var K=c(f,y,W);if(K.type==="normal"){if(w=W.done?"completed":"suspendedYield",K.arg===u)continue;return{value:K.arg,done:W.done}}K.type==="throw"&&(w="completed",W.method="throw",W.arg=K.arg)}}}function G(f,y){var W=y.method,w=f.iterator[W];if(w===void 0)return y.delegate=null,W==="throw"&&f.iterator.return&&(y.method="return",y.arg=void 0,G(f,y),y.method==="throw")||W!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+W+"' method")),u;var x=c(w,f.iterator,y.arg);if(x.type==="throw")return y.method="throw",y.arg=x.arg,y.delegate=null,u;var T=x.arg;return T?T.done?(y[f.resultName]=T.value,y.next=f.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,u):T:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,u)}function S(f){var y={tryLoc:f[0]};1 in f&&(y.catchLoc=f[1]),2 in f&&(y.finallyLoc=f[2],y.afterLoc=f[3]),this.tryEntries.push(y)}function b(f){var y=f.completion||{};y.type="normal",delete y.arg,f.completion=y}function H(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(S,this),this.reset(!0)}function C(f){if(f){var y=f[n];if(y)return y.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var W=-1,w=function x(){for(;++W<f.length;)if(l.call(f,W))return x.value=f[W],x.done=!1,x;return x.value=void 0,x.done=!0,x};return w.next=w}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=h,e(L,"constructor",{value:h,configurable:!0}),e(h,"constructor",{value:p,configurable:!0}),p.displayName=r(h,o,"GeneratorFunction"),s.isGeneratorFunction=function(f){var y=typeof f=="function"&&f.constructor;return!!y&&(y===p||(y.displayName||y.name)==="GeneratorFunction")},s.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,h):(f.__proto__=h,r(f,o,"GeneratorFunction")),f.prototype=Object.create(L),f},s.awrap=function(f){return{__await:f}},Y(g.prototype),r(g.prototype,a,function(){return this}),s.AsyncIterator=g,s.async=function(f,y,W,w,x){x===void 0&&(x=Promise);var T=new g(d(f,y,W,w),x);return s.isGeneratorFunction(y)?T:T.next().then(function(M){return M.done?M.value:T.next()})},Y(L),r(L,o,"Generator"),r(L,n,function(){return this}),r(L,"toString",function(){return"[object Generator]"}),s.keys=function(f){var y=Object(f),W=[];for(var w in y)W.push(w);return W.reverse(),function x(){for(;W.length;){var T=W.pop();if(T in y)return x.value=T,x.done=!1,x}return x.done=!0,x}},s.values=C,H.prototype={constructor:H,reset:function(f){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!f)for(var y in this)y.charAt(0)==="t"&&l.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var f=this.tryEntries[0].completion;if(f.type==="throw")throw f.arg;return this.rval},dispatchException:function(f){if(this.done)throw f;var y=this;function W(K,E){return T.type="throw",T.arg=f,y.next=K,E&&(y.method="next",y.arg=void 0),!!E}for(var w=this.tryEntries.length-1;w>=0;--w){var x=this.tryEntries[w],T=x.completion;if(x.tryLoc==="root")return W("end");if(x.tryLoc<=this.prev){var M=l.call(x,"catchLoc"),P=l.call(x,"finallyLoc");if(M&&P){if(this.prev<x.catchLoc)return W(x.catchLoc,!0);if(this.prev<x.finallyLoc)return W(x.finallyLoc)}else if(M){if(this.prev<x.catchLoc)return W(x.catchLoc,!0)}else{if(!P)throw new Error("try statement without catch or finally");if(this.prev<x.finallyLoc)return W(x.finallyLoc)}}}},abrupt:function(f,y){for(var W=this.tryEntries.length-1;W>=0;--W){var w=this.tryEntries[W];if(w.tryLoc<=this.prev&&l.call(w,"finallyLoc")&&this.prev<w.finallyLoc){var x=w;break}}x&&(f==="break"||f==="continue")&&x.tryLoc<=y&&y<=x.finallyLoc&&(x=null);var T=x?x.completion:{};return T.type=f,T.arg=y,x?(this.method="next",this.next=x.finallyLoc,u):this.complete(T)},complete:function(f,y){if(f.type==="throw")throw f.arg;return f.type==="break"||f.type==="continue"?this.next=f.arg:f.type==="return"?(this.rval=this.arg=f.arg,this.method="return",this.next="end"):f.type==="normal"&&y&&(this.next=y),u},finish:function(f){for(var y=this.tryEntries.length-1;y>=0;--y){var W=this.tryEntries[y];if(W.finallyLoc===f)return this.complete(W.completion,W.afterLoc),b(W),u}},catch:function(f){for(var y=this.tryEntries.length-1;y>=0;--y){var W=this.tryEntries[y];if(W.tryLoc===f){var w=W.completion;if(w.type==="throw"){var x=w.arg;b(W)}return x}}throw new Error("illegal catch attempt")},delegateYield:function(f,y,W){return this.delegate={iterator:C(f),resultName:y,nextLoc:W},this.method==="next"&&(this.arg=void 0),u}},s}function Ni(s,i,l,e,t,n,a){try{var o=s[n](a),r=o.value}catch(d){l(d);return}o.done?i(r):Promise.resolve(r).then(e,t)}function ue(s){return function(){var i=this,l=arguments;return new Promise(function(e,t){var n=s.apply(i,l);function a(r){Ni(n,e,t,a,o,"next",r)}function o(r){Ni(n,e,t,a,o,"throw",r)}a(void 0)})}}function tt(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}function Pi(s,i){for(var l=0;l<i.length;l++){var e=i[l];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,Rs(e.key),e)}}function it(s,i,l){return i&&Pi(s.prototype,i),l&&Pi(s,l),Object.defineProperty(s,"prototype",{writable:!1}),s}function Se(s,i,l){return i=Rs(i),i in s?Object.defineProperty(s,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[i]=l,s}function mi(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(i&&i.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),i&&si(s,i)}function xt(s){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},xt(s)}function si(s,i){return si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},si(s,i)}function xa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function se(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function wa(s,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return se(s)}function pi(s){var i=xa();return function(){var e=xt(s),t;if(i){var n=xt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return wa(this,t)}}function Ma(s,i){if(typeof s!="object"||s===null)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var e=l.call(s,i);if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(s)}function Rs(s){var i=Ma(s,"string");return typeof i=="symbol"?i:String(i)}var Lt={},Fi;function Ta(){return Fi||(Fi=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.default=function(s){for(var i=0,l=arguments.length,e=Array(l>1?l-1:0),t=1;t<l;t++)e[t-1]=arguments[t];var n=!0,a=!1,o=void 0;try{for(var r=e[Symbol.iterator](),d;!(n=(d=r.next()).done);n=!0){var c=d.value;i+=c.length}}catch(Y){a=!0,o=Y}finally{try{!n&&r.return&&r.return()}finally{if(a)throw o}}var u=new s(i),m=0,p=!0,h=!1,Z=void 0;try{for(var v=e[Symbol.iterator](),V;!(p=(V=v.next()).done);p=!0){var L=V.value;u.set(L,m),m+=L.length}}catch(Y){h=!0,Z=Y}finally{try{!p&&v.return&&v.return()}finally{if(h)throw Z}}return u}),Lt}var Dt,Ji;function Ra(){if(Ji)return Dt;Ji=1;var s=Ta(),i=l(s);function l(e){return e&&e.__esModule?e:{default:e}}return Dt=i.default,Dt}var Ia=Ra();const Ca=Xl(Ia);var Is="3.0.23",Me={416:ie[A.NETWROK_RANGE_NOT_SATISFIABLE],403:ie[A.NETWORK_FORBIDDEN],404:ie[A.NETWORK_NOTFOUND],timeout:ie[A.NETWORK_TIMEOUT],"4xx":"".concat(ie[A.NETWORK],"4XX"),"5xx":"".concat(ie[A.NETWORK],"5XX"),networkError:ie[A.NETWORK],contentError:"".concat(ie[A.NETWORK],"contentError"),mse:ie[A.MEDIA][A.SUB_TYPES.MSE_OTHER],mseOpen:ie[A.MEDIA][A.SUB_TYPES.MSE_ADD_SB],mseAppend:ie[A.MEDIA][A.SUB_TYPES.MSE_APPEND_BUFFER],mse_hijack:ie[A.MEDIA][A.SUB_TYPES.MSE_HIJACK],eme_hijack:ie[A.MEDIA][A.SUB_TYPES.EME_HIJACK],metaError:ie[A.DEMUX][A.SUB_TYPES.MP4],muxError:ie[A.REMUX][A.SUB_TYPES.FMP4],other:ie[A.OTHER],waitTimeout:ie[A.RUNTIME][A.SUB_TYPES.BUFFERBREAK_ERROR],waitTimeoutWithHidden:ie[A.RUNTIME][A.SUB_TYPES.WAITING_TIMEOUT_ERROR],drm:ie[A.DRM][A.SUB_TYPES.LICENSE]},lt=A;function Ka(s){return Me[s]||s}var ka=it(function s(i,l,e){tt(this,s);var t=0,n=0;e&&e.range&&e.range.length>1&&(t=e.range[0],n=e.range[1]);var a=Ka(l);return{errorCode:a,errorType:i,errorMessage:e?.httpText||e?.message,url:e?.url,httpCode:l,version:Is,rangeStart:t,rangeEnd:n,ext:e,mediaError:{code:a,message:e?.httpText||e?.message}}}),Ha=it(function s(i,l,e){return tt(this,s),{errorCode:l,errorType:i,version:Is,errorMessage:e.msg,ext:e,mediaError:{code:l,message:e.msg}}}),Ce={};Ce.nowTime=function(){try{return parseInt(performance.now(),10)}catch{return new Date().getTime()}};Ce.concatData=function(s,i){var l=[],e=0;s&&l.push(s),i&&l.push(i),l.every(function(a){return a&&(e+=a.byteLength),!0});var t=new Uint8Array(e),n=0;return l.every(function(a){return a&&(t.set(a,n),n+=a.byteLength),!0}),t};function za(s,i){var l=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(l!=null){var e,t,n,a,o=[],r=!0,d=!1;try{if(n=(l=l.call(s)).next,i!==0)for(;!(r=(e=n.call(l)).done)&&(o.push(e.value),o.length!==i);r=!0);}catch(c){d=!0,t=c}finally{try{if(!r&&l.return!=null&&(a=l.return(),Object(a)!==a))return}finally{if(d)throw t}}return o}}function Ui(s,i){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);i&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})),l.push.apply(l,e)}return l}function li(s){for(var i=1;i<arguments.length;i++){var l=arguments[i]!=null?arguments[i]:{};i%2?Ui(Object(l),!0).forEach(function(e){We(s,e,l[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Ui(Object(l)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(l,e))})}return s}function $(){$=function(){return s};var s={},i=Object.prototype,l=i.hasOwnProperty,e=Object.defineProperty||function(f,y,W){f[y]=W.value},t=typeof Symbol=="function"?Symbol:{},n=t.iterator||"@@iterator",a=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function r(f,y,W){return Object.defineProperty(f,y,{value:W,enumerable:!0,configurable:!0,writable:!0}),f[y]}try{r({},"")}catch{r=function(y,W,w){return y[W]=w}}function d(f,y,W,w){var x=y&&y.prototype instanceof m?y:m,T=Object.create(x.prototype),M=new H(w||[]);return e(T,"_invoke",{value:X(f,W,M)}),T}function c(f,y,W){try{return{type:"normal",arg:f.call(y,W)}}catch(w){return{type:"throw",arg:w}}}s.wrap=d;var u={};function m(){}function p(){}function h(){}var Z={};r(Z,n,function(){return this});var v=Object.getPrototypeOf,V=v&&v(v(C([])));V&&V!==i&&l.call(V,n)&&(Z=V);var L=h.prototype=m.prototype=Object.create(Z);function Y(f){["next","throw","return"].forEach(function(y){r(f,y,function(W){return this._invoke(y,W)})})}function g(f,y){function W(x,T,M,P){var K=c(f[x],f,T);if(K.type!=="throw"){var E=K.arg,ee=E.value;return ee&&typeof ee=="object"&&l.call(ee,"__await")?y.resolve(ee.__await).then(function(R){W("next",R,M,P)},function(R){W("throw",R,M,P)}):y.resolve(ee).then(function(R){E.value=R,M(E)},function(R){return W("throw",R,M,P)})}P(K.arg)}var w;e(this,"_invoke",{value:function(x,T){function M(){return new y(function(P,K){W(x,T,P,K)})}return w=w?w.then(M,M):M()}})}function X(f,y,W){var w="suspendedStart";return function(x,T){if(w==="executing")throw new Error("Generator is already running");if(w==="completed"){if(x==="throw")throw T;return I()}for(W.method=x,W.arg=T;;){var M=W.delegate;if(M){var P=G(M,W);if(P){if(P===u)continue;return P}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(w==="suspendedStart")throw w="completed",W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);w="executing";var K=c(f,y,W);if(K.type==="normal"){if(w=W.done?"completed":"suspendedYield",K.arg===u)continue;return{value:K.arg,done:W.done}}K.type==="throw"&&(w="completed",W.method="throw",W.arg=K.arg)}}}function G(f,y){var W=y.method,w=f.iterator[W];if(w===void 0)return y.delegate=null,W==="throw"&&f.iterator.return&&(y.method="return",y.arg=void 0,G(f,y),y.method==="throw")||W!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+W+"' method")),u;var x=c(w,f.iterator,y.arg);if(x.type==="throw")return y.method="throw",y.arg=x.arg,y.delegate=null,u;var T=x.arg;return T?T.done?(y[f.resultName]=T.value,y.next=f.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,u):T:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,u)}function S(f){var y={tryLoc:f[0]};1 in f&&(y.catchLoc=f[1]),2 in f&&(y.finallyLoc=f[2],y.afterLoc=f[3]),this.tryEntries.push(y)}function b(f){var y=f.completion||{};y.type="normal",delete y.arg,f.completion=y}function H(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(S,this),this.reset(!0)}function C(f){if(f){var y=f[n];if(y)return y.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var W=-1,w=function x(){for(;++W<f.length;)if(l.call(f,W))return x.value=f[W],x.done=!1,x;return x.value=void 0,x.done=!0,x};return w.next=w}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=h,e(L,"constructor",{value:h,configurable:!0}),e(h,"constructor",{value:p,configurable:!0}),p.displayName=r(h,o,"GeneratorFunction"),s.isGeneratorFunction=function(f){var y=typeof f=="function"&&f.constructor;return!!y&&(y===p||(y.displayName||y.name)==="GeneratorFunction")},s.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,h):(f.__proto__=h,r(f,o,"GeneratorFunction")),f.prototype=Object.create(L),f},s.awrap=function(f){return{__await:f}},Y(g.prototype),r(g.prototype,a,function(){return this}),s.AsyncIterator=g,s.async=function(f,y,W,w,x){x===void 0&&(x=Promise);var T=new g(d(f,y,W,w),x);return s.isGeneratorFunction(y)?T:T.next().then(function(M){return M.done?M.value:T.next()})},Y(L),r(L,o,"Generator"),r(L,n,function(){return this}),r(L,"toString",function(){return"[object Generator]"}),s.keys=function(f){var y=Object(f),W=[];for(var w in y)W.push(w);return W.reverse(),function x(){for(;W.length;){var T=W.pop();if(T in y)return x.value=T,x.done=!1,x}return x.done=!0,x}},s.values=C,H.prototype={constructor:H,reset:function(f){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!f)for(var y in this)y.charAt(0)==="t"&&l.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var f=this.tryEntries[0].completion;if(f.type==="throw")throw f.arg;return this.rval},dispatchException:function(f){if(this.done)throw f;var y=this;function W(K,E){return T.type="throw",T.arg=f,y.next=K,E&&(y.method="next",y.arg=void 0),!!E}for(var w=this.tryEntries.length-1;w>=0;--w){var x=this.tryEntries[w],T=x.completion;if(x.tryLoc==="root")return W("end");if(x.tryLoc<=this.prev){var M=l.call(x,"catchLoc"),P=l.call(x,"finallyLoc");if(M&&P){if(this.prev<x.catchLoc)return W(x.catchLoc,!0);if(this.prev<x.finallyLoc)return W(x.finallyLoc)}else if(M){if(this.prev<x.catchLoc)return W(x.catchLoc,!0)}else{if(!P)throw new Error("try statement without catch or finally");if(this.prev<x.finallyLoc)return W(x.finallyLoc)}}}},abrupt:function(f,y){for(var W=this.tryEntries.length-1;W>=0;--W){var w=this.tryEntries[W];if(w.tryLoc<=this.prev&&l.call(w,"finallyLoc")&&this.prev<w.finallyLoc){var x=w;break}}x&&(f==="break"||f==="continue")&&x.tryLoc<=y&&y<=x.finallyLoc&&(x=null);var T=x?x.completion:{};return T.type=f,T.arg=y,x?(this.method="next",this.next=x.finallyLoc,u):this.complete(T)},complete:function(f,y){if(f.type==="throw")throw f.arg;return f.type==="break"||f.type==="continue"?this.next=f.arg:f.type==="return"?(this.rval=this.arg=f.arg,this.method="return",this.next="end"):f.type==="normal"&&y&&(this.next=y),u},finish:function(f){for(var y=this.tryEntries.length-1;y>=0;--y){var W=this.tryEntries[y];if(W.finallyLoc===f)return this.complete(W.completion,W.afterLoc),b(W),u}},catch:function(f){for(var y=this.tryEntries.length-1;y>=0;--y){var W=this.tryEntries[y];if(W.tryLoc===f){var w=W.completion;if(w.type==="throw"){var x=w.arg;b(W)}return x}}throw new Error("illegal catch attempt")},delegateYield:function(f,y,W){return this.delegate={iterator:C(f),resultName:y,nextLoc:W},this.method==="next"&&(this.arg=void 0),u}},s}function Ei(s,i,l,e,t,n,a){try{var o=s[n](a),r=o.value}catch(d){l(d);return}o.done?i(r):Promise.resolve(r).then(e,t)}function ye(s){return function(){var i=this,l=arguments;return new Promise(function(e,t){var n=s.apply(i,l);function a(r){Ei(n,e,t,a,o,"next",r)}function o(r){Ei(n,e,t,a,o,"throw",r)}a(void 0)})}}function hi(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}function Na(s,i){for(var l=0;l<i.length;l++){var e=i[l];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,Ks(e.key),e)}}function Zi(s,i,l){return i&&Na(s.prototype,i),Object.defineProperty(s,"prototype",{writable:!1}),s}function We(s,i,l){return i=Ks(i),i in s?Object.defineProperty(s,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[i]=l,s}function Pa(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(i&&i.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),i&&ni(s,i)}function wt(s){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},wt(s)}function ni(s,i){return ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ni(s,i)}function Fa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ja(s,i){if(s==null)return{};var l={},e=Object.keys(s),t,n;for(n=0;n<e.length;n++)t=e[n],!(i.indexOf(t)>=0)&&(l[t]=s[t]);return l}function Ua(s,i){if(s==null)return{};var l=Ja(s,i),e,t;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);for(t=0;t<n.length;t++)e=n[t],!(i.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(s,e)&&(l[e]=s[e])}return l}function Le(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Ea(s,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Le(s)}function ja(s){var i=Fa();return function(){var e=wt(s),t;if(i){var n=wt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ea(this,t)}}function Da(s,i){return Oa(s)||za(s,i)||Cs(s,i)||$a()}function Ba(s){return Qa(s)||Aa(s)||Cs(s)||_a()}function Qa(s){if(Array.isArray(s))return ai(s)}function Oa(s){if(Array.isArray(s))return s}function Aa(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function Cs(s,i){if(s){if(typeof s=="string")return ai(s,i);var l=Object.prototype.toString.call(s).slice(8,-1);if(l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set")return Array.from(s);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return ai(s,i)}}function ai(s,i){(i==null||i>s.length)&&(i=s.length);for(var l=0,e=new Array(i);l<i;l++)e[l]=s[l];return e}function _a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qa(s,i){if(typeof s!="object"||s===null)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var e=l.call(s,i);if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(s)}function Ks(s){var i=qa(s,"string");return typeof i=="symbol"?i:String(i)}function er(s){return li({vid:"",moovEnd:8e4,segmentDuration:2,maxDownloadInfoSize:30,responseType:"arraybuffer",cache:null},s)}var St=Zi(function s(i,l){hi(this,s),this.type="file",this.message=i,this.data=l}),tr=function(){function s(){hi(this,s),We(this,"_data",Object.create(null))}return Zi(s,[{key:"set",value:function(l,e){this._data[l]=e}},{key:"get",value:function(l){return this._data[l]}},{key:"clear",value:function(){this._data=Object.create(null)}}]),s}();function ji(s,i){var l=s.trak;if(!(!l||!l.length)){var e=l.find(function(p){var h,Z;return((h=p.mdia)===null||h===void 0||(Z=h.hdlr)===null||Z===void 0?void 0:Z.handlerType)==="vide"}),t=l.find(function(p){var h,Z;return((h=p.mdia)===null||h===void 0||(Z=h.hdlr)===null||Z===void 0?void 0:Z.handlerType)==="soun"});if(!(!e&&!t)){var n=[],a=[];if(i){var o=[],r=0,d=i.start+i.size;i.references.forEach(function(p,h){o.push({index:h,startTime:r,endTime:r+p.subsegment_duration/i.timescale,duration:p.subsegment_duration/i.timescale,range:[d,d+p.referenced_size],frames:[]}),r+=p.subsegment_duration/i.timescale,d+=p.referenced_size}),n=o,a=o}else{var c,u,m=function(h){return h?[{index:0,startTime:0,endTime:h.duration/h.timescale,duration:h.duration/h.timescale,range:[s.start+s.size,""],frames:[]}]:[]};a=m(s.mvhd.duration?s.mvhd:(c=e.mdia)===null||c===void 0?void 0:c.mdhd),n=m(s.mvhd.duration?s.mvhd:(u=t.mdia)===null||u===void 0?void 0:u.mdhd)}return{videoSegments:a,audioSegments:n}}}}function Bt(s,i){var l=s.trak;if(!(!l||!l.length)){var e=l.find(function(f){var y,W;return((y=f.mdia)===null||y===void 0||(W=y.hdlr)===null||W===void 0?void 0:W.handlerType)==="vide"}),t=l.find(function(f){var y,W;return((y=f.mdia)===null||y===void 0||(W=y.hdlr)===null||W===void 0?void 0:W.handlerType)==="soun"});if(!(!e&&!t)){var n=[],a=[],o;if(e){var r,d,c,u=(r=e.mdia)===null||r===void 0||(d=r.minf)===null||d===void 0?void 0:d.stbl;if(!u)return;var m=(c=e.mdia.mdhd)===null||c===void 0?void 0:c.timescale,p=u.stts,h=u.stsc,Z=u.stsz,v=u.stco,V=u.stss,L=u.ctts;if(!m||!p||!h||!Z||!v||!V)return;n=Di(i,m,p,h,Z,v,V,L),o=n.map(function(f){return f.duration})}if(t){var Y,g,X,G=(Y=t.mdia)===null||Y===void 0||(g=Y.minf)===null||g===void 0?void 0:g.stbl;if(!G)return;var S=(X=t.mdia.mdhd)===null||X===void 0?void 0:X.timescale,b=G.stts,H=G.stsc,C=G.stsz,I=G.stco;if(!S||!b||!H||!C||!I)return;a=Di(i,S,b,H,C,I,null,null,o)}return{videoSegments:n,audioSegments:a}}}}function Di(s,i,l,e,t,n,a,o,r){var d,c=[],u=[],m=[],p=e.entries,h=n.entries,Z=t.entrySizes,v=a?.entries,V=o?.entries,L;V&&(L=[],V.forEach(function(Re){for(var De=Re.count,Ie=Re.offset,Be=0;Be<De;Be++)L.push(Ie)}));var Y;v&&(Y={},v.forEach(function(Re){Y[Re-1]=!0}));var g,X,G=0,S=0,b=0,H=0,C=0,I=(d=p[0])===null||d===void 0?void 0:d.samplesPerChunk,f=p[1]?p[1].firstChunk-1:1/0,y=0,W=-1;l.entries.forEach(function(Re){var De=Re.count,Ie=Re.delta;X=Ie;for(var Be=0;Be<De;Be++)g={dts:y,startTime:G,duration:X,size:Z[S]||t.sampleSize,offset:h[b]+C,index:S},v&&(g.keyframe=Y[S],g.keyframe?(W++,u.push([g]),m.push(g.duration)):(u[u.length-1].push(g),m[u.length-1]+=g.duration),g.gopId=W),L&&S<L.length&&(g.pts=y+L[S]),S===0&&(g.pts=0),c.push(g),G+=X,y+=Ie,S++,S<I?C+=g.size:(b++,C=0,b>=f&&(H++,f=p[H+1]?p[H+1].firstChunk-1:1/0),I+=p[H].samplesPerChunk)});var w=c.length;if(!w||a&&!c[0].keyframe)return[];var x=[],T=[],M=0,P,K=0,E=function(De){var Ie;P=T[T.length-1],x.push({index:x.length,startTime:((Ie=x[x.length-1])===null||Ie===void 0?void 0:Ie.endTime)||T[0].startTime/i,endTime:(P.startTime+P.duration)/i,duration:De,range:[T[0].offset,P.offset+P.size],frames:T}),M=0,T=[]};if(a)for(var ee=s*i,R=0,J=u.length;R<J;R++){var _;M+=m[R],(_=T).push.apply(_,Ba(u[R])),R+1<J?(R===0||M>ee)&&E(M/i):E(M/i)}else{r=r||[];for(var ae=r[0]||s,O=0;O<w;O++){T.push(c[O]),M+=c[O].duration;var ne=M/i;(O+1>=w||ne+K>=ae)&&(K+=ne-ae,E(ne),ae=r[x.length]||s)}}return x}function Bi(s,i){var l="",e="",t=0,n=0,a=0,o=0,r=0,d=0,c=0;s.mvhd&&(r=s.mvhd.duration/s.mvhd.timescale);var u=s.trak;if(u){var m=u.find(function(x){var T,M;return((T=x.mdia)===null||T===void 0||(M=T.hdlr)===null||M===void 0?void 0:M.handlerType)==="vide"}),p=u.find(function(x){var T,M;return((T=x.mdia)===null||T===void 0||(M=T.hdlr)===null||M===void 0?void 0:M.handlerType)==="soun"}),h=null,Z;if(m){var v,V,L;if(h=(v=m.mdia)===null||v===void 0||(V=v.minf)===null||V===void 0||(L=V.stbl)===null||L===void 0?void 0:L.stsd.entries[0],h){var Y,g,X;if(t=h.width,n=h.height,d=(Y=m.mdia)===null||Y===void 0||(g=Y.mdhd)===null||g===void 0?void 0:g.timescale,l=(X=h.avcC||h.hvcC||h.av1C)===null||X===void 0?void 0:X.codec,h.type==="encv"){var G,S;Z=(G=h.sinf)===null||G===void 0||(S=G.schi)===null||S===void 0?void 0:S.tenc.default_KID}}}if(p){var b,H,C;if(h=(b=p.mdia)===null||b===void 0||(H=b.minf)===null||H===void 0||(C=H.stbl)===null||C===void 0?void 0:C.stsd.entries[0],h){var I,f,y;if(a=h.channelCount,o=h.sampleRate,e=(I=h.esds)===null||I===void 0?void 0:I.codec,c=(f=p.mdia)===null||f===void 0||(y=f.mdhd)===null||y===void 0?void 0:y.timescale,h.type==="enca"){var W,w;Z=Z||((W=h.sinf)===null||W===void 0||(w=W.schi)===null||w===void 0?void 0:w.tenc.default_KID)}}}return{kid:Z?Z.join(""):null,videoCodec:l,audioCodec:e,width:t,height:n,videoTimescale:d,audioChannelCount:a,audioSampleRate:o,duration:r,audioTimescale:c,moov:s,isFragmentMP4:i}}}function Qi(s){return typeof s=="number"&&!Number.isNaN(s)}var ir=["vid","cache"],sr=function(s){Pa(l,s);var i=ja(l);function l(e){var t;hi(this,l),t=i.call(this),We(Le(t),"vid",""),We(Le(t),"url",""),We(Le(t),"meta",{}),We(Le(t),"downloadInfo",[]),We(Le(t),"videoSegments",[]),We(Le(t),"audioSegments",[]),We(Le(t),"cache",null),We(Le(t),"_currentSegmentIndex",-1),We(Le(t),"_currentLoadingSegmentIndex",-1),We(Le(t),"buffer",void 0),We(Le(t),"_error",void 0),We(Le(t),"_transformError",function(d){return d}),t._config=er(e);var n=t._config,a=n.vid,o=n.cache,r=Ua(n,ir);return t.cache=o||new tr,t.vid=a||r.url,t.url=r.url,r.transformError=t._transformError,t.logger=new Li("MP4Loader_"+t.vid),e.openLog&&Li.enable(),r.logger=t.logger,t._loader=new Wl(r),t._loader.on(Si.REAL_TIME_SPEED,function(d){t.emit(Si.REAL_TIME_SPEED,d)}),t}return Zi(l,[{key:"isMetaLoaded",get:function(){return this.videoSegments.length||this.audioSegments.length}},{key:"setCurrentSegment",value:function(t){Qi(t)&&(this._currentSegmentIndex=t)}},{key:"isLastSegment",value:function(t){if(Qi(t)){var n,a,o=((n=this.videoSegments[this.videoSegments.length-1])===null||n===void 0?void 0:n.index)||((a=this.audioSegments[this.audioSegments.length-1])===null||a===void 0?void 0:a.index)||0;return t>=o}return!1}},{key:"isSegmentLoading",value:function(t){return t===this._currentLoadingSegmentIndex}},{key:"changeUrl",value:function(){var e=ye($().mark(function n(a){var o,r,d,c=arguments;return $().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return o=c.length>1&&c[1]!==void 0?c[1]:a,r=c.length>2?c[2]:void 0,d=c.length>3?c[3]:void 0,m.next=5,this.reset(d);case 5:a&&(this.url=a),o&&(this.vid=o),r&&(this._config.moovEnd=r);case 8:case"end":return m.stop()}},n,this)}));function t(n){return e.apply(this,arguments)}return t}()},{key:"getOrLoadMeta",value:function(){var e=ye($().mark(function n(a){return $().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.isMetaLoaded){r.next=3;break}return r.next=3,this.loadMeta(a);case 3:return r.abrupt("return",this.meta);case 4:case"end":return r.stop()}},n,this)}));function t(n){return e.apply(this,arguments)}return t}()},{key:"loadMetaProcess",value:function(){var e=ye($().mark(function n(a,o,r,d){var c=this,u,m,p,h;return $().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return u=Da(o,2),m=u[0],p=u[1],this._error=!1,this.logger.debug("[loadMetaProcess start], range,",[m,p]),h=function(){var V=ye($().mark(function L(Y,g,X){var G,S,b,H,C,I,f,y,W,w,x,T,M;return $().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(c.meta&&X!==null&&X!==void 0&&X.range&&X.range.length>0&&X.range[1]>=p&&(g=!0,c.logger.debug("[loadMetaProcess],data done,setstate true,[",m,p,"]")),g&&X!==null&&X!==void 0&&X.range&&X.range.length>0&&X.range[1]<p&&(g=!1,c.logger.debug("[loadMetaProcess],data not done,setstate false,[",m,p,"]")),c.logger.debug("[loadMetaProcess],task,[",m,p,"], range,",X.range,",dataLen,",Y?Y.byteLength:void 0,", state,",g,",err,",c._error),!c._error&&Y&&Y.byteLength>0&&r(Y,g,X),!(c.meta.moov||c._error)){K.next=6;break}return K.abrupt("return");case 6:if(!(Y&&Y.byteLength>0)){K.next=51;break}if(c.buffer=Gi(c.buffer,Y),G=le.findBox(c.buffer,["moov"])[0],G){K.next=23;break}if(S=le.findBox(c.buffer,["mdat"])[0],!g){K.next=23;break}if(S){K.next=18;break}return c._error=!0,r(null,g,X,{err:"cannot find moov or mdat box"}),K.abrupt("return");case 18:return b=S.start+S.size,K.next=21,c.loadData([b,""],a,d);case 21:H=K.sent,H&&(G=le.findBox(H.data,["moov"])[0]);case 23:if(!(G&&g&&G.size>G.data.length)){K.next=27;break}return c.logger.debug("[loadMetaProcess],moov not all, range,",X.range[1],",dataLen,",c.buffer.byteLength,", state,",g),K.next=27,c.loadMetaProcess(a,[X.range[1],G.start+G.size-1],r);case 27:if(!(G&&G.size<=G.data.length&&!c.meta.moov)){K.next=51;break}if(C=le.moov(G),C){K.next=33;break}return c._error=!0,r(null,g,X,{err:"cannot parse moov box"}),K.abrupt("return");case 33:if(I=Bt(C,c._config.segmentDuration),f=function(){var E=ye($().mark(function ee(R){var J,_;return $().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(J=le.findBox(c.buffer,[R])[0],!J){O.next=11;break}if(!(J.size>J.data.length)){O.next=10;break}return O.next=5,c.loadData([J.start,J.start+J.size-1],a,d);case 5:if(_=O.sent,!_){O.next=8;break}return O.abrupt("return",le.findBox(_.data,[R])[0]);case 8:O.next=11;break;case 10:return O.abrupt("return",J);case 11:case"end":return O.stop()}},ee)}));return function(R){return E.apply(this,arguments)}}(),y=!1,I&&I.videoSegments.length&&I.audioSegments.length){K.next=41;break}return K.next=39,f("sidx");case 39:W=K.sent,W&&(w=le.sidx(W),w&&(I=ji(C,w),y=!0));case 41:if(I){K.next=45;break}return c._error=!0,r(null,g,X,{err:"cannot parse segments"}),K.abrupt("return");case 45:c.meta=Bi(C,y),x=I,T=x.videoSegments,M=x.audioSegments,c.videoSegments=T,c.audioSegments=M,c.logger.debug("[loadMetaProcess] moov ok"),r(void 0,g,{meta:{meta:c.meta,videoSegments:T,audioSegments:M}});case 51:case"end":return K.stop()}},L)}));return function(Y,g,X){return V.apply(this,arguments)}}(),v.next=6,this.loadData([m,p||this._config.moovEnd],a,li({onProgress:h},d));case 6:case"end":return v.stop()}},n,this)}));function t(n,a,o,r){return e.apply(this,arguments)}return t}()},{key:"loadMeta",value:function(){var e=ye($().mark(function n(a,o,r){var d,c,u,m,p,h,Z,v,V,L,Y,g,X,G;return $().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d=[],this.logger.debug("[loadMeta start]"),b.next=4,this.loadData([0,o||this._config.moovEnd],a,r);case 4:if(c=b.sent,c){b.next=7;break}return b.abrupt("return");case 7:if(d.push(c),u=le.findBox(c.data,["moov"])[0],u){b.next=23;break}if(m=le.findBox(c.data,["mdat"])[0],m){b.next=13;break}throw new St("cannot find moov or mdat box",c.data);case 13:return p=m.start+m.size,b.next=16,this.loadData([p],a,r);case 16:if(c=b.sent,c){b.next=19;break}return b.abrupt("return");case 19:if(d.push(c),u=le.findBox(c.data,["moov"],p)[0],u){b.next=23;break}throw new St("cannot find moov box",c.data);case 23:if(!(u.size>u.data.length)){b.next=31;break}return b.next=26,this.loadData([c.data.length,u.start+u.size-1],a,r);case 26:if(c=b.sent,c){b.next=29;break}return b.abrupt("return");case 29:d.push(c),u.data=Gi(u.data,c.data);case 31:if(h=le.moov(u),h){b.next=34;break}throw new St("cannot parse moov box",u.data);case 34:if(Z=Bt(h,this._config.segmentDuration),Z){b.next=37;break}throw new St("cannot parse segments",u.data);case 37:return Z.videoSegments.length&&Z.audioSegments.length||(V=le.findBox(this.buffer,["moof"])[0],L=le.findBox(this.buffer,["sidx"])[0],V&&V.size<=V.data.length&&L&&(Y=le.moof(V),v=le.sidx(L),Y&&v&&(Z=ji(h,v)))),this.meta=Bi(h,v),g=Z,X=g.videoSegments,G=g.audioSegments,this.videoSegments=X,this.audioSegments=G,this.logger.debug("[load moov end!!!!!]"),b.abrupt("return",{meta:this.meta,videoSegments:X,audioSegments:G,responses:d});case 44:case"end":return b.stop()}},n,this)}));function t(n,a,o){return e.apply(this,arguments)}return t}()},{key:"loadCacheMeta",value:function(t,n){var a=t.moov,o=Bt(a,this._config.segmentDuration),r=o.videoSegments,d=o.audioSegments;this.videoSegments=r,this.audioSegments=d,this._currentSegmentIndex=n,this.meta=t}},{key:"getSegmentByTime",value:function(t){var n,a;return this.videoSegments.length?(n=this.videoSegments.find(function(o){return o.startTime<=t&&o.endTime>t}),n&&(a=this.audioSegments[n.index])):a=this.audioSegments.find(function(o){return o.startTime<=t&&o.endTime>t}),{video:n,audio:a}}},{key:"loadSegmentByTime",value:function(){var e=ye($().mark(function n(a,o){var r,d,c,u,m,p=arguments;return $().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(r=p.length>2&&p[2]!==void 0?p[2]:!0,d=p.length>3&&p[3]!==void 0?p[3]:{},this.isMetaLoaded){Z.next=5;break}return Z.next=5,this.loadMeta(o);case 5:return c=this.getSegmentByTime(a),u=c.video,m=c.audio,Z.abrupt("return",this._loadSegment(u,m,o,r,d));case 7:case"end":return Z.stop()}},n,this)}));function t(n,a){return e.apply(this,arguments)}return t}()},{key:"loadNextSegment",value:function(){var e=ye($().mark(function n(a){var o,r,d,c,u=arguments;return $().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(o=u.length>1&&u[1]!==void 0?u[1]:!0,r=u.length>2&&u[2]!==void 0?u[2]:{},this.isMetaLoaded){p.next=5;break}return p.next=5,this.loadMeta();case 5:return d=this.videoSegments[this._currentSegmentIndex+1],c=this.audioSegments[this._currentSegmentIndex+1],p.abrupt("return",this._loadSegment(d,c,a,o,r));case 8:case"end":return p.stop()}},n,this)}));function t(n){return e.apply(this,arguments)}return t}()},{key:"preload",value:function(){var e=ye($().mark(function n(a){var o=this,r,d,c,u,m,p,h;return $().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(this.isMetaLoaded){v.next=3;break}return v.next=3,this.loadMeta(!0);case 3:if(!(!a||a<0)){v.next=5;break}return v.abrupt("return");case 5:if(r=this.getSegmentByTime(a),d=r.video,c=r.audio,u=Math.max(d?.index||0,c?.index||0),u){v.next=9;break}return v.abrupt("return");case 9:return m=this.videoSegments.slice(0,u),p=this.audioSegments.slice(0,u),h=function(){var V=ye($().mark(function L(Y){return $().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!(Y>u)){X.next=2;break}return X.abrupt("return");case 2:return X.next=4,o._loadSegment(m[Y],p[Y],!0,!1);case 4:return X.next=6,h(Y+1);case 6:case"end":return X.stop()}},L)}));return function(Y){return V.apply(this,arguments)}}(),v.next=14,h(0);case 14:case"end":return v.stop()}},n,this)}));function t(n){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){return this._loader.cancel()}},{key:"reset",value:function(){var e=ye($().mark(function n(){var a,o=arguments;return $().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(a=o.length>0&&o[0]!==void 0?o[0]:!1,a){d.next=5;break}return this.logger.debug("[MP4loader reset func call loader.cancel]"),d.next=5,this._loader.cancel();case 5:this.vid=this.url="",this.meta={},this.downloadInfo=[],this.videoSegments=[],this.audioSegments=[],this._currentSegmentIndex=-1,this._currentLoadingSegmentIndex=-1;case 12:case"end":return d.stop()}},n,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=ye($().mark(function n(){return $().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.reset();case 2:this.cache.clear();case 3:case"end":return o.stop()}},n,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_loadSegment",value:function(){var e=ye($().mark(function n(a,o,r,d,c){var u,m;return $().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(!a&&!o)){h.next=2;break}return h.abrupt("return");case 2:return u=a?.index||o?.index||0,this._currentLoadingSegmentIndex=u,h.prev=4,h.next=7,this.loadData([Math.min(a?.range[0]||1/0,o?.range[0]||1/0),Math.max(a?.range[1]||0,o?.range[1]||0)],r,c);case 7:m=h.sent;case 8:return h.prev=8,this._currentLoadingSegmentIndex=-1,h.finish(8);case 11:if(m){h.next=13;break}return h.abrupt("return");case 13:return d&&(this._currentSegmentIndex=u),m.video=a,m.audio=o,h.abrupt("return",m);case 17:case"end":return h.stop()}},n,this,[[4,,8,11]])}));function t(n,a,o,r,d){return e.apply(this,arguments)}return t}()},{key:"loadData",value:function(){var e=ye($().mark(function n(a,o,r){var d,c,u,m;return $().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return d=this._getCacheKey(a),h.next=3,this.cache.get(d);case 3:if(c=h.sent,c){h.next=11;break}return m=r&&r.url?r.url:this.url,h.next=8,this._loader.load(m,li({range:a,vid:this.vid},r));case 8:u=h.sent,h.next=12;break;case 11:u={data:c,state:!0,options:{fromCache:!0,range:a,vid:this.vid}};case 12:if(u){h.next=14;break}return h.abrupt("return");case 14:return c||(u.data&&this.downloadInfo.push({startTime:u.startTime,endTime:u.endTime,size:u.data.byteLength,range:a}),this.downloadInfo&&this.downloadInfo.length>this._config.maxDownloadInfoSize&&(this.downloadInfo=this.downloadInfo.slice(-this._config.maxDownloadInfoSize))),h.abrupt("return",u);case 17:case"end":return h.stop()}},n,this)}));function t(n,a,o){return e.apply(this,arguments)}return t}()},{key:"_getCacheKey",value:function(t){return(this.vid||this.url)+":"+t}}]),l}(di),ks=rr(),lr=ut();or();function nr(){try{return typeof localStorage<"u"&&"setItem"in window.localStorage&&!!window.localStorage.setItem}catch{return!1}}function ar(){var s="_localstorage_support_test";try{return window.localStorage.setItem(s,!0),window.localStorage.removeItem(s),!1}catch{return!0}}function ut(){if(ks)try{return!!window.localStorage.getItem("playerlog")}catch{return!1}return!1}function rr(){return nr()&&!ar()}function Hs(s){for(var i,l=arguments.length,e=new Array(l>1?l-1:0),t=1;t<l;t++)e[t-1]=arguments[t];lr&&console.log&&(i=console).log.apply(i,["[logger]",Ce.nowTime(),s].concat(e))}function or(){if(ks)try{return!!window.localStorage.getItem("playertestlog")}catch{return!1}return!1}var zs="IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihhPWEuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLGEpfXJldHVybiByfWZ1bmN0aW9uIHQodCl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIGE9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/ZShPYmplY3QoYSksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kodCxlLGFbZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoYSkpOmUoT2JqZWN0KGEpKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxlKSl9KSl9cmV0dXJuIHR9ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGE9dFtyXTthLmVudW1lcmFibGU9YS5lbnVtZXJhYmxlfHwhMSxhLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gYSYmKGEud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGsoYS5rZXkpLGEpfX1mdW5jdGlvbiBuKGUsdCxyKXtyZXR1cm4gdCYmYShlLnByb3RvdHlwZSx0KSxyJiZhKGUsciksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksZX1mdW5jdGlvbiBpKGUsdCxyKXtyZXR1cm4odD1rKHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIHMoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksdCYmdShlLHQpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuKG89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuKHU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfSkoZSx0KX1mdW5jdGlvbiBjKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBsKGUsdCxyKXtyZXR1cm4obD1jKCk/UmVmbGVjdC5jb25zdHJ1Y3QuYmluZCgpOmZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1bbnVsbF07YS5wdXNoLmFwcGx5KGEsdCk7dmFyIG49bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkoZSxhKSk7cmV0dXJuIHImJnUobixyLnByb3RvdHlwZSksbn0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBmKGUsdCl7aWYodCYmKCJvYmplY3QiPT10eXBlb2YgdHx8ImZ1bmN0aW9uIj09dHlwZW9mIHQpKXJldHVybiB0O2lmKHZvaWQgMCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiBlfShlKX1mdW5jdGlvbiBkKGUpe3ZhciB0PWMoKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixhPW8oZSk7aWYodCl7dmFyIG49byh0aGlzKS5jb25zdHJ1Y3RvcjtyPVJlZmxlY3QuY29uc3RydWN0KGEsYXJndW1lbnRzLG4pfWVsc2Ugcj1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZih0aGlzLHIpfX1mdW5jdGlvbiBoKGUsdCl7Zm9yKDshT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkmJm51bGwhPT0oZT1vKGUpKTspO3JldHVybiBlfWZ1bmN0aW9uIHAoKXtyZXR1cm4gcD0idW5kZWZpbmVkIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0LmJpbmQoKTpmdW5jdGlvbihlLHQscil7dmFyIGE9aChlLHQpO2lmKGEpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSx0KTtyZXR1cm4gbi5nZXQ/bi5nZXQuY2FsbChhcmd1bWVudHMubGVuZ3RoPDM/ZTpyKTpuLnZhbHVlfX0scC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGwhPXIpe3ZhciBhLG4saSxzLG89W10sdT0hMCxjPSExO3RyeXtpZihpPShyPXIuY2FsbChlKSkubmV4dCwwPT09dCl7aWYoT2JqZWN0KHIpIT09cilyZXR1cm47dT0hMX1lbHNlIGZvcig7ISh1PShhPWkuY2FsbChyKSkuZG9uZSkmJihvLnB1c2goYS52YWx1ZSksby5sZW5ndGghPT10KTt1PSEwKTt9Y2F0Y2gobCl7Yz0hMCxuPWx9ZmluYWxseXt0cnl7aWYoIXUmJm51bGwhPXIucmV0dXJuJiYocz1yLnJldHVybigpLE9iamVjdChzKSE9PXMpKXJldHVybn1maW5hbGx5e2lmKGMpdGhyb3cgbn19cmV0dXJuIG99fShlLHQpfHxtKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB5KGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBnKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8bShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBtKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBnKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXJ8fCJTZXQiPT09cj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qocik/ZyhlLHQpOnZvaWQgMH19ZnVuY3Rpb24gZyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLGE9bmV3IEFycmF5KHQpO3I8dDtyKyspYVtyXT1lW3JdO3JldHVybiBhfWZ1bmN0aW9uIGsoZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0IiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVybiBlO3ZhciByPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgYT1yLmNhbGwoZSx0fHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT10eXBlb2YgYSlyZXR1cm4gYTt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT10eXBlb2YgdD90OlN0cmluZyh0KX12YXIgYj0idmlkZW8iLF89ImF1ZGlvIix3PSJtZXRhZGF0YSIseD0iYXYxIixTPSJhdmMiLEQ9ImhldmMiLEE9ImFhYyIsVD0iZzcxMTBhIixCPSJnNzExMG0iLEU9Im9wdXMiLFU9Im1wMyIsQz0iTEFSR0VfQVZfU0hJRlQiLFA9IkxBUkdFX1ZJREVPX0dBUCIsST0iTEFSR0VfVklERU9fR0FQX0JFVFdFRU5fQ0hVTksiLE09IkxBUkdFX0FVRElPX0dBUCIsej0iQVVESU9fRklMTEVEIixPPSJBVURJT19EUk9QUEVEIixSPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3IodGhpcyxlKSxpKHRoaXMsImlkIiwxKSxpKHRoaXMsInR5cGUiLGIpLGkodGhpcywiY29kZWNUeXBlIixTKSxpKHRoaXMsInBpZCIsLTEpLGkodGhpcywiaHZjQyIsdm9pZCAwKSxpKHRoaXMsImNvZGVjIiwiIiksaSh0aGlzLCJ0aW1lc2NhbGUiLDApLGkodGhpcywiZm9ybWF0VGltZXNjYWxlIiwwKSxpKHRoaXMsInNlcXVlbmNlTnVtYmVyIiwwKSxpKHRoaXMsImJhc2VNZWRpYURlY29kZVRpbWUiLDApLGkodGhpcywiYmFzZUR0cyIsMCksaSh0aGlzLCJkdXJhdGlvbiIsMCksaSh0aGlzLCJ3YXJuaW5ncyIsW10pLGkodGhpcywic2FtcGxlcyIsW10pLGkodGhpcywicHBzIixbXSksaSh0aGlzLCJzcHMiLFtdKSxpKHRoaXMsInZwcyIsW10pLGkodGhpcywiZnBzTnVtIiwwKSxpKHRoaXMsImZwc0RlbiIsMCksaSh0aGlzLCJzYXJSYXRpbyIsW10pLGkodGhpcywid2lkdGgiLDApLGkodGhpcywiaGVpZ2h0IiwwKSxpKHRoaXMsIm5hbFVuaXRTaXplIiw0KSxpKHRoaXMsInByZXNlbnQiLCExKSxpKHRoaXMsImlzVmlkZW9FbmNyeXB0aW9uIiwhMSksaSh0aGlzLCJpc0F1ZGlvRW5jcnlwdGlvbiIsITEpLGkodGhpcywiaXNWaWRlbyIsITApLGkodGhpcywibGFzdEtleUZyYW1lRHRzIiwwKSxpKHRoaXMsImtpZCIsbnVsbCksaSh0aGlzLCJwc3NoIixudWxsKSxpKHRoaXMsImV4dCIsdm9pZCAwKX1yZXR1cm4gbihlLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNlcXVlbmNlTnVtYmVyPXRoaXMud2lkdGg9dGhpcy5oZWlnaHQ9dGhpcy5mcHNEZW49dGhpcy5mcHNOdW09dGhpcy5kdXJhdGlvbj10aGlzLmJhc2VNZWRpYURlY29kZVRpbWU9dGhpcy50aW1lc2NhbGU9MCx0aGlzLmNvZGVjPSIiLHRoaXMucHJlc2VudD0hMSx0aGlzLnBpZD0tMSx0aGlzLnBwcz1bXSx0aGlzLnNwcz1bXSx0aGlzLnZwcz1bXSx0aGlzLnNhclJhdGlvPVtdLHRoaXMuc2FtcGxlcz1bXSx0aGlzLndhcm5pbmdzPVtdLHRoaXMuaHZjQz1udWxsfX0se2tleToiZmlyc3REdHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNhbXBsZXMubGVuZ3RoP3RoaXMuc2FtcGxlc1swXS5kdHM6bnVsbH19LHtrZXk6ImZpcnN0UHRzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW1wbGVzLmxlbmd0aD90aGlzLnNhbXBsZXNbMF0ucHRzOm51bGx9fSx7a2V5OiJzYW1wbGVzRHVyYXRpb24iLGdldDpmdW5jdGlvbigpe2lmKHRoaXMuc2FtcGxlcy5sZW5ndGg+MCl7dmFyIGU9dGhpcy5zYW1wbGVzWzBdLHQ9dGhpcy5zYW1wbGVzW3RoaXMuc2FtcGxlcy5sZW5ndGgtMV07cmV0dXJuIHQuZHRzLWUuZHRzK3QuZHVyYXRpb259cmV0dXJuIDB9fSx7a2V5OiJleGlzdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hIS9hdjAxLy50ZXN0KHRoaXMuY29kZWMpfHwhISh0aGlzLnBwcy5sZW5ndGgmJnRoaXMuc3BzLmxlbmd0aCYmdGhpcy5jb2RlYyl9fSx7a2V5OiJoYXNTYW1wbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLnNhbXBsZXMubGVuZ3RofX0se2tleToiaXNFbmNyeXB0aW9uIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1ZpZGVvRW5jcnlwdGlvbn19XSksZX0oKSxMPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3IodGhpcyxlKSxpKHRoaXMsImlkIiwyKSxpKHRoaXMsInR5cGUiLF8pLGkodGhpcywiY29kZWNUeXBlIixBKSxpKHRoaXMsInBpZCIsLTEpLGkodGhpcywiY29kZWMiLCIiKSxpKHRoaXMsImNvbnRhaW5lciIsIiIpLGkodGhpcywic2VxdWVuY2VOdW1iZXIiLDApLGkodGhpcywic2FtcGxlRHVyYXRpb24iLDApLGkodGhpcywidGltZXNjYWxlIiwwKSxpKHRoaXMsImZvcm1hdFRpbWVzY2FsZSIsMCksaSh0aGlzLCJiYXNlTWVkaWFEZWNvZGVUaW1lIiwwKSxpKHRoaXMsImR1cmF0aW9uIiwwKSxpKHRoaXMsIndhcm5pbmdzIixbXSksaSh0aGlzLCJzYW1wbGVzIixbXSksaSh0aGlzLCJiYXNlRHRzIiwwKSxpKHRoaXMsInNhbXBsZVNpemUiLDE2KSxpKHRoaXMsInNhbXBsZVJhdGUiLDApLGkodGhpcywiY2hhbm5lbENvdW50IiwwKSxpKHRoaXMsIm9iamVjdFR5cGUiLDApLGkodGhpcywic2FtcGxlUmF0ZUluZGV4IiwwKSxpKHRoaXMsImNvbmZpZyIsW10pLGkodGhpcywicHJlc2VudCIsITEpLGkodGhpcywiaXNWaWRlb0VuY3J5cHRpb24iLCExKSxpKHRoaXMsImlzQXVkaW9FbmNyeXB0aW9uIiwhMSksaSh0aGlzLCJraWQiLG51bGwpLGkodGhpcywiZXh0Iix2b2lkIDApfXJldHVybiBuKGUsW3trZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VxdWVuY2VOdW1iZXI9MCx0aGlzLnRpbWVzY2FsZT0wLHRoaXMuc2FtcGxlRHVyYXRpb249MCx0aGlzLnNhbXBsZVJhdGU9MCx0aGlzLmNoYW5uZWxDb3VudD0wLHRoaXMuYmFzZU1lZGlhRGVjb2RlVGltZT0wLHRoaXMucHJlc2VudD0hMSx0aGlzLnBpZD0tMSx0aGlzLmNvZGVjPSIiLHRoaXMuc2FtcGxlcz1bXSx0aGlzLmNvbmZpZz1bXSx0aGlzLndhcm5pbmdzPVtdfX0se2tleToiZXhpc3QiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuISghdGhpcy5zYW1wbGVSYXRlfHwhdGhpcy5jaGFubmVsQ291bnR8fCF0aGlzLmNvZGVjJiYhdGhpcy5jb250YWluZXJ8fHRoaXMuY29kZWNUeXBlIT09QSYmdGhpcy5jb2RlY1R5cGUhPT1UJiZ0aGlzLmNvZGVjVHlwZSE9PUImJnRoaXMuY29kZWNUeXBlIT09RSYmdGhpcy5jb2RlY1R5cGUhPT1VKX19LHtrZXk6Imhhc1NhbXBsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuc2FtcGxlcy5sZW5ndGh9fSx7a2V5OiJpc0VuY3J5cHRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQXVkaW9FbmNyeXB0aW9ufX0se2tleToiZmlyc3REdHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNhbXBsZXMubGVuZ3RoP3RoaXMuc2FtcGxlc1swXS5kdHM6bnVsbH19LHtrZXk6ImZpcnN0UHRzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW1wbGVzLmxlbmd0aD90aGlzLnNhbXBsZXNbMF0ucHRzOm51bGx9fSx7a2V5OiJzYW1wbGVzRHVyYXRpb24iLGdldDpmdW5jdGlvbigpe2lmKHRoaXMuc2FtcGxlcy5sZW5ndGg+MCl7dmFyIGU9dGhpcy5zYW1wbGVzWzBdLHQ9dGhpcy5zYW1wbGVzW3RoaXMuc2FtcGxlcy5sZW5ndGgtMV07cmV0dXJuIHQuZHRzLWUuZHRzK3QuZHVyYXRpb259cmV0dXJuIDB9fV0pLGV9KCksVj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxhLG4pe3IodGhpcyxlKSxpKHRoaXMsImZsYWciLHt9KSxpKHRoaXMsImtleWZyYW1lIiwhMSksaSh0aGlzLCJnb3BJZCIsMCksaSh0aGlzLCJkdXJhdGlvbiIsMCksaSh0aGlzLCJzaXplIiwwKSxpKHRoaXMsInVuaXRzIixbXSksaSh0aGlzLCJjaHJvbWFGb3JtYXQiLDQyMCksdGhpcy5vcmlnaW5QdHM9dGhpcy5wdHM9dCx0aGlzLm9yaWdpbkR0cz10aGlzLmR0cz1hLG4mJih0aGlzLnVuaXRzPW4pfXJldHVybiBuKGUsW3trZXk6ImN0cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHRzLXRoaXMuZHRzfX0se2tleToic2V0VG9LZXlmcmFtZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmtleWZyYW1lPSEwLHRoaXMuZmxhZy5kZXBlbmRzT249Mix0aGlzLmZsYWcuaXNOb25TeW5jU2FtcGxlPTB9fV0pLGV9KCksRj1uKChmdW5jdGlvbiBlKHQsYSxuLHMpe3IodGhpcyxlKSxpKHRoaXMsImR1cmF0aW9uIiwxMDI0KSxpKHRoaXMsImZsYWciLHtkZXBlbmRzT246Mixpc05vblN5bmNTYW1wbGU6MH0pLGkodGhpcywia2V5ZnJhbWUiLCEwKSx0aGlzLm9yaWdpblB0cz10aGlzLnB0cz10aGlzLmR0cz10LHRoaXMuZGF0YT1hLHRoaXMuc2l6ZT1hLmJ5dGVMZW5ndGgsdGhpcy5zYW1wbGVPZmZzZXQ9cyxuJiYodGhpcy5kdXJhdGlvbj1uKX0pKSxOPW4oKGZ1bmN0aW9uIGUodCxhKXtyKHRoaXMsZSksaSh0aGlzLCJ0aW1lIiwwKSx0aGlzLmRhdGE9dCx0aGlzLm9yaWdpblB0cz10aGlzLnB0cz1hfSkpLGo9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYSgpe3JldHVybiByKHRoaXMsYSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG4oYSl9KE4pLEc9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYSgpe3JldHVybiByKHRoaXMsYSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG4oYSl9KE4pLEg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cih0aGlzLGUpLGkodGhpcywiaWQiLDMpLGkodGhpcywidHlwZSIsdyksaSh0aGlzLCJ0aW1lc2NhbGUiLDApLGkodGhpcywiZmx2U2NyaXB0U2FtcGxlcyIsW10pLGkodGhpcywic2VpU2FtcGxlcyIsW10pfXJldHVybiBuKGUsW3trZXk6ImV4aXN0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiEoIXRoaXMuZmx2U2NyaXB0U2FtcGxlcy5sZW5ndGgmJiF0aGlzLnNlaVNhbXBsZXMubGVuZ3RofHwhdGhpcy50aW1lc2NhbGUpfX0se2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50aW1lc2NhbGU9MCx0aGlzLmZsdlNjcmlwdFNhbXBsZXM9W10sdGhpcy5zZWlTYW1wbGVzPVtdfX0se2tleToiaGFzU2FtcGxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiEoIXRoaXMuZmx2U2NyaXB0U2FtcGxlcy5sZW5ndGgmJiF0aGlzLnNlaVNhbXBsZXMubGVuZ3RoKX19XSksZX0oKSxLPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpZihyKHRoaXMsZSksaSh0aGlzLCJfYnl0ZXNBdmFpbGFibGUiLHZvaWQgMCksaSh0aGlzLCJfYml0c0F2YWlsYWJsZSIsMCksaSh0aGlzLCJfd29yZCIsMCksIXQpdGhyb3cgbmV3IEVycm9yKCJFeHBHb2xvbWIgZGF0YSBwYXJhbXMgaXMgcmVxdWlyZWQiKTt0aGlzLl9kYXRhPXQsdGhpcy5fYnl0ZXNBdmFpbGFibGU9dC5ieXRlTGVuZ3RoLHRoaXMuX2J5dGVzQXZhaWxhYmxlJiZ0aGlzLl9sb2FkV29yZCgpfXJldHVybiBuKGUsW3trZXk6ImJpdHNBdmFpbGFibGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9iaXRzQXZhaWxhYmxlfX0se2tleToiX2xvYWRXb3JkIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2RhdGEuYnl0ZUxlbmd0aC10aGlzLl9ieXRlc0F2YWlsYWJsZSx0PU1hdGgubWluKDQsdGhpcy5fYnl0ZXNBdmFpbGFibGUpO2lmKDA9PT10KXRocm93IG5ldyBFcnJvcigiTm8gYnl0ZXMgYXZhaWxhYmxlIik7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoNCk7ci5zZXQodGhpcy5fZGF0YS5zdWJhcnJheShlLGUrdCkpLHRoaXMuX3dvcmQ9bmV3IERhdGFWaWV3KHIuYnVmZmVyKS5nZXRVaW50MzIoMCksdGhpcy5fYml0c0F2YWlsYWJsZT04KnQsdGhpcy5fYnl0ZXNBdmFpbGFibGUtPXR9fSx7a2V5OiJza2lwQml0cyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5fYml0c0F2YWlsYWJsZT5lKXRoaXMuX3dvcmQ8PD1lLHRoaXMuX2JpdHNBdmFpbGFibGUtPWU7ZWxzZXtlLT10aGlzLl9iaXRzQXZhaWxhYmxlO3ZhciB0PU1hdGguZmxvb3IoZS84KTtlLT04KnQsdGhpcy5fYnl0ZXNBdmFpbGFibGUtPXQsdGhpcy5fbG9hZFdvcmQoKSx0aGlzLl93b3JkPDw9ZSx0aGlzLl9iaXRzQXZhaWxhYmxlLT1lfX19LHtrZXk6InJlYWRCaXRzIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlPjMyKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHJlYWQgbW9yZSB0aGFuIDMyIGJpdHMiKTt2YXIgdD1NYXRoLm1pbih0aGlzLl9iaXRzQXZhaWxhYmxlLGUpLHI9dGhpcy5fd29yZD4+PjMyLXQ7cmV0dXJuIHRoaXMuX2JpdHNBdmFpbGFibGUtPXQsdGhpcy5fYml0c0F2YWlsYWJsZT4wP3RoaXMuX3dvcmQ8PD10OnRoaXMuX2J5dGVzQXZhaWxhYmxlPjAmJnRoaXMuX2xvYWRXb3JkKCksKHQ9ZS10KT4wJiZ0aGlzLl9iaXRzQXZhaWxhYmxlP3I8PHR8dGhpcy5yZWFkQml0cyh0KTpyfX0se2tleToic2tpcExaIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlO2ZvcihlPTA7ZTx0aGlzLl9iaXRzQXZhaWxhYmxlOysrZSlpZigwIT0odGhpcy5fd29yZCYyMTQ3NDgzNjQ4Pj4+ZSkpcmV0dXJuIHRoaXMuX3dvcmQ8PD1lLHRoaXMuX2JpdHNBdmFpbGFibGUtPWUsZTtyZXR1cm4gdGhpcy5fbG9hZFdvcmQoKSxlK3RoaXMuc2tpcExaKCl9fSx7a2V5OiJza2lwVUVHIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2tpcEJpdHMoMSt0aGlzLnNraXBMWigpKX19LHtrZXk6InJlYWRVRUciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5za2lwTFooKTtyZXR1cm4gdGhpcy5yZWFkQml0cyhlKzEpLTF9fSx7a2V5OiJyZWFkRUciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkVUVHKCk7cmV0dXJuIDEmZT8xK2U+Pj4xOi0xKihlPj4+MSl9fSx7a2V5OiJyZWFkQm9vbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMucmVhZEJpdHMoMSl9fSx7a2V5OiJyZWFkVUJ5dGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZEJpdHMoOCl9fSx7a2V5OiJza2lwU2NhbGluZ0xpc3QiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD04LHI9OCxhPTA7YTxlO2ErKykwIT09ciYmKHI9KHQrdGhpcy5yZWFkRUcoKSsyNTYpJTI1NiksdD0wPT09cj90OnJ9fV0pLGV9KCkscT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cih0aGlzLGUpLHRoaXMubmFtZT10fHwiIix0aGlzLl9wcmVmaXg9IlsiLmNvbmNhdCh0aGlzLm5hbWUsIl0iKX1yZXR1cm4gbihlLFt7a2V5OiJ3YXJuIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2lmKCFlLmRpc2FibGVkKXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShyKSxuPTA7bjxyO24rKylhW25dPWFyZ3VtZW50c1tuXTsodD1jb25zb2xlKS53YXJuLmFwcGx5KHQsW3RoaXMuX3ByZWZpeF0uY29uY2F0KGEpKX19fV0sW3trZXk6ImVuYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtlLmRpc2FibGVkPSExfX0se2tleToiZGlzYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtlLmRpc2FibGVkPSEwfX1dKSxlfSgpO2kocSwiZGlzYWJsZWQiLCEwKTt2YXIgVz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyKHRoaXMsZSl9cmV0dXJuIG4oZSxudWxsLFt7a2V5OiJkZWNvZGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bXSxhPXQsbj0wLGk9dC5sZW5ndGg7bjxpOylpZihhW25dPDEyOClyLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShhW25dKSksKytuO2Vsc2V7aWYoYVtuXTwxOTIpO2Vsc2UgaWYoYVtuXTwyMjQpe2lmKGUuX2NoZWNrQ29udGludWF0aW9uKGEsbiwxKSl7dmFyIHM9KDMxJmFbbl0pPDw2fDYzJmFbbisxXTtpZihzPj0xMjgpe3IucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDY1NTM1JnMpKSxuKz0yO2NvbnRpbnVlfX19ZWxzZSBpZihhW25dPDI0MCl7aWYoZS5fY2hlY2tDb250aW51YXRpb24oYSxuLDIpKXt2YXIgbz0oMTUmYVtuXSk8PDEyfCg2MyZhW24rMV0pPDw2fDYzJmFbbisyXTtpZihvPj0yMDQ4JiY1NTI5NiE9KDYzNDg4Jm8pKXtyLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSg2NTUzNSZvKSksbis9Mztjb250aW51ZX19fWVsc2UgaWYoYVtuXTwyNDgmJmUuX2NoZWNrQ29udGludWF0aW9uKGEsbiwzKSl7dmFyIHU9KDcmYVtuXSk8PDE4fCg2MyZhW24rMV0pPDwxMnwoNjMmYVtuKzJdKTw8Nnw2MyZhW24rM107aWYodT42NTUzNiYmdTwxMTE0MTEyKXt1LT02NTUzNixyLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh1Pj4+MTB8NTUyOTYpKSxyLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgxMDIzJnV8NTYzMjApKSxuKz00O2NvbnRpbnVlfX1yLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSg2NTUzMykpLCsrbn1yZXR1cm4gci5qb2luKCIiKX19LHtrZXk6Il9jaGVja0NvbnRpbnVhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPWU7aWYodCtyPGEubGVuZ3RoKXtmb3IoO3ItLTspaWYoMTI4IT0oMTkyJmFbKyt0XSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9fV0pLGV9KCksWD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyxZPVgmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb2NhbGVMb3dlckNhc2UoKSxaPVgmJi9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS8udGVzdChZKSxRPVgmJlkuaW5jbHVkZXMoImZpcmVmb3giKSxKPVgmJlkuaW5jbHVkZXMoImFuZHJvaWQiKTtmdW5jdGlvbiAkKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspdFtyXT1hcmd1bWVudHNbcl07dD10LmZpbHRlcihCb29sZWFuKTt2YXIgYT1uZXcgVWludDhBcnJheSh0LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0LmJ5dGVMZW5ndGh9KSwwKSksbj0wO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2Euc2V0KGUsbiksbis9ZS5ieXRlTGVuZ3RofSkpLGF9dmFyIGVlPU1hdGgucG93KDIsMzIpO2Z1bmN0aW9uIHRlKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybihlW3RdPDw4KSsoZVt0KzFdfHwwKX1mdW5jdGlvbiByZShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtyZXR1cm4oZVt0XTw8MjQ+Pj4wKSsoZVt0KzFdPDwxNikrKGVbdCsyXTw8OCkrKGVbdCszXXx8MCl9ZnVuY3Rpb24gYWUoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjA7cmV0dXJuIHJlKGUsdCkqZWUrcmUoZSx0KzQpfWZ1bmN0aW9uIG5lKGUpe2Zvcih2YXIgdCxyPSJhdmMxLiIsYT0wO2E8MzthKyspKHQ9ZVthXS50b1N0cmluZygxNikpLmxlbmd0aDwyJiYodD0iMCIuY29uY2F0KHQpKSxyKz10O3JldHVybiByfWZ1bmN0aW9uIGllKGUpe3ZhciB0PSIiO2lmKGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dCs9ZnVuY3Rpb24oZSl7cmV0dXJuKCIwIitOdW1iZXIoZSkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikudG9VcHBlckNhc2UoKX0oZSl9KSksdC5sZW5ndGg8PTMyKWZvcih2YXIgcj0zMi10Lmxlbmd0aCxhPTA7YTxyO2ErKyl0Kz0iMCI7cmV0dXJuIHR9ZnVuY3Rpb24gc2UoZSl7aWYoIUFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD1bXSxyPSIiLGE9MDthPGUubGVuZ3RoO2ErKylhJTImJihyPWVbYS0xXStlW2FdLHQucHVzaChwYXJzZUludChyLDE2KSkscj0iIik7cmV0dXJuIHR9cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxNil9KSl9ZnVuY3Rpb24gb2UoZSx0KXtyZXR1cm4gTnVtYmVyKGUrIi4iK3QpfXZhciB1ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyKHRoaXMsZSl9cmV0dXJuIG4oZSxudWxsLFt7a2V5OiJnZXRSYXRlSW5kZXhCeVJhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLkZSRVEuaW5kZXhPZih0KX19LHtrZXk6InBhcnNlQURUUyIsdmFsdWU6ZnVuY3Rpb24odCxyKXtmb3IodmFyIGE9dC5sZW5ndGgsbj0wO24rMjxhJiYoMjU1IT09dFtuXXx8MjQwIT0oMjQ2JnRbbisxXSkpOyluKys7aWYoIShuPj1hKSl7dmFyIGk9bixzPVtdLG89KDYwJnRbbisyXSk+Pj4yLHU9ZS5GUkVRW29dO2lmKCF1KXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzYW1wbGluZyBpbmRleDogIi5jb25jYXQobykpO2Zvcih2YXIgYyxsLGY9MSsoKDE5MiZ0W24rMl0pPj4+NiksZD0oMSZ0W24rMl0pPDwyfCgxOTImdFtuKzNdKT4+PjYsaD1lLl9nZXRDb25maWcobyxkLGYpLHA9aC5jb25maWcsdj1oLmNvZGVjLHk9MCxtPWUuZ2V0RnJhbWVEdXJhdGlvbih1KTtuKzc8YTspaWYoMjU1PT09dFtuXSYmMjQwPT0oMjQ2JnRbbisxXSkpe2lmKCEobD0oMyZ0W24rM10pPDwxMXx0W24rNF08PDN8KDIyNCZ0W24rNV0pPj41KXx8YS1uPGwpYnJlYWs7Yz0yKigxJn50W24rMV0pLHMucHVzaCh7cHRzOnIreSptLGRhdGE6dC5zdWJhcnJheShuKzcrYyxuK2wpfSkseSsrLG4rPWx9ZWxzZSBuKys7cmV0dXJue3NraXA6aSxyZW1haW5pbmc6bj49YT92b2lkIDA6dC5zdWJhcnJheShuKSxmcmFtZXM6cyxzYW1wbGluZ0ZyZXF1ZW5jeUluZGV4Om8sc2FtcGxlUmF0ZTp1LG9iamVjdFR5cGU6ZixjaGFubmVsQ291bnQ6ZCxjb2RlYzp2LGNvbmZpZzpwLG9yaWdpbkNvZGVjOiJtcDRhLjQwLiIuY29uY2F0KGYpfX19fSx7a2V5OiJwYXJzZUF1ZGlvU3BlY2lmaWNDb25maWciLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQubGVuZ3RoKXt2YXIgcj10WzBdPj4+MyxhPSg3JnRbMF0pPDwxfHRbMV0+Pj43LG49KDEyMCZ0WzFdKT4+PjMsaT1lLkZSRVFbYV07aWYoaSl7dmFyIHM9ZS5fZ2V0Q29uZmlnKGEsbixyKTtyZXR1cm57c2FtcGxpbmdGcmVxdWVuY3lJbmRleDphLHNhbXBsZVJhdGU6aSxvYmplY3RUeXBlOnIsY2hhbm5lbENvdW50Om4sY29uZmlnOnMuY29uZmlnLGNvZGVjOnMuY29kZWMsb3JpZ2luQ29kZWM6Im1wNGEuNDAuIi5jb25jYXQocil9fX19fSx7a2V5OiJnZXRGcmFtZUR1cmF0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06OWU0O3JldHVybiAxMDI0KnQvZX19LHtrZXk6Il9nZXRDb25maWciLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgYSxuLGk9W107cmV0dXJuIFE/ZT49Nj8oYT01LG49ZS0zKTooYT0yLG49ZSk6Sj8oYT0yLG49ZSk6KGE9NSxuPWUsZT49Nj9uPWUtMzoxPT09dCYmKGE9MixuPWUpKSxpWzBdPWE8PDMsaVswXXw9KDE0JmUpPj4xLGlbMV09KDEmZSk8PDcsaVsxXXw9dDw8Myw1PT09YSYmKGlbMV18PSgxNCZuKT4+MSxpWzJdPSgxJm4pPDw3LGlbMl18PTgsaVszXT0wKSx7Y29uZmlnOmksY29kZWM6Im1wNGEuNDAuIi5jb25jYXQoYSl9fX0se2tleToiZ2V0U2lsZW50RnJhbWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIm1wNGEuNDAuMiI9PT1lKXtpZigxPT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzAsMjAwLDAsMTI4LDM1LDEyOF0pO2lmKDI9PT10KXJldHVybiBuZXcgVWludDhBcnJheShbMzMsMCw3MywxNDQsMiwyNSwwLDM1LDEyOF0pO2lmKDM9PT10KXJldHVybiBuZXcgVWludDhBcnJheShbMCwyMDAsMCwxMjgsMzIsMTMyLDEsMzgsNjQsOCwxMDAsMCwxNDJdKTtpZig0PT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzAsMjAwLDAsMTI4LDMyLDEzMiwxLDM4LDY0LDgsMTAwLDAsMTI4LDQ0LDEyOCw4LDIsNTZdKTtpZig1PT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzAsMjAwLDAsMTI4LDMyLDEzMiwxLDM4LDY0LDgsMTAwLDAsMTMwLDQ4LDQsMTUzLDAsMzMsMTQ0LDIsNTZdKTtpZig2PT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzAsMjAwLDAsMTI4LDMyLDEzMiwxLDM4LDY0LDgsMTAwLDAsMTMwLDQ4LDQsMTUzLDAsMzMsMTQ0LDIsMCwxNzgsMCwzMiw4LDIyNF0pfWVsc2V7aWYoMT09PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KFsxLDY0LDM0LDEyOCwxNjMsNzgsMjMwLDEyOCwxODYsOCwwLDAsMCwyOCw2LDI0MSwxOTMsMTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTRdKTtpZigyPT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzEsNjQsMzQsMTI4LDE2Myw5NCwyMzAsMTI4LDE4Niw4LDAsMCwwLDAsMTQ5LDAsNiwyNDEsMTYxLDEwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDk0XSk7aWYoMz09PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KFsxLDY0LDM0LDEyOCwxNjMsOTQsMjMwLDEyOCwxODYsOCwwLDAsMCwwLDE0OSwwLDYsMjQxLDE2MSwxMCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5NF0pfX19XSksZX0oKTtpKHVlLCJGUkVRIixbOTZlMyw4ODIwMCw2NGUzLDQ4ZTMsNDQxMDAsMzJlMywyNGUzLDIyMDUwLDE2ZTMsMTJlMywxMTAyNSw4ZTMsNzM1MF0pO3ZhciBjZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyKHRoaXMsZSl9cmV0dXJuIG4oZSxudWxsLFt7a2V5OiJwYXJzZUFubmV4QiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ieXRlTGVuZ3RoLTEscj0wO2Rve2lmKDAhPT1lW3RdKWJyZWFrO3IrKyx0LS19d2hpbGUodD4wKTtyPj0zJiYoZT1lLnN1YmFycmF5KDAsdCsxKSk7Zm9yKHZhciBhPWUubGVuZ3RoLG49MixpPTA7bnVsbCE9PWVbbl0mJnZvaWQgMCE9PWVbbl0mJjEhPT1lW25dOyluKys7aWYoKGk9KytuKzIpPj1hKXJldHVybltdO2Zvcih2YXIgcz1bXTtpPGE7KXN3aXRjaChlW2ldKXtjYXNlIDA6aWYoMCE9PWVbaS0xXSl7aSs9MjticmVha31pZigwIT09ZVtpLTJdKXtpKys7YnJlYWt9aWYoaTxhLTEmJjEhPT1lW2krMV0pe2krKzticmVha31uIT09aS0yJiZzLnB1c2goZS5zdWJhcnJheShuLGktMikpO2Rve2krK313aGlsZSgxIT09ZVtpXSYmaTxhKTtpPShuPWkrMSkrMjticmVhaztjYXNlIDE6aWYoMCE9PWVbaS0xXXx8MCE9PWVbaS0yXSl7aSs9MzticmVha31uIT09aS0yJiZzLnB1c2goZS5zdWJhcnJheShuLGktMikpLGk9KG49aSsxKSsyO2JyZWFrO2RlZmF1bHQ6aSs9M31yZXR1cm4gbjxhJiZzLnB1c2goZS5zdWJhcnJheShuKSksc319LHtrZXk6InBhcnNlQXZjQyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjQ7aWYoIShlLmxlbmd0aDw0KSl7Zm9yKHZhciByLGE9ZS5sZW5ndGgsbj1bXSxpPTA7aSt0PGE7KWlmKHI9cmUoZSxpKSwzPT09dCYmKHI+Pj49OCksaSs9dCxyKXtpZihpK3I+YSlicmVhaztuLnB1c2goZS5zdWJhcnJheShpLGkrcikpLGkrPXJ9cmV0dXJuIG59fX0se2tleToicGFyc2VTRUkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUubGVuZ3RoLGE9dD8yOjEsbj0wLGk9MCxzPSIiOzI1NT09PWVbYV07KW4rPTI1NSxhKys7Zm9yKG4rPWVbYSsrXTsyNTU9PT1lW2FdOylpKz0yNTUsYSsrO2lmKGkrPWVbYSsrXSw1PT09biYmcj5hKzE2KWZvcih2YXIgbz0wO288MTY7bysrKXMrPWVbYV0udG9TdHJpbmcoMTYpLGErKztyZXR1cm57cGF5bG9hZDplLnN1YmFycmF5KGEsYStpKSx0eXBlOm4sc2l6ZTppLHV1aWQ6c319fSx7a2V5OiJyZW1vdmVFUEIiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmJ5dGVMZW5ndGgscj1bXSxhPTE7YTx0LTI7KTA9PT1lW2FdJiYwPT09ZVthKzFdJiYzPT09ZVthKzJdPyhyLnB1c2goYSsyKSxhKz0yKTphKys7aWYoIXIubGVuZ3RoKXJldHVybiBlO3ZhciBuPXQtci5sZW5ndGgsaT1uZXcgVWludDhBcnJheShuKSxzPTA7Zm9yKGE9MDthPG47cysrLGErKylzPT09clswXSYmKHMrKyxyLnNoaWZ0KCkpLGlbYV09ZVtzXTtyZXR1cm4gaX19XSksZX0oKSxsZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyKHRoaXMsZSl9cmV0dXJuIG4oZSxudWxsLFt7a2V5OiJwYXJzZUFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkIix2YWx1ZTpmdW5jdGlvbih0KXtpZighKHQubGVuZ3RoPDcpKXtmb3IodmFyIHIsYSxuPTErKDMmdFs0XSksaT1bXSxzPVtdLG89Nix1PTMxJnRbNV0sYz0wO2M8dTtjKyspaWYoYT10W29dPDw4fHRbbysxXSxvKz0yLGEpe3ZhciBsPXQuc3ViYXJyYXkobyxvK2EpO28rPWEsaS5wdXNoKGwpLHJ8fChyPWUucGFyc2VTUFMoY2UucmVtb3ZlRVBCKGwpKSl9dmFyIGYsZD10W29dO28rKztmb3IodmFyIGg9MDtoPGQ7aCsrKWY9dFtvXTw8OHx0W28rMV0sbys9MixmJiYocy5wdXNoKHQuc3ViYXJyYXkobyxvK2YpKSxvKz1mKTtyZXR1cm57c3BzOnIsc3BzQXJyOmkscHBzQXJyOnMsbmFsVW5pdFNpemU6bn19fX0se2tleToicGFyc2VTUFMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBLKGUpO3QucmVhZFVCeXRlKCk7dmFyIHI9dC5yZWFkVUJ5dGUoKSxhPXQucmVhZFVCeXRlKCksbj10LnJlYWRVQnl0ZSgpO3Quc2tpcFVFRygpO3ZhciBpPTQyMDtpZigxMDA9PT1yfHwxMTA9PT1yfHwxMjI9PT1yfHwyNDQ9PT1yfHw0ND09PXJ8fDgzPT09cnx8ODY9PT1yfHwxMTg9PT1yfHwxMjg9PT1yfHwxMzg9PT1yfHwxNDQ9PT1yKXt2YXIgcz10LnJlYWRVRUcoKTtpZihzPD0zJiYoaT1bMCw0MjAsNDIyLDQ0NF1bc10pLDM9PT1zJiZ0LnNraXBCaXRzKDEpLHQuc2tpcFVFRygpLHQuc2tpcFVFRygpLHQuc2tpcEJpdHMoMSksdC5yZWFkQm9vbCgpKWZvcih2YXIgbz0zIT09cz84OjEyLHU9MDt1PG87dSsrKXQucmVhZEJvb2woKSYmKHU8Nj90LnNraXBTY2FsaW5nTGlzdCgxNik6dC5za2lwU2NhbGluZ0xpc3QoNjQpKX10LnNraXBVRUcoKTt2YXIgYz10LnJlYWRVRUcoKTtpZigwPT09Yyl0LnJlYWRVRUcoKTtlbHNlIGlmKDE9PT1jKXt0LnNraXBCaXRzKDEpLHQuc2tpcFVFRygpLHQuc2tpcFVFRygpO2Zvcih2YXIgbD10LnJlYWRVRUcoKSxmPTA7ZjxsO2YrKyl0LnNraXBVRUcoKX10LnNraXBVRUcoKSx0LnNraXBCaXRzKDEpO3ZhciBkPXQucmVhZFVFRygpLGg9dC5yZWFkVUVHKCkscD10LnJlYWRCaXRzKDEpOzA9PT1wJiZ0LnNraXBCaXRzKDEpLHQuc2tpcEJpdHMoMSk7dmFyIHYseSxtLGcsayxiPTAsXz0wLHc9MCx4PTA7aWYodC5yZWFkQm9vbCgpJiYoYj10LnJlYWRVRUcoKSxfPXQucmVhZFVFRygpLHc9dC5yZWFkVUVHKCkseD10LnJlYWRVRUcoKSksdC5yZWFkQm9vbCgpKXtpZih0LnJlYWRCb29sKCkpc3dpdGNoKHQucmVhZFVCeXRlKCkpe2Nhc2UgMTp2PVsxLDFdO2JyZWFrO2Nhc2UgMjp2PVsxMiwxMV07YnJlYWs7Y2FzZSAzOnY9WzEwLDExXTticmVhaztjYXNlIDQ6dj1bMTYsMTFdO2JyZWFrO2Nhc2UgNTp2PVs0MCwzM107YnJlYWs7Y2FzZSA2OnY9WzI0LDExXTticmVhaztjYXNlIDc6dj1bMjAsMTFdO2JyZWFrO2Nhc2UgODp2PVszMiwxMV07YnJlYWs7Y2FzZSA5OnY9WzgwLDMzXTticmVhaztjYXNlIDEwOnY9WzE4LDExXTticmVhaztjYXNlIDExOnY9WzE1LDExXTticmVhaztjYXNlIDEyOnY9WzY0LDMzXTticmVhaztjYXNlIDEzOnY9WzE2MCw5OV07YnJlYWs7Y2FzZSAxNDp2PVs0LDNdO2JyZWFrO2Nhc2UgMTU6dj1bMywyXTticmVhaztjYXNlIDE2OnY9WzIsMV07YnJlYWs7Y2FzZSAyNTU6dj1bdC5yZWFkVUJ5dGUoKTw8OHx0LnJlYWRVQnl0ZSgpLHQucmVhZFVCeXRlKCk8PDh8dC5yZWFkVUJ5dGUoKV19aWYodC5yZWFkQm9vbCgpJiZ0LnJlYWRCb29sKCksdC5yZWFkQm9vbCgpJiYodC5yZWFkQml0cyg0KSx0LnJlYWRCb29sKCkmJnQucmVhZEJpdHMoMjQpKSx0LnJlYWRCb29sKCkmJih0LnJlYWRVRUcoKSx0LnJlYWRVRUcoKSksdC5yZWFkQm9vbCgpKXt2YXIgUz10LnJlYWRCaXRzKDMyKSxEPXQucmVhZEJpdHMoMzIpO3k9dC5yZWFkQm9vbCgpLGs9KG09RCkvKGc9MipTKX19cmV0dXJue2NvZGVjOm5lKGUuc3ViYXJyYXkoMSw0KSkscHJvZmlsZUlkYzpyLHByb2ZpbGVDb21wYXRpYmlsaXR5OmEsbGV2ZWxJZGM6bixjaHJvbWFGb3JtYXQ6aSx3aWR0aDpNYXRoLmNlaWwoMTYqKGQrMSktMiooYitfKSksaGVpZ2h0OigyLXApKihoKzEpKjE2LShwPzI6NCkqKHcreCksc2FyUmF0aW86dixmcHNOdW06bSxmcHNEZW46ZyxmcHM6ayxmaXhlZEZyYW1lOnl9fX1dKSxlfSgpLGZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3IodGhpcyxlKX1yZXR1cm4gbihlLG51bGwsW3trZXk6InBhcnNlSEVWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYoISh0Lmxlbmd0aDwyMykpe3I9cnx8e307Zm9yKHZhciBhLG4saSxzLG8sdT0xKygzJnRbMjFdKSxjPVtdLGw9W10sZj1bXSxkPTIzLGg9dFsyMl0scD0wO3A8aDtwKyspe2k9NjMmdFtkXSxzPXRbZCsxXTw8OHx0W2QrMl0sZCs9Mztmb3IodmFyIHY9MDt2PHM7disrKWlmKG89dFtkXTw8OHx0W2QrMV0sZCs9MixvKXtzd2l0Y2goaSl7Y2FzZSAzMjp2YXIgeT10LnN1YmFycmF5KGQsZCtvKTthfHwoYT1lLnBhcnNlVlBTKGNlLnJlbW92ZUVQQih5KSxyKSksZi5wdXNoKHkpO2JyZWFrO2Nhc2UgMzM6dmFyIG09dC5zdWJhcnJheShkLGQrbyk7bnx8KG49ZS5wYXJzZVNQUyhjZS5yZW1vdmVFUEIobSkscikpLGMucHVzaChtKTticmVhaztjYXNlIDM0OmwucHVzaCh0LnN1YmFycmF5KGQsZCtvKSl9ZCs9b319cmV0dXJue2h2Y0M6cixzcHM6bixzcHNBcnI6YyxwcHNBcnI6bCx2cHNBcnI6ZixuYWxVbml0U2l6ZTp1fX19fSx7a2V5OiJwYXJzZVZQUyIsdmFsdWU6ZnVuY3Rpb24odCxyKXtyPXJ8fHt9O3ZhciBhPW5ldyBLKHQpO2EucmVhZFVCeXRlKCksYS5yZWFkVUJ5dGUoKSxhLnJlYWRCaXRzKDEyKTt2YXIgbj1hLnJlYWRCaXRzKDMpO3JldHVybiByLm51bVRlbXBvcmFsTGF5ZXJzPU1hdGgubWF4KHIubnVtVGVtcG9yYWxMYXllcnN8fDAsbisxKSxhLnJlYWRCaXRzKDE3KSxlLl9wYXJzZVByb2ZpbGVUaWVyTGV2ZWwoYSxuLHIpLHJ9fSx7a2V5OiJwYXJzZVNQUyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3I9cnx8e307dmFyIGE9bmV3IEsodCk7YS5yZWFkVUJ5dGUoKSxhLnJlYWRVQnl0ZSgpLGEucmVhZEJpdHMoNCk7dmFyIG49YS5yZWFkQml0cygzKTtyLm51bVRlbXBvcmFsTGF5ZXJzPU1hdGgubWF4KG4rMSxyLm51bVRlbXBvcmFsTGF5ZXJzfHwwKSxyLnRlbXBvcmFsSWROZXN0ZWQ9YS5yZWFkQml0cygxKSxlLl9wYXJzZVByb2ZpbGVUaWVyTGV2ZWwoYSxuLHIpLGEucmVhZFVFRygpO3ZhciBpPXIuY2hyb21hRm9ybWF0SWRjPWEucmVhZFVFRygpLHM9NDIwO2k8PTMmJihzPVswLDQyMCw0MjIsNDQ0XVtpXSk7dmFyIG89MDszPT09aSYmKG89YS5yZWFkQml0cygxKSk7dmFyIHUsYyxsLGYsZD1hLnJlYWRVRUcoKSxoPWEucmVhZFVFRygpLHA9YS5yZWFkQml0cygxKTtpZigxPT09cCYmKHU9YS5yZWFkVUVHKCksYz1hLnJlYWRVRUcoKSxsPWEucmVhZFVFRygpLGY9YS5yZWFkVUVHKCkpLHIuYml0RGVwdGhMdW1hTWludXM4PWEucmVhZFVFRygpLHIuYml0RGVwdGhDaHJvbWFNaW51czg9YS5yZWFkVUVHKCksMT09PXApe3ZhciB2PTEhPT1pJiYyIT09aXx8MCE9PW8/MToyLHk9MT09PWkmJjA9PT1vPzI6MTtkLT12KihjK3UpLGgtPXkqKGYrbCl9cmV0dXJue2NvZGVjOiJoZXYxLjEuNi5MOTMuQjAiLHdpZHRoOmQsaGVpZ2h0OmgsY2hyb21hRm9ybWF0OnMsaHZjQzpyfX19LHtrZXk6Il9wYXJzZVByb2ZpbGVUaWVyTGV2ZWwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1yLmdlbmVyYWxUaWVyRmxhZ3x8MDtyLmdlbmVyYWxQcm9maWxlU3BhY2U9ZS5yZWFkQml0cygyKSxyLmdlbmVyYWxUaWVyRmxhZz1NYXRoLm1heChlLnJlYWRCaXRzKDEpLGEpLHIuZ2VuZXJhbFByb2ZpbGVJZGM9TWF0aC5tYXgoZS5yZWFkQml0cyg1KSxyLmdlbmVyYWxQcm9maWxlSWRjfHwwKSxyLmdlbmVyYWxQcm9maWxlQ29tcGF0aWJpbGl0eUZsYWdzPWUucmVhZEJpdHMoMzIpLHIuZ2VuZXJhbENvbnN0cmFpbnRJbmRpY2F0b3JGbGFncz1bZS5yZWFkQml0cyg4KSxlLnJlYWRCaXRzKDgpLGUucmVhZEJpdHMoOCksZS5yZWFkQml0cyg4KSxlLnJlYWRCaXRzKDgpLGUucmVhZEJpdHMoOCldO3ZhciBuPWUucmVhZEJpdHMoOCk7YTxyLmdlbmVyYWxUaWVyRmxhZz9yLmdlbmVyYWxMZXZlbElkYz1uOnIuZ2VuZXJhbExldmVsSWRjPU1hdGgubWF4KG4sci5nZW5lcmFsTGV2ZWxJZGN8fDApO3ZhciBpPVtdLHM9W107aWYodD5lLmJpdHNBdmFpbGFibGUpdGhyb3cgbmV3IEVycm9yKCJtYXhTdWJMYXllcnNNaW51cyBpbmF2bGlkIHNpemUgIi5jb25jYXQodCkpO2Zvcih2YXIgbz0wO288dDtvKyspaVtvXT1lLnJlYWRCaXRzKDEpLHNbb109ZS5yZWFkQml0cygxKTt0PjAmJmUucmVhZEJpdHMoMiooOC10KSk7Zm9yKHZhciB1PTA7dTx0O3UrKykwIT09aVt1XSYmKGUucmVhZEJpdHMoMiksZS5yZWFkQml0cygxKSxlLnJlYWRCaXRzKDUpLGUucmVhZEJpdHMoMTYpLGUucmVhZEJpdHMoMTYpLGUucmVhZEJpdHMoNCksZS5yZWFkQml0cygxNiksZS5yZWFkQml0cygxNiksZS5yZWFkQml0cygxMikpLDAhPT1zW3VdJiZlLnJlYWRCaXRzKDgpfX1dKSxlfSgpLGRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3IodGhpcyxlKX1yZXR1cm4gbihlLG51bGwsW3trZXk6ImdldEZyYW1lRHVyYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiAyMH19LHtrZXk6InBhcnNlSGVhZGVyUGFja2V0cyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGgpe2Zvcih2YXIgdD1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCkscj0iIixhPTA7YTw4O2ErKylyKz1TdHJpbmcuZnJvbUNvZGVQb2ludChlW2FdKTtpZigiT3B1c0hlYWQiIT09cil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgT3B1cyBNYWdpY1NpZ25hdHVyZSIpO3ZhciBuPWVbOV07Y29uc29sZS5sb2coIlByZS1za2lwIixlWzEwXSxlWzExXSk7dmFyIGk9dC5nZXRVaW50MzIoMTIsITApLHM9dC5nZXRJbnQxNigxNiwhMCk7aWYoaSl7cmV0dXJue291dHB1dEdhaW46cyxzYW1wbGVSYXRlOmksY2hhbm5lbENvdW50Om4sY29uZmlnOm5ldyBVaW50OEFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCs4LGUuYnl0ZUxlbmd0aC04KSxjb2RlYzoib3B1cyIsb3JpZ2luQ29kZWM6Im9wdXMifX19fX1dKSxlfSgpLGhlPTFlMyxwZT01ZTMsdmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsYSxuKXtyKHRoaXMsZSksdGhpcy52aWRlb1RyYWNrPXQsdGhpcy5hdWRpb1RyYWNrPWEsdGhpcy5tZXRhZGF0YVRyYWNrPW4sdGhpcy5fYmFzZUR0cz0tMSx0aGlzLl9iYXNlRHRzSW5pdGVkPSExLHRoaXMuX2F1ZGlvTmV4dFB0cz12b2lkIDAsdGhpcy5fdmlkZW9OZXh0RHRzPXZvaWQgMCx0aGlzLl9hdWRpb1RpbWVzdGFtcEJyZWFrPTAsdGhpcy5fdmlkZW9UaW1lc3RhbXBCcmVhaz0wLHRoaXMuX2xhc3RWaWRlb0R1cmF0aW9uPTAsdGhpcy5fa2V5RnJhbWVJbk5leHRDaHVuaz0hMSx0aGlzLl9sYXN0QXVkaW9FeGNlcHRpb25HYXBEb3Q9LTEvMCx0aGlzLl9sYXN0QXVkaW9FeGNlcHRpb25PdmVybGFwRG90PS0xLzAsdGhpcy5fbGFzdEF1ZGlvRXhjZXB0aW9uTGFyZ2VHYXBEb3Q9LTEvMCx0aGlzLl9sYXN0VmlkZW9FeGNlcHRpb25MYXJnZUdhcERvdD0tMS8wLHRoaXMuX2xhc3RWaWRlb0V4Y2VwdGlvbkNodW5rRmlyc3REdHNEb3Q9LTEvMH1yZXR1cm4gbihlLFt7a2V5OiJmaXgiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxhPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl07dD1NYXRoLnJvdW5kKDFlMyp0KTt2YXIgbj10aGlzLnZpZGVvVHJhY2ssaT10aGlzLmF1ZGlvVHJhY2s7IXImJmF8fCh0aGlzLl92aWRlb0xhc3RTYW1wbGU9bnVsbCx0aGlzLl9hdWRpb05leHRQdHM9dm9pZCAwLHRoaXMuX3ZpZGVvTmV4dER0cz12b2lkIDAsdGhpcy5fYXVkaW9UaW1lc3RhbXBCcmVhaz0wLHRoaXMuX3ZpZGVvVGltZXN0YW1wQnJlYWs9MCx0aGlzLl9sYXN0QXVkaW9FeGNlcHRpb25HYXBEb3Q9LTEvMCx0aGlzLl9sYXN0QXVkaW9FeGNlcHRpb25PdmVybGFwRG90PS0xLzAsdGhpcy5fbGFzdEF1ZGlvRXhjZXB0aW9uTGFyZ2VHYXBEb3Q9LTEvMCx0aGlzLl9sYXN0VmlkZW9FeGNlcHRpb25MYXJnZUdhcERvdD0tMS8wLHRoaXMuX2xhc3RWaWRlb0V4Y2VwdGlvbkNodW5rRmlyc3REdHNEb3Q9LTEvMCksciYmIWEmJih0aGlzLl9iYXNlRHRzSW5pdGVkPSExKSx0aGlzLl9iYXNlRHRzSW5pdGVkfHx0aGlzLl9jYWxjdWxhdGVCYXNlRHRzKGksbiksIWEmJnQmJih0aGlzLl9hdWRpb05leHRQdHM9dGhpcy5fdmlkZW9OZXh0RHRzPXQpO3ZhciBzPXRoaXMuX2Jhc2VEdHNJbml0ZWQmJih0aGlzLl92aWRlb1RpbWVzdGFtcEJyZWFrfHwhdGhpcy52aWRlb1RyYWNrLmV4aXN0KCkpJiYodGhpcy5fYXVkaW9UaW1lc3RhbXBCcmVha3x8IXRoaXMuYXVkaW9UcmFjay5leGlzdCgpKTtpZihzJiZ0aGlzLl9yZXNldEJhc2VEdHNXaGVuU3RyZWFtQnJlYWtlZCgpLHRoaXMuX2ZpeEF1ZGlvKGkpLHRoaXMuX2tleUZyYW1lSW5OZXh0Q2h1bms9ITEsdGhpcy5fZml4VmlkZW8obiksdGhpcy5tZXRhZGF0YVRyYWNrLmV4aXN0KCkpe3ZhciBvPXRoaXMubWV0YWRhdGFUcmFjay50aW1lc2NhbGU7dGhpcy5tZXRhZGF0YVRyYWNrLnNlaVNhbXBsZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5wdHM9dC5vcmlnaW5QdHMtZS5fYmFzZUR0cyx0LnRpbWU9TWF0aC5tYXgoMCx0LnB0cykvb30pKSx0aGlzLm1ldGFkYXRhVHJhY2suZmx2U2NyaXB0U2FtcGxlcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnB0cz10Lm9yaWdpblB0cy1lLl9iYXNlRHRzLHQudGltZT1NYXRoLm1heCgwLHQucHRzKS9vfSkpfW4uc2FtcGxlcy5sZW5ndGgmJihuLmJhc2VNZWRpYURlY29kZVRpbWU9bi5zYW1wbGVzWzBdLmR0cyksaS5zYW1wbGVzLmxlbmd0aCYmKGkuYmFzZU1lZGlhRGVjb2RlVGltZT1pLnNhbXBsZXNbMF0ucHRzKmkudGltZXNjYWxlLzFlMyl9fSx7a2V5OiJfZml4VmlkZW8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnNhbXBsZXM7aWYoci5sZW5ndGgpe3ZhciBhO2lmKHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5kdHMtPXQuX2Jhc2VEdHMsZS5wdHMtPXQuX2Jhc2VEdHMsZS5rZXlmcmFtZSYmKHQuX2tleUZyYW1lSW5OZXh0Q2h1bms9ITApfSkpLGUuZnBzTnVtJiZlLmZwc0RlbilhPWUudGltZXNjYWxlKihlLmZwc0Rlbi9lLmZwc051bSk7ZWxzZSBpZihlLmxlbmd0aD4xKXt2YXIgbj1lLnNhbXBsZXNbMF0saT1lLnNhbXBsZXNbci5sZW5ndGgtMV07YT1NYXRoLmZsb29yKChpLmR0cy1uLmR0cykvKHIubGVuZ3RoLTEpKX1lbHNlIGE9dGhpcy5fbGFzdFZpZGVvRHVyYXRpb258fDQwO3ZhciBzPXIucG9wKCk7aWYodGhpcy5fdmlkZW9MYXN0U2FtcGxlJiZyLnVuc2hpZnQodGhpcy5fdmlkZW9MYXN0U2FtcGxlKSx0aGlzLl92aWRlb0xhc3RTYW1wbGU9cyxyLmxlbmd0aCl7aWYodm9pZCAwPT09dGhpcy5fdmlkZW9OZXh0RHRzKXt2YXIgbz1yWzBdO3RoaXMuX3ZpZGVvTmV4dER0cz1vLmR0c312YXIgdT1yLmxlbmd0aCxjPTAsbD1yWzBdLGY9dGhpcy5fdmlkZW9OZXh0RHRzLWwuZHRzO2lmKE1hdGguYWJzKGYpPjIwMCl7dmFyIGQ7aWYoTWF0aC5hYnMobC5kdHMtdGhpcy5fbGFzdFZpZGVvRXhjZXB0aW9uQ2h1bmtGaXJzdER0c0RvdCk+NWUzKXRoaXMuX2xhc3RWaWRlb0V4Y2VwdGlvbkNodW5rRmlyc3REdHNEb3Q9bC5kdHMsZS53YXJuaW5ncy5wdXNoKHt0eXBlOkksbmV4dER0czp0aGlzLl92aWRlb05leHREdHMsZmlyc3RTYW1wbGVEdHM6bC5kdHMsbmV4dFNhbXBsZUR0czpudWxsPT09KGQ9clsxXSl8fHZvaWQgMD09PWQ/dm9pZCAwOmQuZHRzLHNhbXBsZUR1cmF0aW9uOmZ9KTt0aGlzLl92aWRlb1RpbWVzdGFtcEJyZWFrPj01Pyh0aGlzLl92aWRlb05leHREdHM9bC5kdHMsdGhpcy5fdmlkZW9UaW1lc3RhbXBCcmVhaz0wKToobC5kdHMrPWYsbC5wdHMrPWYsdGhpcy5hdWRpb1RyYWNrLmV4aXN0KCl8fCh0aGlzLl92aWRlb1RpbWVzdGFtcEJyZWFrPTEpKX1mb3IodmFyIGg9MDtoPHU7aCsrKXt2YXIgcD1yW2hdLmR0cyx2PXJbaCsxXTsoKGM9aDx1LTE/di5kdHMtcDpzP3MuZHRzLXA6YSk+MWUzfHxjPDApJiYodGhpcy5fdmlkZW9UaW1lc3RhbXBCcmVhaysrLE1hdGguYWJzKHAtdGhpcy5fbGFzdFZpZGVvRXhjZXB0aW9uTGFyZ2VHYXBEb3QpPjVlMyYmKHRoaXMuX2xhc3RWaWRlb0V4Y2VwdGlvbkxhcmdlR2FwRG90PXAsZS53YXJuaW5ncy5wdXNoKHt0eXBlOlAsdGltZTpwL2UudGltZXNjYWxlLGR0czpwLG9yaWdpbkR0czpyW2hdLm9yaWdpbkR0cyxuZXh0RHRzOnRoaXMuX3ZpZGVvTmV4dER0cyxzYW1wbGVEdXJhdGlvbjpjLHJlZlNhbXBsZUR1cmF0aW9uOmF9KSksYz1hKSxyW2hdLmR1cmF0aW9uPWMsdGhpcy5fdmlkZW9OZXh0RHRzKz1jLHRoaXMuX2xhc3RWaWRlb0R1cmF0aW9uPWN9fX19fSx7a2V5OiJfZml4QXVkaW8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnNhbXBsZXM7ci5sZW5ndGgmJihyLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZHRzPWUucHRzLT10Ll9iYXNlRHRzfSkpLHRoaXMuX2RvRml4QXVkaW9JbnRlcm5hbChlLHIsMWUzKSl9fSx7a2V5OiJfY2FsY3VsYXRlQmFzZUR0cyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnNhbXBsZXMsYT10LnNhbXBsZXM7aWYoIXIubGVuZ3RoJiYhYS5sZW5ndGgpcmV0dXJuITE7dmFyIG49MS8wLGk9MS8wO3IubGVuZ3RoJiYoZS5iYXNlRHRzPW49clswXS5wdHMpLGEubGVuZ3RoJiYodC5iYXNlRHRzPWk9YVswXS5kdHMpLHRoaXMuX2Jhc2VEdHM9TWF0aC5taW4obixpKTt2YXIgcz1pLW47cmV0dXJuIE51bWJlci5pc0Zpbml0ZShzKSYmTWF0aC5hYnMocyk+NTAwJiZ0Lndhcm5pbmdzLnB1c2goe3R5cGU6Qyx2aWRlb0Jhc2VEdHM6aSxhdWRpb0Jhc2VQdHM6bixiYXNlRHRzOnRoaXMuX2Jhc2VEdHMsZGVsdGE6c30pLHRoaXMuX2Jhc2VEdHNJbml0ZWQ9ITAsITB9fSx7a2V5OiJfcmVzZXRCYXNlRHRzV2hlblN0cmVhbUJyZWFrZWQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2FsY3VsYXRlQmFzZUR0cyh0aGlzLmF1ZGlvVHJhY2ssdGhpcy52aWRlb1RyYWNrKSYmKHRoaXMuYXVkaW9UcmFjay5leGlzdCgpP3RoaXMudmlkZW9UcmFjay5leGlzdCgpP3RoaXMuX2Jhc2VEdHMtPU1hdGgubWluKHRoaXMuX2F1ZGlvTmV4dFB0cyx0aGlzLl92aWRlb05leHREdHMpOnRoaXMuX2Jhc2VEdHMtPXRoaXMuX2F1ZGlvTmV4dFB0czp0aGlzLl9iYXNlRHRzLT10aGlzLl92aWRlb05leHREdHMsdGhpcy5fdmlkZW9UaW1lc3RhbXBCcmVhaz0wLHRoaXMuX2F1ZGlvVGltZXN0YW1wQnJlYWs9MCl9fSx7a2V5OiJfZG9GaXhBdWRpb0ludGVybmFsIix2YWx1ZTpmdW5jdGlvbihlLHQscil7aWYoIWUuc2FtcGxlRHVyYXRpb24pc3dpdGNoKGUuY29kZWNUeXBlKXtjYXNlIEE6ZS5zYW1wbGVEdXJhdGlvbj11ZS5nZXRGcmFtZUR1cmF0aW9uKGUudGltZXNjYWxlLHIpO2JyZWFrO2Nhc2UgRTplLnNhbXBsZUR1cmF0aW9uPWRlLmdldEZyYW1lRHVyYXRpb24oZS5zYW1wbGVzLHIpO2JyZWFrO2Nhc2UgVDpjYXNlIEI6ZS5zYW1wbGVEdXJhdGlvbj10aGlzLl9nZXRHNzExRHVyYXRpb24oZSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJjYW4ndCBmaXggYXVkaW8gY29kZWNUeXBlOiIsZS5jb2RlY1R5cGUpfXZhciBhPWUuc2FtcGxlRHVyYXRpb24sbj1lLmNvZGVjVHlwZT09PUU/MjA6ZS5jb2RlY1R5cGU9PT1BPzEwMjQ6YSplLnRpbWVzY2FsZS8xZTM7aWYodm9pZCAwPT09dGhpcy5fYXVkaW9OZXh0UHRzKXt2YXIgaT10WzBdO3RoaXMuX2F1ZGlvTmV4dFB0cz1pLnB0c31mb3IodmFyIHM9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIG89dGhpcy5fYXVkaW9OZXh0UHRzLHU9dFtzXSxjPXUucHRzLW87aWYoMD09PXMmJnRoaXMuX2F1ZGlvVGltZXN0YW1wQnJlYWs+PTUmJnRoaXMuX2tleUZyYW1lSW5OZXh0Q2h1bmsmJihvPXRoaXMuX2F1ZGlvTmV4dFB0cz11LmR0cyxjPTAsdGhpcy5fYXVkaW9UaW1lc3RhbXBCcmVhaz0wKSwhdGhpcy5fYXVkaW9UaW1lc3RhbXBCcmVhayYmYz49MyphJiZjPD1oZSYmIVope3ZhciBsPXRoaXMuX2dldFNpbGVudEZyYW1lKGUpfHx0WzBdLmRhdGEuc3ViYXJyYXkoKSxmPU1hdGguZmxvb3IoYy9hKTtNYXRoLmFicyh1LnB0cy10aGlzLl9sYXN0QXVkaW9FeGNlcHRpb25HYXBEb3QpPnBlJiYodGhpcy5fbGFzdEF1ZGlvRXhjZXB0aW9uR2FwRG90PXUucHRzLGUud2FybmluZ3MucHVzaCh7dHlwZTp6LHB0czp1LnB0cyxvcmlnaW5QdHM6dS5vcmlnaW5QdHMsY291bnQ6ZixuZXh0UHRzOm8scmVmU2FtcGxlRHVyYXRpb246YX0pKTtmb3IodmFyIGQ9MDtkPGY7ZCsrKXt2YXIgaD1uZXcgRihNYXRoLmZsb29yKHRoaXMuX2F1ZGlvTmV4dFB0cythKS1NYXRoLmZsb29yKHRoaXMuX2F1ZGlvTmV4dFB0cyksbCxuKTtoLm9yaWdpblB0cz1NYXRoLmZsb29yKHRoaXMuX2Jhc2VEdHMrbyksdC5zcGxpY2UocywwLGgpLHRoaXMuX2F1ZGlvTmV4dFB0cys9YSxzKyt9cy0tfWVsc2UgaWYoYzw9LTMqYSYmYz49LTFlMylNYXRoLmFicyh1LnB0cy10aGlzLl9sYXN0QXVkaW9FeGNlcHRpb25PdmVybGFwRG90KT5wZSYmKHRoaXMuX2xhc3RBdWRpb0V4Y2VwdGlvbk92ZXJsYXBEb3Q9dS5wdHMsZS53YXJuaW5ncy5wdXNoKHt0eXBlOk8scHRzOnUucHRzLG9yaWdpblB0czp1Lm9yaWdpblB0cyxuZXh0UHRzOm8scmVmU2FtcGxlRHVyYXRpb246YX0pKSx0LnNwbGljZShzLDEpLHMtLTtlbHNle2lmKE1hdGguYWJzKGMpPmhlJiYodGhpcy5fYXVkaW9UaW1lc3RhbXBCcmVhaysrLE1hdGguYWJzKHUucHRzLXRoaXMuX2xhc3RBdWRpb0V4Y2VwdGlvbkxhcmdlR2FwRG90KT5wZSYmKHRoaXMuX2xhc3RBdWRpb0V4Y2VwdGlvbkxhcmdlR2FwRG90PXUucHRzLGUud2FybmluZ3MucHVzaCh7dHlwZTpNLHRpbWU6dS5wdHMvMWUzLHB0czp1LnB0cyxvcmlnaW5QdHM6dS5vcmlnaW5QdHMsbmV4dFB0czpvLHNhbXBsZUR1cmF0aW9uOmMscmVmU2FtcGxlRHVyYXRpb246YX0pKSksZS5jb2RlY1R5cGU9PT1FKXt2YXIgcD10W3QubGVuZ3RoLTFdO3AmJihwLmR1cmF0aW9uPXUucHRzLXAucHRzKX1lbHNlIHUuZHRzPXUucHRzPW8sdS5kdXJhdGlvbj1uO3RoaXMuX2F1ZGlvTmV4dFB0cys9YX19fX0se2tleToiX2dldEc3MTFEdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zYW1wbGVTaXplLHI9ZS5jaGFubmVsQ291bnQsYT1lLnNhbXBsZVJhdGUsbj1lLnNhbXBsZXNbMF07aWYobilyZXR1cm4gMipuLmRhdGEuYnl0ZUxlbmd0aC9yLyh0LzgpL2EqMWUzfX0se2tleToiX2dldFNpbGVudEZyYW1lIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlY1R5cGU9PT1BP3VlLmdldFNpbGVudEZyYW1lKGUuY29kZWMsZS5jaGFubmVsQ291bnQpOm5ldyBVaW50OEFycmF5KDgqZS5zYW1wbGVEdXJhdGlvbiplLmNoYW5uZWxDb3VudCl9fV0pLGV9KCkseWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cih0aGlzLGUpfXJldHVybiBuKGUsbnVsbCxbe2tleToicGFyc2UiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCEodC5sZW5ndGg8Mykpe3ZhciByPXt9LGE9ZS5fcGFyc2VWYWx1ZShuZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCkpLG49ZS5fcGFyc2VWYWx1ZShuZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0K2Euc2l6ZSx0LmJ5dGVMZW5ndGgtYS5zaXplKSk7cmV0dXJuIHJbYS5kYXRhXT1uLmRhdGEscn19fSx7a2V5OiJfcGFyc2VWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHIsYT10LmJ5dGVMZW5ndGgsbj0xLGk9ITE7c3dpdGNoKHQuZ2V0VWludDgoMCkpe2Nhc2UgMDpyPXQuZ2V0RmxvYXQ2NCgxKSxuKz04O2JyZWFrO2Nhc2UgMTpyPSEhdC5nZXRVaW50OCgxKSxuKz0xO2JyZWFrO2Nhc2UgMjp2YXIgcz1lLl9wYXJzZVN0cmluZyhuZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0K24sdC5ieXRlTGVuZ3RoLW4pKTtyPXMuZGF0YSxuKz1zLnNpemU7YnJlYWs7Y2FzZSAzOnI9e307dmFyIG89MDtmb3IoOT09KDE2Nzc3MjE1JnQuZ2V0VWludDMyKGEtNCkpJiYobz0zKTtuPGEtNDspe3ZhciB1PWUuX3BhcnNlT2JqZWN0KG5ldyBEYXRhVmlldyh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQrbix0LmJ5dGVMZW5ndGgtbi1vKSksYz11LnNpemUsbD11LmRhdGE7aWYodS5pc0VuZClicmVhaztyW2wubmFtZV09bC52YWx1ZSxuKz1jfWlmKG48PWEtMyk5PT09KDE2Nzc3MjE1JnQuZ2V0VWludDMyKG4tMSkpJiYobis9Myk7YnJlYWs7Y2FzZSA4OnI9e30sbis9NDt2YXIgZj0wO2Zvcig5PT0oMTY3NzcyMTUmdC5nZXRVaW50MzIoYS00KSkmJihmPTMpO248YS04Oyl7dmFyIGQ9ZS5fcGFyc2VPYmplY3QobmV3IERhdGFWaWV3KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCtuLHQuYnl0ZUxlbmd0aC1uLWYpKSxoPWQuc2l6ZSxwPWQuZGF0YTtpZihkLmlzRW5kKWJyZWFrO3JbcC5uYW1lXT1wLnZhbHVlLG4rPWh9aWYobjw9YS0zKTk9PT0oMTY3NzcyMTUmdC5nZXRVaW50MzIobi0xKSkmJihuKz0zKTticmVhaztjYXNlIDk6cj12b2lkIDAsbj0xLGk9ITA7YnJlYWs7Y2FzZSAxMDpyPVtdO3ZhciB2PXQuZ2V0VWludDMyKDEpO24rPTQ7Zm9yKHZhciB5PTA7eTx2O3krKyl7dmFyIG09ZS5fcGFyc2VWYWx1ZShuZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0K24sdC5ieXRlTGVuZ3RoLW4pKSxnPW0uZGF0YSxrPW0uc2l6ZTtyLnB1c2goZyksbis9a31icmVhaztjYXNlIDExOnZhciBiPXQuZ2V0RmxvYXQ2NChuKSs2ZTQqdC5nZXRJbnQxNihuKzgpO3I9bmV3IERhdGUoYiksbis9MTA7YnJlYWs7Y2FzZSAxMjp2YXIgXz10LmdldFVpbnQzMigxKTtuKz00LHI9IiIsXz4wJiYocj1XLmRlY29kZShuZXcgVWludDhBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQrbixfKSkpLG4rPV87YnJlYWs7ZGVmYXVsdDpuPWF9cmV0dXJue2RhdGE6cixzaXplOm4saXNFbmQ6aX19fSx7a2V5OiJfcGFyc2VTdHJpbmciLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0VWludDE2KDApLHI9IiI7cmV0dXJuIHQ+MCYmKHI9Vy5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIsZS5ieXRlT2Zmc2V0KzIsdCkpKSx7ZGF0YTpyLHNpemU6Mit0fX19LHtrZXk6Il9wYXJzZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoISh0LmJ5dGVMZW5ndGg8Mykpe3ZhciByPWUuX3BhcnNlU3RyaW5nKHQpLGE9ZS5fcGFyc2VWYWx1ZShuZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0K3Iuc2l6ZSx0LmJ5dGVMZW5ndGgtci5zaXplKSk7cmV0dXJue2RhdGE6e25hbWU6ci5kYXRhLHZhbHVlOmEuZGF0YX0sc2l6ZTpyLnNpemUrYS5zaXplLGlzRW5kOmEuaXNFbmR9fX19XSksZX0oKSxtZT03LGdlPTgsa2U9MTAsYmU9MTMsX2U9bmV3IHEoIkZsdkRlbXV4ZXIiKSx3ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxhLG4pe3IodGhpcyxlKSxpKHRoaXMsIl9oZWFkZXJQYXJzZWQiLCExKSxpKHRoaXMsIl9yZW1haW5pbmdEYXRhIixudWxsKSxpKHRoaXMsIl9nb3BJZCIsMCksaSh0aGlzLCJfbmVlZEFkZE1ldGFCZWZvcmVLZXlGcmFtZU5hbCIsITApLHRoaXMudmlkZW9UcmFjaz10fHxuZXcgUix0aGlzLmF1ZGlvVHJhY2s9YXx8bmV3IEwsdGhpcy5tZXRhZGF0YVRyYWNrPW58fG5ldyBILHRoaXMuX2ZpeGVyPW5ldyB2ZSh0aGlzLnZpZGVvVHJhY2ssdGhpcy5hdWRpb1RyYWNrLHRoaXMubWV0YWRhdGFUcmFjayl9cmV0dXJuIG4oZSxbe2tleToiZGVtdXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByLGE9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxuPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl0saT1hcmd1bWVudHMubGVuZ3RoPjM/YXJndW1lbnRzWzNdOnZvaWQgMCxzPXRoaXMuYXVkaW9UcmFjayxvPXRoaXMudmlkZW9UcmFjayx1PXRoaXMubWV0YWRhdGFUcmFjaztpZighYSYmbnx8KHRoaXMuX3JlbWFpbmluZ0RhdGE9bnVsbCksYSYmKHRoaXMuX2hlYWRlclBhcnNlZD0hMSksYT8oby5yZXNldCgpLHMucmVzZXQoKSx1LnJlc2V0KCkpOihvLnNhbXBsZXM9W10scy5zYW1wbGVzPVtdLHUuc2VpU2FtcGxlcz1bXSx1LmZsdlNjcmlwdFNhbXBsZXM9W10sby53YXJuaW5ncz1bXSxzLndhcm5pbmdzPVtdLHRoaXMuX3JlbWFpbmluZ0RhdGEmJih0PSQodGhpcy5fcmVtYWluaW5nRGF0YSx0KSx0aGlzLl9yZW1haW5pbmdEYXRhPW51bGwpKSwhdC5sZW5ndGgpcmV0dXJue3ZpZGVvVHJhY2s6byxhdWRpb1RyYWNrOnMsbWV0YWRhdGFUcmFjazp1fTt2YXIgYz0wO2lmKCF0aGlzLl9oZWFkZXJQYXJzZWQpe2lmKCFlLnByb2JlKHQpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBmbHYgZmlsZSIpO3MucHJlc2VudD0oNCZ0WzRdKT4+PjIhPTAsby5wcmVzZW50PTAhPSgxJnRbNF0pLHRoaXMuX2hlYWRlclBhcnNlZD0hMCxjPXJlKHQsNSkrNH1mb3IodmFyIGwsZixkLGgscCx2PXQubGVuZ3RoO2MrMTU8diYmKGw9dFtjXSwhKGMrMTUrKGY9dFtjKzFdPDwxNnx0W2MrMl08PDh8dFtjKzNdKT52KSk7KWQ9KHRbYys3XTw8MjQ+Pj4wKSsodFtjKzRdPDwxNikrKHRbYys1XTw8OCkrdFtjKzZdLGMrPTExLGg9dC5zdWJhcnJheShjLGMrZiksOD09PWw/dGhpcy5fcGFyc2VBdWRpbyhoLGQpOjk9PT1sPyhpJiYodGhpcy5zZWFtbGVzc0xvYWRpbmdTd2l0Y2hpbmc9ITApLHRoaXMuX3BhcnNlVmlkZW8oaCxkKSk6MTg9PT1sP3RoaXMuX3BhcnNlU2NyaXB0KGgsZCk6X2Uud2FybigiSW52YWxpZCB0YWcgdHlwZTogIi5jb25jYXQobCkpLChwPXJlKHQsYys9ZikpIT09MTErZiYmX2Uud2FybigiSW52YWxpZCBQcmV2VGFnU2l6ZSAiLmNvbmNhdChwLCIgKCIpLmNvbmNhdCgxMStmLCIpIikpLGMrPTQ7Yzx2JiYodGhpcy5fcmVtYWluaW5nRGF0YT10LnN1YmFycmF5KGMpKSxzLmZvcm1hdFRpbWVzY2FsZT1vLmZvcm1hdFRpbWVzY2FsZT1vLnRpbWVzY2FsZT11LnRpbWVzY2FsZT0xZTMscy50aW1lc2NhbGU9cy5jb2RlY1R5cGU9PT1FPzFlMzpzLnNhbXBsZVJhdGV8fDAsIXMuZXhpc3QoKSYmcy5oYXNTYW1wbGUoKSYmcy5yZXNldCgpLCFvLmV4aXN0KCkmJm8uaGFzU2FtcGxlKCkmJm8ucmVzZXQoKTt2YXIgeT11LmZsdlNjcmlwdFNhbXBsZXNbdS5mbHZTY3JpcHRTYW1wbGVzLmxlbmd0aC0xXSxtPW51bGw9PXl8fG51bGw9PT0ocj15LmRhdGEpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm9uTWV0YURhdGE7cmV0dXJuIG0mJihudWxsIT1vJiZvLmV4aXN0KCkmJihtLmhhc093blByb3BlcnR5KCJkdXJhdGlvbiIpJiYoby5kdXJhdGlvbj0xZTMqbS5kdXJhdGlvbiksIW8ud2lkdGgmJm0uaGFzT3duUHJvcGVydHkoIndpZHRoIikmJihvLndpZHRoPW0ud2lkdGgpLCFvLmhlaWdodCYmbS5oYXNPd25Qcm9wZXJ0eSgiaGVpZ2h0IikmJihvLmhlaWdodD1tLmhlaWdodCkpLG51bGwhPXMmJnMuZXhpc3QoKSYmbS5oYXNPd25Qcm9wZXJ0eSgiZHVyYXRpb24iKSYmKHMuZHVyYXRpb249MWUzKm0uZHVyYXRpb24pKSx7dmlkZW9UcmFjazpvLGF1ZGlvVHJhY2s6cyxtZXRhZGF0YVRyYWNrOnV9fX0se2tleToiZml4Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuX2ZpeGVyLmZpeChlLHQscikse3ZpZGVvVHJhY2s6dGhpcy52aWRlb1RyYWNrLGF1ZGlvVHJhY2s6dGhpcy5hdWRpb1RyYWNrLG1ldGFkYXRhVHJhY2s6dGhpcy5tZXRhZGF0YVRyYWNrfX19LHtrZXk6ImRlbXV4QW5kRml4Iix2YWx1ZTpmdW5jdGlvbihlLHQscixhLG4pe3JldHVybiB0aGlzLmRlbXV4KGUsdCxyLG4pLHRoaXMuZml4KGEsdCxyKX19LHtrZXk6Il9wYXJzZUF1ZGlvIix2YWx1ZTpmdW5jdGlvbih0LHIpe2lmKHQubGVuZ3RoKXt2YXIgYT0oMjQwJnRbMF0pPj4+NCxuPXRoaXMuYXVkaW9UcmFjaztpZihhIT09a2UmJmEhPT1tZSYmYSE9PWdlJiZhIT09YmUpcmV0dXJuIF9lLndhcm4oIlVuc3VwcG9ydGVkIHNvdW5kIGZvcm1hdDogIi5jb25jYXQoYSkpLHZvaWQgbi5yZXNldCgpO2lmKGEhPT1rZSYmYSE9PWJlKXt2YXIgaT0oMTImdFswXSk+PjIscz0oMiZ0WzBdKT4+MSxvPTEmdFswXTtuLnNhbXBsZVJhdGU9ZS5BVURJT19SQVRFW2ldLG4uc2FtcGxlU2l6ZT1zPzE2Ojgsbi5jaGFubmVsQ291bnQ9bysxfXN3aXRjaChhKXtjYXNlIG1lOmNhc2UgZ2U6dGhpcy5fcGFyc2VHNzExKHQscixhKTticmVhaztjYXNlIGtlOnRoaXMuX3BhcnNlQWFjKHQscik7YnJlYWs7Y2FzZSBiZTp0aGlzLl9wYXJzZU9wdXModCxyKX19fX0se2tleToiX3BhcnNlT3B1cyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmF1ZGlvVHJhY2ssYT1lWzFdO3N3aXRjaChyLmNvZGVjVHlwZT1FLGEpe2Nhc2UgMDp2YXIgbj1kZS5wYXJzZUhlYWRlclBhY2tldHMoZS5zdWJhcnJheSgyKSk7bj8oci5jb2RlYz1uLmNvZGVjLHIuY2hhbm5lbENvdW50PW4uY2hhbm5lbENvdW50LHIuc2FtcGxlUmF0ZT1uLnNhbXBsZVJhdGUsci5jb25maWc9bi5jb25maWcsci5zYW1wbGVEdXJhdGlvbj1kZS5nZXRGcmFtZUR1cmF0aW9uKFtdLHIudGltZXNjYWxlKSk6KHIucmVzZXQoKSxfZS53YXJuKCJDYW5ub3QgcGFyc2UgQXVkaW9TcGVjaWZpY0NvbmZpZyIsZSkpO2JyZWFrO2Nhc2UgMTppZihudWxsPT10KXJldHVybjt2YXIgaT1uZXcgRih0LGUuc3ViYXJyYXkoMiksci5zYW1wbGVEdXJhdGlvbik7ci5zYW1wbGVzLnB1c2goaSk7YnJlYWs7ZGVmYXVsdDpfZS53YXJuKCJVbmtub3duIE9wdXNQYWNrZXRUeXBlOiAiLmNvbmNhdChhKSl9fX0se2tleToiX3BhcnNlRzcxMSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPXRoaXMuYXVkaW9UcmFjayxuPWUuc3ViYXJyYXkoMSk7aWYoIShuLmJ5dGVMZW5ndGg8MSkpe3ZhciBpPW5ldyBGKHQsbik7YS5jb2RlY1R5cGU9Nz09PXI/VDpCLGEuc2FtcGxlUmF0ZT04ZTMsYS5jb2RlYz1hLmNvZGVjVHlwZSxhLnNhbXBsZXMucHVzaChpKX19fSx7a2V5OiJfcGFyc2VBYWMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5hdWRpb1RyYWNrO2lmKHIuY29kZWNUeXBlPUEsMD09PWVbMV0pe3ZhciBhPXVlLnBhcnNlQXVkaW9TcGVjaWZpY0NvbmZpZyhlLnN1YmFycmF5KDIpKTthPyhyLmNvZGVjPWEuY29kZWMsci5jaGFubmVsQ291bnQ9YS5jaGFubmVsQ291bnQsci5zYW1wbGVSYXRlPWEuc2FtcGxlUmF0ZSxyLmNvbmZpZz1hLmNvbmZpZyxyLm9iamVjdFR5cGU9YS5vYmplY3RUeXBlLHIuc2FtcGxlUmF0ZUluZGV4PWEuc2FtcGxpbmdGcmVxdWVuY3lJbmRleCk6KHIucmVzZXQoKSxfZS53YXJuKCJDYW5ub3QgcGFyc2UgQXVkaW9TcGVjaWZpY0NvbmZpZyIsZSkpfWVsc2UgaWYoMT09PWVbMV0pe2lmKG51bGw9PXQpcmV0dXJuO3Iuc2FtcGxlcy5wdXNoKG5ldyBGKHQsZS5zdWJhcnJheSgyKSkpfWVsc2UgX2Uud2FybigiVW5rbm93biBBQUNQYWNrZXRUeXBlOiAiLmNvbmNhdChlWzFdKSl9fSx7a2V5OiJfcGFyc2VWaWRlbyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKCEoZS5sZW5ndGg8Nikpe3ZhciBhPSgyNDAmZVswXSk+Pj40LG49MTUmZVswXSxpPXRoaXMudmlkZW9UcmFjaztpZig3IT09biYmMTIhPT1uKXJldHVybiBpLnJlc2V0KCksdm9pZCBfZS53YXJuKCJVbnN1cHBvcnRlZCBjb2RlY0lkOiAiLmNvbmNhdChuKSk7dmFyIHM9MTI9PT1uO2kuY29kZWNUeXBlPXM/RDpTO3ZhciBvPWVbMV0sdT0oZVsyXTw8MTZ8ZVszXTw8OHxlWzRdKTw8OD4+ODtpZigwPT09byl7dmFyIGM9ZS5zdWJhcnJheSg1KSxsPXM/ZmUucGFyc2VIRVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQoYyk6bGUucGFyc2VBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZChjKTtpZihsKXt2YXIgZj1sLmh2Y0MsZD1sLnNwcyxoPWwucHBzQXJyLHA9bC5zcHNBcnIsdj1sLnZwc0Fycix5PWwubmFsVW5pdFNpemU7ZiYmKGkuaHZjQz1pLmh2Y0N8fGYpLGQmJihpLmNvZGVjPWQuY29kZWMsaS53aWR0aD1kLndpZHRoLGkuaGVpZ2h0PWQuaGVpZ2h0LGkuc2FyUmF0aW89ZC5zYXJSYXRpbyxpLmZwc051bT1kLmZwc051bSxpLmZwc0Rlbj1kLmZwc0RlbikscC5sZW5ndGgmJihpLnNwcz1wKSxoLmxlbmd0aCYmKGkucHBzPWgpLHYmJnYubGVuZ3RoJiYoaS52cHM9dikseSYmKGkubmFsVW5pdFNpemU9eSl9ZWxzZSBfZS53YXJuKCJDYW5ub3QgcGFyc2UgIi5jb25jYXQocz8iSEVWQyI6IkFWQyIsIkRlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkIiksZSl9ZWxzZSBpZigxPT09byl7dmFyIG09Y2UucGFyc2VBdmNDKGUuc3ViYXJyYXkoNSksaS5uYWxVbml0U2l6ZSk7aWYoKG09dGhpcy5fY2hlY2tBZGRNZXRhTmFsVG9Vbml0cyhzLG0saSkpJiZtLmxlbmd0aCl7dmFyIGc9bmV3IFYodCt1LHQsbSk7aWYodGhpcy5zZWFtbGVzc0xvYWRpbmdTd2l0Y2hpbmcmJnQ8aS5sYXN0S2V5RnJhbWVEdHMpcmV0dXJuO3RoaXMuc2VhbWxlc3NMb2FkaW5nU3dpdGNoaW5nPSExLDE9PT1hJiYoZy5zZXRUb0tleWZyYW1lKCksaS5sYXN0S2V5RnJhbWVEdHM9dCksaS5zYW1wbGVzLnB1c2goZyksbS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgYT1zP2VbMF0+Pj4xJjYzOjMxJmVbMF07c3dpdGNoKGEpe2Nhc2UgNTpjYXNlIDE2OmNhc2UgMTc6Y2FzZSAxODpjYXNlIDE5OmNhc2UgMjA6Y2FzZSAyMTpjYXNlIDIyOmNhc2UgMjM6aWYoIXMmJjUhPT1hfHxzJiY1PT09YSlicmVhaztnLnNldFRvS2V5ZnJhbWUoKTticmVhaztjYXNlIDY6Y2FzZSAzOTpjYXNlIDQwOmlmKCFzJiY2IT09YXx8cyYmNj09PWEpYnJlYWs7ci5tZXRhZGF0YVRyYWNrLnNlaVNhbXBsZXMucHVzaChuZXcgRyhjZS5wYXJzZVNFSShjZS5yZW1vdmVFUEIoZSkscyksdCt1KSl9fSkpLGcua2V5ZnJhbWUmJnRoaXMuX2dvcElkKyssZy5nb3BJZD10aGlzLl9nb3BJZH1lbHNlIF9lLndhcm4oIkNhbm5vdCBwYXJzZSBOQUxVcyIsZSl9ZWxzZSAyPT09b3x8X2Uud2FybigiVW5rbm93biBBVkNQYWNrZXRUeXBlOiAiLmNvbmNhdChvKSl9fX0se2tleToiX2NoZWNrQWRkTWV0YU5hbFRvVW5pdHMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZSYmdGhpcy5fbmVlZEFkZE1ldGFCZWZvcmVLZXlGcmFtZU5hbD90Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0+Pj4xJjYzfSkpLmluY2x1ZGVzKDMyKT8odGhpcy5fbmVlZEFkZE1ldGFCZWZvcmVLZXlGcmFtZU5hbD0hMSx0KToodC51bnNoaWZ0KHIucHBzWzBdKSx0LnVuc2hpZnQoci5zcHNbMF0pLHQudW5zaGlmdChyLnZwc1swXSksdC5maWx0ZXIoQm9vbGVhbikpOih0aGlzLl9uZWVkQWRkTWV0YUJlZm9yZUtleUZyYW1lTmFsPSExLHQpfX0se2tleToiX3BhcnNlU2NyaXB0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubWV0YWRhdGFUcmFjay5mbHZTY3JpcHRTYW1wbGVzLnB1c2gobmV3IGooeWUucGFyc2UoZSksdCkpfX1dLFt7a2V5OiJwcm9iZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIDcwPT09ZVswXSYmNzY9PT1lWzFdJiY4Nj09PWVbMl0mJjE9PT1lWzNdJiZyZShlLDUpPj05fX1dKSxlfSgpO2kod2UsIkFVRElPX1JBVEUiLFs1NTAwLDExZTMsMjJlMyw0NGUzXSksbmV3IHEoIlRzRGVtdXhlciIpO3ZhciB4ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxhLG4pe3IodGhpcyxlKSx0aGlzLmR2PW5ldyBEYXRhVmlldyh0KSx0aGlzLnN0YXJ0PXRoaXMub2Zmc2V0PWF8fHRoaXMuZHYuYnl0ZU9mZnNldCx0aGlzLmVuZD1uP3RoaXMuc3RhcnQrbjp0aGlzLnN0YXJ0K3RoaXMuZHYuYnl0ZUxlbmd0aH1yZXR1cm4gbihlLFt7a2V5OiJidWZmZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmR2LmJ1ZmZlcn19LHtrZXk6InVucmVhZExlbmd0aCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMuZW5kLXRoaXMub2Zmc2V0LDApfX0se2tleToic2l6ZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kLXRoaXMuc3RhcnR9fSx7a2V5OiJyZWFkRmxvYXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PTA7c3dpdGNoKGUpe2Nhc2UgNDp0PXRoaXMuZHYuZ2V0RmxvYXQzMih0aGlzLm9mZnNldCk7YnJlYWs7Y2FzZSA4OnQ9dGhpcy5kdi5nZXRGbG9hdDY0KHRoaXMub2Zmc2V0KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigicmVhZCAiLmNvbmNhdChlLCItYnl0ZSBmbG9hdCBpcyBub3Qgc3VwcG9ydGVkIikpfXJldHVybiB0aGlzLm9mZnNldCs9ZSx0fX0se2tleToiYmFjayIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5vZmZzZXQtPWV9fSx7a2V5OiJza2lwIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm9mZnNldCs9ZX19LHtrZXk6InJlYWRJbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub2Zmc2V0O3N3aXRjaCh0aGlzLm9mZnNldCs9ZSxlKXtjYXNlIDE6cmV0dXJuIHRoaXMuZHYuZ2V0SW50OCh0KTtjYXNlIDI6cmV0dXJuIHRoaXMuZHYuZ2V0SW50MTYodCk7Y2FzZSA0OnJldHVybiB0aGlzLmR2LmdldEludDMyKHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJyZWFkICIuY29uY2F0KGUsIi1ieXRlIGludGVnZXJzIGlzIG5vdCBzdXBwb3J0ZWQiKSl9fX0se2tleToicmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vZmZzZXQ7c3dpdGNoKHRoaXMub2Zmc2V0Kz1lLGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5kdi5nZXRVaW50OCh0KTtjYXNlIDI6cmV0dXJuIHRoaXMuZHYuZ2V0VWludDE2KHQpO2Nhc2UgMzpyZXR1cm4odGhpcy5kdi5nZXRVaW50MTYodCk8PDgpK3RoaXMuZHYuZ2V0VWludDgodCsyKTtjYXNlIDQ6cmV0dXJuIHRoaXMuZHYuZ2V0VWludDMyKHQpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuYmFjayhlLTQpLHRoaXMucmVhZChlLTQpK3RoaXMuZHYuZ2V0VWludDMyKHQpKk1hdGgucG93KDI1NixlLTQpfX19LHtrZXk6IndyaXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMub2Zmc2V0O3N3aXRjaCh0aGlzLm9mZnNldCs9ZSxlKXtjYXNlIDE6cmV0dXJuIHRoaXMuZHYuc2V0VWludDgocix0KTtjYXNlIDI6cmV0dXJuIHRoaXMuZHYuc2V0VWludDE2KHIsdCk7Y2FzZSAzOnJldHVybiB0aGlzLmR2LnNldFVpbnQ4KHIsdD4+PjE2KSx0aGlzLmR2LnNldFVpbnQxNihyKzEsNjU1MzUmdCk7Y2FzZSA0OnJldHVybiB0aGlzLmR2LnNldFVpbnQzMihyLHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJ3cml0ZSAiLmNvbmNhdChlLCItYnl0ZSBpbnRlZ2VycyBpcyBub3Qgc3VwcG9ydGVkIikpfX19LHtrZXk6InJlYWRUb0J1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9dGhpcy5vZmZzZXR8fGU/dGhpcy5kdi5idWZmZXIuc2xpY2UodGhpcy5vZmZzZXQsZT90aGlzLm9mZnNldCtlOnRoaXMuZW5kKTp0aGlzLmR2LmJ1ZmZlcix0aGlzLm9mZnNldCs9dC5ieXRlTGVuZ3RoLHR9fSx7a2V5OiJyZWFkVG9VaW50OCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkodGhpcy5kdi5idWZmZXIsdGhpcy5vZmZzZXQsZXx8dGhpcy51bnJlYWRMZW5ndGgpO3JldHVybiB0aGlzLm9mZnNldCs9dC5ieXRlTGVuZ3RoLHR9fSx7a2V5OiJyZWFkU3RyaW5nIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPSIiO3Q8ZTt0Kyspcis9U3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmR2LmdldFVpbnQ4KHRoaXMub2Zmc2V0KSksdGhpcy5vZmZzZXQrKztyZXR1cm4gcn19XSxbe2tleToiZnJvbVVpbnQ4Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCl9fSx7a2V5OiJjb25jYXRVaW50OHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVaW50OEFycmF5KGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QuYnl0ZUxlbmd0aH0pLDApKSxyPTA7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5zZXQoZSxyKSxyKz1lLmJ5dGVMZW5ndGh9KSksdH19LHtrZXk6ImNvbmNhdFVpbnQ4Iix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKXRbcl09YXJndW1lbnRzW3JdO3JldHVybiB0aGlzLmNvbmNhdFVpbnQ4cyh0KX19XSksZX0oKSxTZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxhKXtyKHRoaXMsZSksdGhpcy5vZmZzZXQ9MCx0aGlzLnZhbD10LHRoaXMuc2l6ZT1hfXJldHVybiBuKGUsW3trZXk6InNraXAiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMub2Zmc2V0Kz1lfX0se2tleToicmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zaXplLXRoaXMub2Zmc2V0LWU7aWYodD49MCl7dmFyIHI9MCxhPTA7aWYodGhpcy5vZmZzZXQrPWUsdGhpcy5zaXplPjMxKXtmb3IoO2E8ZTthKyspcis9TWF0aC5wb3coMixhKTtyZXR1cm4gdGhpcy52YWwvTWF0aC5wb3coMix0KSZyfWZvcig7YTxlO2ErKylyKz0xPDxhO3JldHVybiB0aGlzLnZhbD4+PnQmcn10aHJvdyBuZXcgRXJyb3IoInRoZSBudW1iZXIgb2YgdGhlIHJlYWQgb3BlcmF0aW9uIGV4Y2VlZHMgdGhlIHRvdGFsIGxlbmd0aCBsaW1pdCBvZiBiaXRzIil9fV0sW3trZXk6ImZyb21CeXRlIix2YWx1ZTpmdW5jdGlvbih0LHIpe3JldHVybiBuZXcgZSh0LnJlYWQocikscjw8Myl9fV0pLGV9KCksRGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cih0aGlzLGUpfXJldHVybiBuKGUsbnVsbCxbe2tleToiZmluZEJveCIsdmFsdWU6ZnVuY3Rpb24odCxyKXt2YXIgYT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxuPVtdO2lmKCF0KXJldHVybiBuO2Zvcih2YXIgaT0wLHM9IiIsbz0wO3QubGVuZ3RoPjc7KXtpZihpPXJlKHQpLHM9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHQuc3ViYXJyYXkoNCw4KSksbz04LDE9PT1pPyhpPWFlKHQsOCksbys9OCk6aXx8KGk9dC5sZW5ndGgpLCFyWzBdfHxzPT09clswXSl7dmFyIHU9dC5zdWJhcnJheSgwLGkpO2lmKCEoci5sZW5ndGg8MikpcmV0dXJuIGUuZmluZEJveCh1LnN1YmFycmF5KG8pLHIuc2xpY2UoMSksYStvKTtuLnB1c2goe3N0YXJ0OmEsc2l6ZTppLGhlYWRlclNpemU6byx0eXBlOnMsZGF0YTp1fSl9YSs9aSx0PXQuc3ViYXJyYXkoaSl9cmV0dXJuIG59fSx7a2V5OiJ0ZmhkIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXtlLnRyYWNrSWQ9cmUodCk7dmFyIHI9NCxhPTEmZS5mbGFncyxuPTImZS5mbGFncyxpPTgmZS5mbGFncyxzPTE2JmUuZmxhZ3Msbz0zMiZlLmZsYWdzO2EmJihyKz00LGUuYmFzZURhdGFPZmZzZXQ9cmUodCxyKSxyKz00KSxuJiYoZS5zYW1wbGVEZXNjcmlwdGlvbkluZGV4PXJlKHQscikscis9NCksaSYmKGUuZGVmYXVsdFNhbXBsZUR1cmF0aW9uPXJlKHQscikscis9NCkscyYmKGUuZGVmYXVsdFNhbXBsZVNpemU9cmUodCxyKSxyKz00KSxvJiYoZS5kZWZhdWx0U2FtcGxlRmxhZ3M9cmUodCxyKSl9KSl9fSx7a2V5OiJzaWR4Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXt2YXIgcj0wO2UucmVmZXJlbmNlX0lEPXJlKHQscikscis9NCxlLnRpbWVzY2FsZT1yZSh0LHIpLHIrPTQsMD09PWUudmVyc2lvbj8oZS5lYXJsaWVzdF9wcmVzZW50YXRpb25fdGltZT1yZSh0LHIpLHIrPTQsZS5maXJzdF9vZmZzZXQ9cmUodCxyKSxyKz00KTooZS5lYXJsaWVzdF9wcmVzZW50YXRpb25fdGltZT1hZSh0LHIpLHIrPTgsZS5maXJzdF9vZmZzZXQ9YWUodCxyKSxyKz04KSxyKz0yLGUucmVmZXJlbmNlcz1bXTt2YXIgYT10ZSh0LHIpO3IrPTI7Zm9yKHZhciBuPTA7bjxhO24rKyl7dmFyIGk9e307ZS5yZWZlcmVuY2VzLnB1c2goaSk7dmFyIHM9cmUodCxyKTtyKz00LGkucmVmZXJlbmNlX3R5cGU9cz4+MzEmMSxpLnJlZmVyZW5jZWRfc2l6ZT0yMTQ3NDgzNjQ3JnMsaS5zdWJzZWdtZW50X2R1cmF0aW9uPXJlKHQscikscz1yZSh0LHIrPTQpLHIrPTQsaS5zdGFydHNfd2l0aF9TQVA9cz4+MzEmMSxpLlNBUF90eXBlPXM+PjI4JjcsaS5TQVBfZGVsdGFfdGltZT0yNjg0MzU0NTUmc319KSl9fSx7a2V5OiJtb292Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gRWUodCwhMSwoZnVuY3Rpb24odCxyLGEpe3QubXZoZD1lLm12aGQoZS5maW5kQm94KHIsWyJtdmhkIl0sYSlbMF0pLHQudHJhaz1lLmZpbmRCb3gocixbInRyYWsiXSxhKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnRyYWsodCl9KSksdC5wc3NoPWUucHNzaChlLmZpbmRCb3gocixbInBzc2giXSxhKVswXSl9KSl9fSx7a2V5OiJtdmhkIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXt2YXIgcj0wOzE9PT1lLnZlcnNpb24/KGUudGltZXNjYWxlPXJlKHQsMTYpLGUuZHVyYXRpb249YWUodCwyMCkscis9MjgpOihlLnRpbWVzY2FsZT1yZSh0LDgpLGUuZHVyYXRpb249cmUodCwxMikscis9MTYpLGUubmV4dFRyYWNrSWQ9cmUodCxyKzc2KX0pKX19LHtrZXk6InRyYWsiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0LCExLChmdW5jdGlvbih0LHIsYSl7dC50a2hkPWUudGtoZChlLmZpbmRCb3gocixbInRraGQiXSxhKVswXSksdC5tZGlhPWUubWRpYShlLmZpbmRCb3gocixbIm1kaWEiXSxhKVswXSl9KSl9fSx7a2V5OiJ0a2hkIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXt2YXIgcj14ZS5mcm9tVWludDgodCk7MT09PWUudmVyc2lvbj8oci5yZWFkKDgpLHIucmVhZCg4KSxlLnRyYWNrSWQ9ci5yZWFkKDQpLHIucmVhZCg0KSxlLmR1cmF0aW9uPXIucmVhZCg4KSk6KHIucmVhZCg0KSxyLnJlYWQoNCksZS50cmFja0lkPXIucmVhZCg0KSxyLnJlYWQoNCksZS5kdXJhdGlvbj1yLnJlYWQoNCkpLHIuc2tpcCgxNiksZS5tYXRyaXg9W107Zm9yKHZhciBhPTA7YTwzNjthKyspZS5tYXRyaXgucHVzaChyLnJlYWQoMSkpO3IuYmFjaygzNik7Zm9yKHZhciBuLGk9W10scz0wO3M8MztzKyspaS5wdXNoKG9lKHIucmVhZEludCgyKSxyLnJlYWRJbnQoMikpKSxpLnB1c2gob2Uoci5yZWFkSW50KDIpLHIucmVhZEludCgyKSkpLG49ci5yZWFkSW50KDQpLGkucHVzaChvZShuPj4zMCwxMDczNzQxODIzJm4pKTtlLnJvdGF0aW9uPWZ1bmN0aW9uKGUpe2lmKGUubGVuZ3RoPDUpcmV0dXJuIDA7dmFyIHQ9TWF0aC5oeXBvdChlWzBdLGVbM10pLHI9TWF0aC5oeXBvdChlWzFdLGVbNF0pO3JldHVybiAwPT09dHx8MD09PXI/MDoxODAqTWF0aC5hdGFuMihlWzFdL3IsZVswXS90KS9NYXRoLlBJfShpKSxlLndpZHRoPXIucmVhZCg0KSxlLmhlaWdodD1yLnJlYWQoNCl9KSl9fSx7a2V5OiJtZGlhIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gRWUodCwhMSwoZnVuY3Rpb24odCxyLGEpe3QubWRoZD1lLm1kaGQoZS5maW5kQm94KHIsWyJtZGhkIl0sYSlbMF0pLHQuaGRscj1lLmhkbHIoZS5maW5kQm94KHIsWyJoZGxyIl0sYSlbMF0pLHQubWluZj1lLm1pbmYoZS5maW5kQm94KHIsWyJtaW5mIl0sYSlbMF0pfSkpfX0se2tleToibWRoZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7dmFyIHI9MDsxPT09ZS52ZXJzaW9uPyhlLnRpbWVzY2FsZT1yZSh0LDE2KSxlLmR1cmF0aW9uPWFlKHQsMjApLHIrPTI4KTooZS50aW1lc2NhbGU9cmUodCw4KSxlLmR1cmF0aW9uPXJlKHQsMTIpLHIrPTE2KTt2YXIgYT10ZSh0LHIpO2UubGFuZ3VhZ2U9U3RyaW5nLmZyb21DaGFyQ29kZSg5NisoYT4+MTAmMzEpLDk2KyhhPj41JjMxKSw5NisoMzEmYSkpfSkpfX0se2tleToiaGRsciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7MD09PWUudmVyc2lvbiYmKGUuaGFuZGxlclR5cGU9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHQuc3ViYXJyYXkoNCw4KSkpfSkpfX0se2tleToibWluZiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHQsITEsKGZ1bmN0aW9uKHQscixhKXt0LnZtaGQ9ZS52bWhkKGUuZmluZEJveChyLFsidm1oZCJdLGEpWzBdKSx0LnNtaGQ9ZS5zbWhkKGUuZmluZEJveChyLFsic21oZCJdLGEpWzBdKSx0LnN0Ymw9ZS5zdGJsKGUuZmluZEJveChyLFsic3RibCJdLGEpWzBdKX0pKX19LHtrZXk6InZtaGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBFZShlLCEwLChmdW5jdGlvbihlLHQpe2UuZ3JhcGhpY3Ntb2RlPXRlKHQpLGUub3Bjb2xvcj1bdGUodCwyKSx0ZSh0LDQpLHRlKHQsNildfSkpfX0se2tleToic21oZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7ZS5iYWxhbmNlPXRlKHQpfSkpfX0se2tleToic3RibCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHQsITEsKGZ1bmN0aW9uKHQscixhKXt2YXIgbixpLHM7dC5zdHNkPWUuc3RzZChlLmZpbmRCb3gocixbInN0c2QiXSxhKVswXSksdC5zdHRzPWUuc3R0cyhlLmZpbmRCb3gocixbInN0dHMiXSxhKVswXSksdC5jdHRzPWUuY3R0cyhlLmZpbmRCb3gocixbImN0dHMiXSxhKVswXSksdC5zdHNjPWUuc3RzYyhlLmZpbmRCb3gocixbInN0c2MiXSxhKVswXSksdC5zdHN6PWUuc3RzeihlLmZpbmRCb3gocixbInN0c3oiXSxhKVswXSksdC5zdGNvPWUuc3RjbyhlLmZpbmRCb3gocixbInN0Y28iXSxhKVswXSksdC5zdGNvfHwodC5jbzY0PWUuY282NChlLmZpbmRCb3gocixbImNvNjQiXSxhKVswXSksdC5zdGNvPXQuY282NCk7dmFyIG89bnVsbD09PShuPXQuc3RzZC5lbnRyaWVzWzBdKXx8dm9pZCAwPT09bnx8bnVsbD09PShpPW4uc2luZil8fHZvaWQgMD09PWl8fG51bGw9PT0ocz1pLnNjaGkpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnRlbmMuZGVmYXVsdF9JVl9zaXplO3Quc3Rzcz1lLnN0c3MoZS5maW5kQm94KHIsWyJzdHNzIl0sYSlbMF0pLHQuc2VuYz1lLnNlbmMoZS5maW5kQm94KHIsWyJzZW5jIl0sYSlbMF0sbyl9KSl9fSx7a2V5OiJzZW5jIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ODtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSxyKXt2YXIgYT0wLG49cmUocixhKTthKz00LGUuc2FtcGxlcz1bXTtmb3IodmFyIGk9MDtpPG47aSsrKXtmb3IodmFyIHM9e0luaXRpYWxpemF0aW9uVmVjdG9yOltdfSxvPTA7bzx0O28rKylzLkluaXRpYWxpemF0aW9uVmVjdG9yW29dPXJbYStvXTtpZihhKz10LDImZS5mbGFncyl7cy5zdWJzYW1wbGVzPVtdO3ZhciB1PXRlKHIsYSk7YSs9Mjtmb3IodmFyIGM9MDtjPHU7YysrKXt2YXIgbD17fTtsLkJ5dGVzT2ZDbGVhckRhdGE9dGUocixhKSxhKz0yLGwuQnl0ZXNPZlByb3RlY3RlZERhdGE9cmUocixhKSxhKz00LHMuc3Vic2FtcGxlcy5wdXNoKGwpfX1lLnNhbXBsZXMucHVzaChzKX19KSl9fSx7a2V5OiJwc3NoIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10sYT1bXSxuPTAsaT0wO2k8MTY7aSsrKWEucHVzaChDZSh0W24raV0pKTtpZihuKz0xNixlLnZlcnNpb24+MCl7dmFyIHM9cmUodCxuKTtuKz00O2Zvcih2YXIgbz0wO288KCIiK3MpLmxlbmd0aDtvKyspZm9yKHZhciB1PTA7dTwxNjt1Kyspe3ZhciBjPXRbbl07bis9MSxyLnB1c2goQ2UoYykpfX12YXIgbD1yZSh0LG4pO2UuZGF0YV9zaXplPWwsbis9NCxlLmtpZD1yLGUuc3lzdGVtX2lkPWEsZS5idWZmZXI9dH0pKX19LHtrZXk6InN0c2QiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0LCEwLChmdW5jdGlvbih0LHIsYSl7dC5lbnRyeUNvdW50PXJlKHIpLHQuZW50cmllcz1lLmZpbmRCb3goci5zdWJhcnJheSg0KSxbXSxhKzQpLm1hcCgoZnVuY3Rpb24odCl7c3dpdGNoKHQudHlwZSl7Y2FzZSJhdjAxIjpyZXR1cm4gZS5hdjAxKHQpO2Nhc2UiYXZjMSI6Y2FzZSJhdmMyIjpjYXNlImF2YzMiOmNhc2UiYXZjNCI6cmV0dXJuIGUuYXZjMSh0KTtjYXNlImh2YzEiOmNhc2UiaGV2MSI6cmV0dXJuIGUuaHZjMSh0KTtjYXNlIm1wNGEiOnJldHVybiBlLm1wNGEodCk7Y2FzZSJhbGF3IjpjYXNlInVsYXciOnJldHVybiBlLmFsYXcodCk7Y2FzZSJlbmNhIjpyZXR1cm4gRWUodCwhMSwoZnVuY3Rpb24odCxyLGEpe3QuY2hhbm5lbENvdW50PXRlKHIsMTYpLHQuc2FtcGxlc2l6ZT10ZShyLDE4KSx0LnNhbXBsZVJhdGU9cmUociwyNCkvNjU1MzYscj1yLnN1YmFycmF5KDI4KSx0LnNpbmY9ZS5zaW5mKGUuZmluZEJveChyLFsic2luZiJdLGEpWzBdKSx0LmVzZHM9ZS5lc2RzKGUuZmluZEJveChyLFsiZXNkcyJdLGEpWzBdKX0pKTtjYXNlImVuY3YiOnJldHVybiBFZSh0LCExLChmdW5jdGlvbih0LHIsYSl7dC53aWR0aD10ZShyLDI0KSx0LmhlaWdodD10ZShyLDI2KSx0Lmhvcml6cmVzb2x1dGlvbj1yZShyLDI4KSx0LnZlcnRyZXNvbHV0aW9uPXJlKHIsMzIpLHI9ci5zdWJhcnJheSg3OCksdC5zaW5mPWUuc2luZihlLmZpbmRCb3gocixbInNpbmYiXSxhKVswXSksdC5hdmNDPWUuYXZjQyhlLmZpbmRCb3gocixbImF2Y0MiXSxhKVswXSksdC5odmNDPWUuaHZjQyhlLmZpbmRCb3gocixbImh2Y0MiXSxhKVswXSksdC5wYXNwPWUucGFzcChlLmZpbmRCb3gocixbInBhc3AiXSxhKVswXSl9KSl9fSkpLmZpbHRlcihCb29sZWFuKX0pKX19LHtrZXk6InRlbmMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBFZShlLCExLChmdW5jdGlvbihlLHQpe3ZhciByPTY7ZS5kZWZhdWx0X0lzRW5jcnlwdGVkPXRbcl0scis9MSxlLmRlZmF1bHRfSVZfc2l6ZT10W3JdLHIrPTEsZS5kZWZhdWx0X0tJRD1bXTtmb3IodmFyIGE9MDthPDE2O2ErKyllLmRlZmF1bHRfS0lELnB1c2goQ2UodFtyXSkpLHIrPTF9KSl9fSx7a2V5OiJzY2hpIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gRWUodCwhMSwoZnVuY3Rpb24odCxyLGEpe3QudGVuYz1lLnRlbmMoZS5maW5kQm94KHIsWyJ0ZW5jIl0sYSlbMF0pfSkpfX0se2tleToic2luZiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHQsITEsKGZ1bmN0aW9uKHQscixhKXt0LnNjaGk9ZS5zY2hpKGUuZmluZEJveChyLFsic2NoaSJdLGEpWzBdKSx0LmZybWE9ZS5mcm1hKGUuZmluZEJveChyLFsiZnJtYSJdLGEpWzBdKX0pKX19LHtrZXk6ImZybWEiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBFZShlLCExLChmdW5jdGlvbihlLHQpe2UuZGF0YV9mb3JtYXQ9IiI7Zm9yKHZhciByPTA7cjw0O3IrKyllLmRhdGFfZm9ybWF0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbcl0pfSkpfX0se2tleToiY29sciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITEsKGZ1bmN0aW9uKHQscil7dmFyIGE9eGUuZnJvbVVpbnQ4KHIpO3QuZGF0YT1lLmRhdGEsdC5jb2xvclR5cGU9YS5yZWFkU3RyaW5nKDQpLCJuY2x4Ij09PXQuY29sb3JUeXBlPyh0LmNvbG9yUHJpbWFyaWVzPWEucmVhZCgyKSx0LnRyYW5zZmVyQ2hhcmFjdGVyaXN0aWNzPWEucmVhZCgyKSx0Lm1hdHJpeENvZWZmaWNpZW50cz1hLnJlYWQoMiksdC5mdWxsUmFuZ2VGbGFnPWEucmVhZCgxKT4+Nyk6InJJQ0MiIT09dC5jb2xvclR5cGUmJiJwcm9mIiE9PXQuY29sb3JUeXBlfHwodC5pY2NQcm9maWxlPXIucmVhZFRvVWludDgoKSl9KSl9fSx7a2V5OiJhdjAxIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gRWUodCwhMSwoZnVuY3Rpb24odCxyLGEpe3ZhciBuPVRlKHQsciksaT1yLnN1YmFycmF5KG4pO2ErPW4sdC5hdjFDPWUuYXYxQyhlLmZpbmRCb3goaSxbImF2MUMiXSxhKVswXSksdC5jb2xyPWUuY29scihlLmZpbmRCb3goaSxbImNvbHIiXSxhKVswXSl9KSl9fSx7a2V5OiJhdjFDIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMSwoZnVuY3Rpb24odCxyKXt0LmRhdGE9ZS5kYXRhO3ZhciBhLG49eGUuZnJvbVVpbnQ4KHIpLGk9U2UuZnJvbUJ5dGUobiw0KTt0Lm1hcmtlcj1pLnJlYWQoMSksdC52ZXJzaW9uPWkucmVhZCg3KSx0LnNlcVByb2ZpbGU9aS5yZWFkKDMpLHQuc2VxTGV2ZWxJZHgwPWkucmVhZCg1KSx0LnNlcVRpZXIwPWkucmVhZCgxKSx0LmhpZ2hCaXRkZXB0aD1pLnJlYWQoMSksdC50d2VsdmVCaXQ9aS5yZWFkKDEpLHQubW9ub2Nocm9tZT1pLnJlYWQoMSksdC5jaHJvbWFTdWJzYW1wbGluZ1g9aS5yZWFkKDEpLHQuY2hyb21hU3Vic2FtcGxpbmdZPWkucmVhZCgxKSx0LmNocm9tYVNhbXBsZVBvc2l0aW9uPWkucmVhZCgyKSx0LnJlc2VydmVkPWkucmVhZCgzKSx0LmluaXRpYWxQcmVzZW50YXRpb25EZWxheVByZXNlbnQ9aS5yZWFkKDEpLHQuaW5pdGlhbFByZXNlbnRhdGlvbkRlbGF5UHJlc2VudD90LmluaXRpYWxQcmVzZW50YXRpb25EZWxheU1pbnVzT25lPWkucmVhZCg0KTp0LmluaXRpYWxQcmVzZW50YXRpb25EZWxheU1pbnVzT25lPTAsdC5jb25maWdPQlVzPW4ucmVhZFRvVWludDgoKSwyPT09dC5zZXFMZXZlbElkeDAmJjE9PT10LmhpZ2hCaXRkZXB0aD9hPTE9PT10LnR3ZWx2ZUJpdD8iMTIiOiIxMCI6dC5zZXFQcm9maWxlPD0yJiYoYT0xPT09dC5oaWdoQml0ZGVwdGg/IjEwIjoiMDgiKSx0LmNvZGVjPVsiYXYwMSIsdC5zZXFQcm9maWxlLCh0LnNlcUxldmVsSWR4MDwxMD8iMCIrdC5zZXFMZXZlbElkeDA6dC5zZXFMZXZlbElkeDApKyh0LnNlcVRpZXIwPyJIIjoiTSIpLGFdLmpvaW4oIi4iKX0pKX19LHtrZXk6ImF2YzEiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0LCExLChmdW5jdGlvbih0LHIsYSl7dmFyIG49VGUodCxyKSxpPXIuc3ViYXJyYXkobik7YSs9bix0LmF2Y0M9ZS5hdmNDKGUuZmluZEJveChpLFsiYXZjQyJdLGEpWzBdKSx0LnBhc3A9ZS5wYXNwKGUuZmluZEJveChpLFsicGFzcCJdLGEpWzBdKX0pKX19LHtrZXk6ImF2Y0MiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBFZShlLCExLChmdW5jdGlvbih0LHIpe3QuZGF0YT1lLmRhdGEsdC5jb25maWd1cmF0aW9uVmVyc2lvbj1yWzBdLHQuQVZDUHJvZmlsZUluZGljYXRpb249clsxXSx0LnByb2ZpbGVDb21wYXRpYmlsaXR5PXJbMl0sdC5BVkNMZXZlbEluZGljYXRpb249clszXSx0LmNvZGVjPW5lKFtyWzFdLHJbMl0sclszXV0pLHQubGVuZ3RoU2l6ZU1pbnVzT25lPTMmcls0XSx0LnNwc0xlbmd0aD0zMSZyWzVdLHQuc3BzPVtdO2Zvcih2YXIgYT02LG49MDtuPHQuc3BzTGVuZ3RoO24rKyl7dmFyIGk9dGUocixhKTthKz0yLHQuc3BzLnB1c2goci5zdWJhcnJheShhLGEraSkpLGErPWl9dC5wcHNMZW5ndGg9clthXSxhKz0xLHQucHBzPVtdO2Zvcih2YXIgcz0wO3M8dC5wcHNMZW5ndGg7cysrKXt2YXIgbz10ZShyLGEpO2ErPTIsdC5wcHMucHVzaChyLnN1YmFycmF5KGEsYSs9bykpLGErPW99fSkpfX0se2tleToiaHZjMSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHQsITEsKGZ1bmN0aW9uKHQscixhKXt2YXIgbj1UZSh0LHIpLGk9ci5zdWJhcnJheShuKTthKz1uLHQuaHZjQz1lLmh2Y0MoZS5maW5kQm94KGksWyJodmNDIl0sYSlbMF0pLHQucGFzcD1lLnBhc3AoZS5maW5kQm94KGksWyJwYXNwIl0sYSlbMF0pfSkpfX0se2tleToiaHZjQyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITEsKGZ1bmN0aW9uKHQscil7dC5kYXRhPWUuZGF0YSx0LmNvZGVjPSJoZXYxLjEuNi5MOTMuQjAiLHQuY29uZmlndXJhdGlvblZlcnNpb249clswXTt2YXIgYT1yWzFdO3QuZ2VuZXJhbFByb2ZpbGVTcGFjZT1hPj42LHQuZ2VuZXJhbFRpZXJGbGFnPSgzMiZhKT4+NSx0LmdlbmVyYWxQcm9maWxlSWRjPTMxJmEsdC5nZW5lcmFsUHJvZmlsZUNvbXBhdGliaWxpdHk9cmUociwyKSx0LmdlbmVyYWxDb25zdHJhaW50SW5kaWNhdG9yRmxhZ3M9ci5zdWJhcnJheSg2LDEyKSx0LmdlbmVyYWxMZXZlbElkYz1yWzEyXSx0LmF2Z0ZyYW1lUmF0ZT10ZShyLDE5KSx0Lm51bU9mQXJyYXlzPXJbMjJdLHQudnBzPVtdLHQuc3BzPVtdLHQucHBzPVtdO2Zvcih2YXIgbj0yMyxpPTAscz0wLG89MCx1PTA7dTx0Lm51bU9mQXJyYXlzO3UrKyl7aT02MyZyW25dLHM9dGUocixuKzEpLG4rPTM7Zm9yKHZhciBjLGw9W10sZj0wO2Y8cztmKyspbz10ZShyLG4pLG4rPTIsbC5wdXNoKHIuc3ViYXJyYXkobixuK28pKSxuKz1vO2lmKDMyPT09aSkoYz10LnZwcykucHVzaC5hcHBseShjLGwpO2Vsc2UgaWYoMzM9PT1pKXt2YXIgZDsoZD10LnNwcykucHVzaC5hcHBseShkLGwpfWVsc2UgaWYoMzQ9PT1pKXt2YXIgaDsoaD10LnBwcykucHVzaC5hcHBseShoLGwpfX19KSl9fSx7a2V5OiJwYXNwIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMSwoZnVuY3Rpb24oZSx0KXtlLmhTcGFjaW5nPXJlKHQpLGUudlNwYWNpbmc9cmUodCw0KX0pKX19LHtrZXk6Im1wNGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0LCExLChmdW5jdGlvbih0LHIsYSl7dmFyIG49QmUodCxyKTt0LmVzZHM9ZS5lc2RzKGUuZmluZEJveChyLnN1YmFycmF5KG4pLFsiZXNkcyJdLGErbilbMF0pfSkpfX0se2tleToiZXNkcyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7ZS5jb2RlYz0ibXA0YS4iO2Zvcih2YXIgcj0wLGE9MCxuPTAsaT0wO3QubGVuZ3RoOyl7Zm9yKGk9dFtyPTBdLGE9dFtyKzFdLHIrPTI7MTI4JmE7KW49KDEyNyZhKTw8NyxhPXRbcl0scis9MTtpZihuKz0xMjcmYSwzPT09aSl0PXQuc3ViYXJyYXkociszKTtlbHNle2lmKDQhPT1pKXtpZig1PT09aSl7dmFyIHM9ZS5jb25maWc9dC5zdWJhcnJheShyLHIrbiksbz0oMjQ4JnNbMF0pPj4zO3JldHVybiAzMT09PW8mJnMubGVuZ3RoPj0yJiYobz0zMisoKDcmc1swXSk8PDMpKygoMjI0JnNbMV0pPj41KSksZS5vYmplY3RUeXBlPW8sZS5jb2RlYys9by50b1N0cmluZygxNiksdm9pZCgiLiI9PT1lLmNvZGVjW2UuY29kZWMubGVuZ3RoLTFdJiYoZS5jb2RlYz1lLmNvZGVjLnN1YnN0cmluZygwLGUuY29kZWMubGVuZ3RoLTEpKSl9cmV0dXJuIHZvaWQoIi4iPT09ZS5jb2RlY1tlLmNvZGVjLmxlbmd0aC0xXSYmKGUuY29kZWM9ZS5jb2RlYy5zdWJzdHJpbmcoMCxlLmNvZGVjLmxlbmd0aC0xKSkpfWUuY29kZWMrPSh0W3JdLnRvU3RyaW5nKDE2KSsiLiIpLnBhZFN0YXJ0KDMsIjAiKSx0PXQuc3ViYXJyYXkocisxMyl9fX0pKX19LHtrZXk6ImFsYXciLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBFZShlLCExLChmdW5jdGlvbihlLHQpe0JlKGUsdCl9KSl9fSx7a2V5OiJzdHRzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9cmUodCksYT1bXSxuPTQsaT0wO2k8cjtpKyspYS5wdXNoKHtjb3VudDpyZSh0LG4pLGRlbHRhOnJlKHQsbis0KX0pLG4rPTg7ZS5lbnRyeUNvdW50PXIsZS5lbnRyaWVzPWF9KSl9fSx7a2V5OiJjdHRzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXt2YXIgcj1yZSh0KSxhPVtdLG49NDtpZigxPT09ZS52ZXJzaW9uKWZvcih2YXIgaT0wO2k8cjtpKyspYS5wdXNoKHtjb3VudDpyZSh0LG4pLG9mZnNldDpyZSh0LG4rNCl9KSxuKz04O2Vsc2UgZm9yKHZhciBzPTA7czxyO3MrKylhLnB1c2goe2NvdW50OnJlKHQsbiksb2Zmc2V0Oi0oMSt+cmUodCxuKzQpKX0pLG4rPTg7ZS5lbnRyeUNvdW50PXIsZS5lbnRyaWVzPWF9KSl9fSx7a2V5OiJzdHNjIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9cmUodCksYT1bXSxuPTQsaT0wO2k8cjtpKyspYS5wdXNoKHtmaXJzdENodW5rOnJlKHQsbiksc2FtcGxlc1BlckNodW5rOnJlKHQsbis0KSxzYW1wbGVEZXNjcmlwdGlvbkluZGV4OnJlKHQsbis4KX0pLG4rPTEyO2UuZW50cnlDb3VudD1yLGUuZW50cmllcz1hfSkpfX0se2tleToic3RzeiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7dmFyIHI9cmUodCksYT1yZSh0LDQpLG49W107aWYoIXIpZm9yKHZhciBpPTgscz0wO3M8YTtzKyspbi5wdXNoKHJlKHQsaSkpLGkrPTQ7ZS5zYW1wbGVTaXplPXIsZS5zYW1wbGVDb3VudD1hLGUuZW50cnlTaXplcz1ufSkpfX0se2tleToic3RjbyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXJlKHQpLGE9W10sbj00LGk9MDtpPHI7aSsrKWEucHVzaChyZSh0LG4pKSxuKz00O2UuZW50cnlDb3VudD1yLGUuZW50cmllcz1hfSkpfX0se2tleToiY282NCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXJlKHQpLGE9W10sbj00LGk9MDtpPHI7aSsrKWEucHVzaChhZSh0LG4pKSxuKz04O2UuZW50cnlDb3VudD1yLGUuZW50cmllcz1hfSkpfX0se2tleToic3RzcyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXJlKHQpLGE9W10sbj00LGk9MDtpPHI7aSsrKWEucHVzaChyZSh0LG4pKSxuKz00O2UuZW50cnlDb3VudD1yLGUuZW50cmllcz1hfSkpfX0se2tleToibW9vZiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHQsITEsKGZ1bmN0aW9uKHQscixhKXt0Lm1maGQ9ZS5tZmhkKGUuZmluZEJveChyLFsibWZoZCJdLGEpWzBdKSx0LnRyYWY9ZS5maW5kQm94KHIsWyJ0cmFmIl0sYSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS50cmFmKHQpfSkpfSkpfX0se2tleToibWZoZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7ZS5zZXF1ZW5jZU51bWJlcj1yZSh0KX0pKX19LHtrZXk6InRyYWYiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0LCExLChmdW5jdGlvbih0LHIsYSl7dC50ZmhkPWUudGZoZChlLmZpbmRCb3gocixbInRmaGQiXSxhKVswXSksdC50ZmR0PWUudGZkdChlLmZpbmRCb3gocixbInRmZHQiXSxhKVswXSksdC50cnVuPWUudHJ1bihlLmZpbmRCb3gocixbInRydW4iXSxhKVswXSl9KSl9fSx7a2V5OiJ0cnVuIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnZlcnNpb24sYT1lLmZsYWdzLG49dC5sZW5ndGgsaT1lLnNhbXBsZUNvdW50PXJlKHQpLHM9NDtpZihuPnMmJjEmYSYmKGUuZGF0YU9mZnNldD0tKDErfnJlKHQscykpLHMrPTQpLG4+cyYmNCZhJiYoZS5maXJzdFNhbXBsZUZsYWdzPXJlKHQscykscys9NCksZS5zYW1wbGVzPVtdLG4+cylmb3IodmFyIG8sdT0wO3U8aTt1Kyspbz17fSwyNTYmYSYmKG8uZHVyYXRpb249cmUodCxzKSxzKz00KSw1MTImYSYmKG8uc2l6ZT1yZSh0LHMpLHMrPTQpLDEwMjQmYSYmKG8uZmxhZ3M9cmUodCxzKSxzKz00KSwyMDQ4JmEmJihvLmN0cz1yPy0oMSt+cmUodCxzKzQpKTpyZSh0LHMpLHMrPTQpLGUuc2FtcGxlcy5wdXNoKG8pfSkpfX0se2tleToidGZkdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7MT09PWUudmVyc2lvbj9lLmJhc2VNZWRpYURlY29kZVRpbWU9YWUodCk6ZS5iYXNlTWVkaWFEZWNvZGVUaW1lPXJlKHQpfSkpfX0se2tleToicHJvYmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiEhZS5maW5kQm94KHQsWyJmdHlwIl0pfX0se2tleToicGFyc2VTYW1wbGVGbGFncyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJue2lzTGVhZGluZzooMTImZVswXSk+Pj4yLGRlcGVuZHNPbjozJmVbMF0saXNEZXBlbmRlZE9uOigxOTImZVsxXSk+Pj42LGhhc1JlZHVuZGFuY3k6KDQ4JmVbMV0pPj4+NCxwYWRkaW5nVmFsdWU6KDE0JmVbMV0pPj4+MSxpc05vblN5bmNTYW1wbGU6MSZlWzFdLGRlZ3JhZGF0aW9uUHJpb3JpdHk6ZVsyXTw8OHxlWzNdfX19LHtrZXk6Im1vb3ZUb1RyYWNrIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIGEsbixpPWUudHJhaztpZihpJiZpLmxlbmd0aCl7dmFyIHM9aS5maW5kKChmdW5jdGlvbihlKXt2YXIgdCxyO3JldHVybiJ2aWRlIj09PShudWxsPT09KHQ9ZS5tZGlhKXx8dm9pZCAwPT09dHx8bnVsbD09PShyPXQuaGRscil8fHZvaWQgMD09PXI/dm9pZCAwOnIuaGFuZGxlclR5cGUpfSkpLG89aS5maW5kKChmdW5jdGlvbihlKXt2YXIgdCxyO3JldHVybiJzb3VuIj09PShudWxsPT09KHQ9ZS5tZGlhKXx8dm9pZCAwPT09dHx8bnVsbD09PShyPXQuaGRscil8fHZvaWQgMD09PXI/dm9pZCAwOnIuaGFuZGxlclR5cGUpfSkpO2lmKHMmJnQpe3ZhciB1LGMsbCxmLGQsaCxwLHY9dCx5PW51bGw9PT0odT1zLnRraGQpfHx2b2lkIDA9PT11P3ZvaWQgMDp1LnRyYWNrSWQ7bnVsbCE9eSYmKHYuaWQ9cy50a2hkLnRyYWNrSWQpLHYudGtoZER1cmF0aW9uPXMudGtoZC5kdXJhdGlvbix2Lm12aGREdXJ0aW9uPWUubXZoZC5kdXJhdGlvbix2Lm12aGRUaW1lY2FsZT1lLm12aGQudGltZXNjYWxlLHYudGltZXNjYWxlPXYuZm9ybWF0VGltZXNjYWxlPXMubWRpYS5tZGhkLnRpbWVzY2FsZSx2LmR1cmF0aW9uPXMubWRpYS5tZGhkLmR1cmF0aW9ufHx2Lm12aGREdXJ0aW9uL3YubXZoZFRpbWVjYWxlKnYudGltZXNjYWxlLHYucm90YXRpb249cy50a2hkLnJvdGF0aW9uLHYubWF0cml4PXMudGtoZC5tYXRyaXg7dmFyIG0sZyxrLGIsXyx3LFMsQSxFPXMubWRpYS5taW5mLnN0Ymwuc3RzZC5lbnRyaWVzWzBdO2lmKHYud2lkdGg9RS53aWR0aCx2LmhlaWdodD1FLmhlaWdodCxFLnBhc3AmJih2LnNhclJhdGlvPVtFLnBhc3AuaFNwYWNpbmcsRS5wYXNwLnZTcGFjaW5nXSksRS5hdjFDKXYuY29kZWNUeXBlPXgsdi5jb2RlYz1FLmF2MUMuY29kZWMsdi5hdjFDPUUuYXYxQy5kYXRhLEUuY29sciYmKHYuY29scj1FLmNvbHIuZGF0YSk7ZWxzZSBpZihFLmh2Y0Mpdi5jb2RlY1R5cGU9RCx2LmNvZGVjPUUuaHZjQy5jb2RlYyx2LnZwcz1FLmh2Y0MudnBzLHYuc3BzPUUuaHZjQy5zcHMsdi5wcHM9RS5odmNDLnBwcyx2Lmh2Y0M9RS5odmNDLmRhdGE7ZWxzZXtpZighRS5hdmNDKXRocm93IG5ldyBFcnJvcigidW5rbm93biB2aWRlbyBzdHNkIGVudHJ5Iik7di5jb2RlYz1FLmF2Y0MuY29kZWMsdi5zcHM9RS5hdmNDLnNwcyx2LnBwcz1FLmF2Y0MucHBzfWlmKHYucHJlc2VudD0hMCx2LmV4dD17fSx2LmV4dC5zdHNzPW51bGw9PT0oYz1zLm1kaWEpfHx2b2lkIDA9PT1jfHxudWxsPT09KGw9Yy5taW5mKXx8dm9pZCAwPT09bHx8bnVsbD09PShmPWwuc3RibCl8fHZvaWQgMD09PWY/dm9pZCAwOmYuc3Rzcyx2LmV4dC5jdHRzPW51bGw9PT0oZD1zLm1kaWEpfHx2b2lkIDA9PT1kfHxudWxsPT09KGg9ZC5taW5mKXx8dm9pZCAwPT09aHx8bnVsbD09PShwPWguc3RibCl8fHZvaWQgMD09PXA/dm9pZCAwOnAuY3R0cyxFJiYiZW5jdiI9PT1FLnR5cGUpdi5pc1ZpZGVvRW5jcnlwdGlvbj0hMCxFLmRlZmF1bHRfS0lEPW51bGw9PT0obT1FLnNpbmYpfHx2b2lkIDA9PT1tfHxudWxsPT09KGc9bS5zY2hpKXx8dm9pZCAwPT09Zz92b2lkIDA6Zy50ZW5jLmRlZmF1bHRfS0lELEUuZGVmYXVsdF9Jc0VuY3J5cHRlZD1udWxsPT09KGs9RS5zaW5mKXx8dm9pZCAwPT09a3x8bnVsbD09PShiPWsuc2NoaSl8fHZvaWQgMD09PWI/dm9pZCAwOmIudGVuYy5kZWZhdWx0X0lzRW5jcnlwdGVkLEUuZGVmYXVsdF9JVl9zaXplPW51bGw9PT0oXz1FLnNpbmYpfHx2b2lkIDA9PT1ffHxudWxsPT09KHc9Xy5zY2hpKXx8dm9pZCAwPT09dz92b2lkIDA6dy50ZW5jLmRlZmF1bHRfSVZfc2l6ZSx2LnZpZGVvU2VuYz1zLm1kaWEubWluZi5zdGJsLnNlbmMmJnMubWRpYS5taW5mLnN0Ymwuc2VuYy5zYW1wbGVzLEUuZGF0YV9mb3JtYXQ9bnVsbD09PShTPUUuc2luZil8fHZvaWQgMD09PVN8fG51bGw9PT0oQT1TLmZybWEpfHx2b2lkIDA9PT1BP3ZvaWQgMDpBLmRhdGFfZm9ybWF0LHYudXNlRU1FPWUudXNlRU1FLHYua2lkVmFsdWU9ZS5raWRWYWx1ZSx2LnBzc2g9ZS5wc3NoLHYuZW5jdj1FfWlmKG8mJnIpe3ZhciBVLEMsUCxJLE0seixPLFIsTCxWPXIsRj1udWxsPT09KFU9by50a2hkKXx8dm9pZCAwPT09VT92b2lkIDA6VS50cmFja0lkO251bGwhPUYmJihWLmlkPW8udGtoZC50cmFja0lkKSxWLnRraGREdXJhdGlvbj1vLnRraGQuZHVyYXRpb24sVi5tdmhkRHVydGlvbj1lLm12aGQuZHVyYXRpb24sVi5tdmhkVGltZWNhbGU9ZS5tdmhkLnRpbWVzY2FsZSxWLnRpbWVzY2FsZT1WLmZvcm1hdFRpbWVzY2FsZT1vLm1kaWEubWRoZC50aW1lc2NhbGUsVi5kdXJhdGlvbj1vLm1kaWEubWRoZC5kdXJhdGlvbnx8Vi5tdmhkRHVydGlvbi9WLm12aGRUaW1lY2FsZSpWLnRpbWVzY2FsZTt2YXIgTixqLEcsSCxLLHEsVyxYLFk9by5tZGlhLm1pbmYuc3RibC5zdHNkLmVudHJpZXNbMF07c3dpdGNoKFYuc2FtcGxlU2l6ZT1ZLnNhbXBsZVNpemUsVi5zYW1wbGVSYXRlPVkuc2FtcGxlUmF0ZSxWLmNoYW5uZWxDb3VudD1ZLmNoYW5uZWxDb3VudCxWLnByZXNlbnQ9ITAsWS50eXBlKXtjYXNlImFsYXciOlYuY29kZWNUeXBlPVYuY29kZWM9VCxWLnNhbXBsZVJhdGU9OGUzO2JyZWFrO2Nhc2UidWxhdyI6Vi5jb2RlY1R5cGU9Vi5jb2RlYz1CLFYuc2FtcGxlUmF0ZT04ZTM7YnJlYWs7ZGVmYXVsdDpWLnNhbXBsZUR1cmF0aW9uPXVlLmdldEZyYW1lRHVyYXRpb24oVi5zYW1wbGVSYXRlLFYudGltZXNjYWxlKSxWLnNhbXBsZVJhdGVJbmRleD11ZS5nZXRSYXRlSW5kZXhCeVJhdGUoVi5zYW1wbGVSYXRlKSxWLm9iamVjdFR5cGU9KG51bGw9PT0oYT1ZLmVzZHMpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLm9iamVjdFR5cGUpfHwyLFkuZXNkcyYmKFYuY29uZmlnPUFycmF5LmZyb20oWS5lc2RzLmNvbmZpZykpLFYuY29kZWM9KG51bGw9PT0obj1ZLmVzZHMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmNvZGVjKXx8Im1wNGEuNDAuMiJ9aWYoVi5zYW1wbGVEdXJhdGlvbj11ZS5nZXRGcmFtZUR1cmF0aW9uKFYuc2FtcGxlUmF0ZSxWLnRpbWVzY2FsZSksVi5vYmplY3RUeXBlPShudWxsPT09KEM9WS5lc2RzKXx8dm9pZCAwPT09Qz92b2lkIDA6Qy5vYmplY3RUeXBlKXx8MixZLmVzZHMmJihZLmVzZHMuY29uZmlnP1YuY29uZmlnPUFycmF5LmZyb20oWS5lc2RzLmNvbmZpZyk6Y29uc29sZS53YXJuKCJlc2RzIGNvbmZpZyBpcyBudWxsIikpLFYuY29kZWM9KG51bGw9PT0oUD1ZLmVzZHMpfHx2b2lkIDA9PT1QP3ZvaWQgMDpQLmNvZGVjKXx8Im1wNGEuNDAuMiIsVi5zYW1wbGVSYXRlSW5kZXg9dWUuZ2V0UmF0ZUluZGV4QnlSYXRlKFYuc2FtcGxlUmF0ZSksVi5leHQ9e30sVi5leHQuc3Rzcz1udWxsPT09KEk9by5tZGlhKXx8dm9pZCAwPT09SXx8bnVsbD09PShNPUkubWluZil8fHZvaWQgMD09PU18fG51bGw9PT0oej1NLnN0YmwpfHx2b2lkIDA9PT16P3ZvaWQgMDp6LnN0c3MsVi5leHQuY3R0cz1udWxsPT09KE89by5tZGlhKXx8dm9pZCAwPT09T3x8bnVsbD09PShSPU8ubWluZil8fHZvaWQgMD09PVJ8fG51bGw9PT0oTD1SLnN0YmwpfHx2b2lkIDA9PT1MP3ZvaWQgMDpMLmN0dHMsVi5wcmVzZW50PSEwLFkmJiJlbmNhIj09PVkudHlwZSlWLmlzQXVkaW9FbmNyeXB0aW9uPSEwLFkuZGF0YV9mb3JtYXQ9bnVsbD09PShOPVkuc2luZil8fHZvaWQgMD09PU58fG51bGw9PT0oaj1OLmZybWEpfHx2b2lkIDA9PT1qP3ZvaWQgMDpqLmRhdGFfZm9ybWF0LFkuZGVmYXVsdF9LSUQ9bnVsbD09PShHPVkuc2luZil8fHZvaWQgMD09PUd8fG51bGw9PT0oSD1HLnNjaGkpfHx2b2lkIDA9PT1IP3ZvaWQgMDpILnRlbmMuZGVmYXVsdF9LSUQsWS5kZWZhdWx0X0lzRW5jcnlwdGVkPW51bGw9PT0oSz1ZLnNpbmYpfHx2b2lkIDA9PT1LfHxudWxsPT09KHE9Sy5zY2hpKXx8dm9pZCAwPT09cT92b2lkIDA6cS50ZW5jLmRlZmF1bHRfSXNFbmNyeXB0ZWQsWS5kZWZhdWx0X0lWX3NpemU9bnVsbD09PShXPVkuc2luZil8fHZvaWQgMD09PVd8fG51bGw9PT0oWD1XLnNjaGkpfHx2b2lkIDA9PT1YP3ZvaWQgMDpYLnRlbmMuZGVmYXVsdF9JVl9zaXplLFYuYXVkaW9TZW5jPW8ubWRpYS5taW5mLnN0Ymwuc2VuYyYmby5tZGlhLm1pbmYuc3RibC5zZW5jLnNhbXBsZXMsVi51c2VFTUU9ZS51c2VFTUUsVi5raWRWYWx1ZT1lLmtpZFZhbHVlLFYuZW5jYT1ZfWlmKHImJihyLmlzVmlkZW9FbmNyeXB0aW9uPSEhdCYmdC5pc1ZpZGVvRW5jcnlwdGlvbiksdCYmKHQuaXNBdWRpb0VuY3J5cHRpb249ISFyJiZyLmlzQXVkaW9FbmNyeXB0aW9uKSxudWxsIT10JiZ0LmVuY3Z8fG51bGwhPXImJnIuZW5jYSl7dmFyIFosUSxKPW51bGw9PXR8fG51bGw9PT0oWj10LmVuY3YpfHx2b2lkIDA9PT1aP3ZvaWQgMDpaLmRlZmF1bHRfS0lELCQ9bnVsbD09cnx8bnVsbD09PShRPXIuZW5jYSl8fHZvaWQgMD09PVE/dm9pZCAwOlEuZGVmYXVsdF9LSUQsZWU9Snx8JD8oSnx8JCkuam9pbigiIik6bnVsbDt0JiYodC5raWQ9ZWUpLHImJihyLmtpZD1lZSl9cmV0dXJuIHQmJih0LmZsYWdzPTM4NDEpLHImJihyLmZsYWdzPTE3OTMpLHt2aWRlb1RyYWNrOnQsYXVkaW9UcmFjazpyfX19fSx7a2V5OiJldmFsdWF0ZURlZmF1bHREdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBhLG49bnVsbD09dHx8bnVsbD09PShhPXQuc2FtcGxlcyl8fHZvaWQgMD09PWE/dm9pZCAwOmEubGVuZ3RoO3JldHVybiBuPzEwMjQqbi90LnRpbWVzY2FsZSplLnRpbWVzY2FsZS9yOjEwMjR9fSx7a2V5OiJtb29mVG9TYW1wbGVzIix2YWx1ZTpmdW5jdGlvbih0LHIsYSl7dmFyIG49e307cmV0dXJuIHQubWZoZCYmKHImJihyLnNlcXVlbmNlTnVtYmVyPXQubWZoZC5zZXF1ZW5jZU51bWJlciksYSYmKGEuc2VxdWVuY2VOdW1iZXI9dC5tZmhkLnNlcXVlbmNlTnVtYmVyKSksdC50cmFmLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBpPXQudGZoZCxzPXQudGZkdCxvPXQudHJ1bjtpZihpJiZvKXtzJiYociYmci5pZD09PWkudHJhY2tJZCYmKHIuYmFzZU1lZGlhRGVjb2RlVGltZT1zLmJhc2VNZWRpYURlY29kZVRpbWUpLGEmJmEuaWQ9PT1pLnRyYWNrSWQmJihhLmJhc2VNZWRpYURlY29kZVRpbWU9cy5iYXNlTWVkaWFEZWNvZGVUaW1lKSk7dmFyIHU9aS5kZWZhdWx0U2FtcGxlU2l6ZXx8MCxjPWkuZGVmYXVsdFNhbXBsZUR1cmF0aW9ufHxlLmV2YWx1YXRlRGVmYXVsdER1cmF0aW9uKHIsYSxvLnNhbXBsZXMubGVuZ3RofHxvLnNhbXBsZUNvdW50KSxsPW8uZGF0YU9mZnNldHx8MCxmPTAsZD0tMTtpZighby5zYW1wbGVzLmxlbmd0aCYmby5zYW1wbGVDb3VudCl7bltpLnRyYWNrSWRdPVtdO2Zvcih2YXIgaD0wO2g8by5zYW1wbGVDb3VudDtoKyspbltpLnRyYWNrSWRdLnB1c2goe29mZnNldDpsLGR0czpmLGR1cmF0aW9uOmMsc2l6ZTp1fSksZis9YyxsKz11fWVsc2UgbltpLnRyYWNrSWRdPW8uc2FtcGxlcy5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuKGU9e29mZnNldDpsLGR0czpmLHB0czpmKyhlLmN0c3x8MCksZHVyYXRpb246ZS5kdXJhdGlvbnx8YyxzaXplOmUuc2l6ZXx8dSxnb3BJZDpkLGtleWZyYW1lOjA9PT10fHxudWxsIT09ZS5mbGFncyYmdm9pZCAwIT09ZS5mbGFncyYmKDY1NTM2JmUuZmxhZ3MpPj4+MCE9NjU1MzZ9KS5rZXlmcmFtZSYmKGQrKyxlLmdvcElkPWQpLGYrPWUuZHVyYXRpb24sbCs9ZS5zaXplLGV9KSl9fSkpLG59fSx7a2V5OiJtb292VG9TYW1wbGVzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRyYWs7aWYodCYmdC5sZW5ndGgpe3ZhciByPXQuZmluZCgoZnVuY3Rpb24oZSl7dmFyIHQscjtyZXR1cm4idmlkZSI9PT0obnVsbD09PSh0PWUubWRpYSl8fHZvaWQgMD09PXR8fG51bGw9PT0ocj10LmhkbHIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmhhbmRsZXJUeXBlKX0pKSxhPXQuZmluZCgoZnVuY3Rpb24oZSl7dmFyIHQscjtyZXR1cm4ic291biI9PT0obnVsbD09PSh0PWUubWRpYSl8fHZvaWQgMD09PXR8fG51bGw9PT0ocj10LmhkbHIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmhhbmRsZXJUeXBlKX0pKTtpZihyfHxhKXt2YXIgbixpO2lmKHIpe3ZhciBzLG8sdT1udWxsPT09KHM9ci5tZGlhKXx8dm9pZCAwPT09c3x8bnVsbD09PShvPXMubWluZil8fHZvaWQgMD09PW8/dm9pZCAwOm8uc3RibDtpZighdSlyZXR1cm47dmFyIGM9dS5zdHRzLGw9dS5zdHNjLGY9dS5zdHN6LGQ9dS5zdGNvLGg9dS5zdHNzLHA9dS5jdHRzO2lmKCEoYyYmbCYmZiYmZCYmaCkpcmV0dXJuO249QWUoYyxsLGYsZCxwLGgpfWlmKGEpe3ZhciB2LHksbSxnPW51bGw9PT0odj1hLm1kaWEpfHx2b2lkIDA9PT12fHxudWxsPT09KHk9di5taW5mKXx8dm9pZCAwPT09eT92b2lkIDA6eS5zdGJsO2lmKCFnKXJldHVybjt2YXIgaz1udWxsPT09KG09YS5tZGlhLm1kaGQpfHx2b2lkIDA9PT1tP3ZvaWQgMDptLnRpbWVzY2FsZSxiPWcuc3R0cyxfPWcuc3RzYyx3PWcuc3Rzeix4PWcuc3RjbztpZighKGsmJmImJl8mJncmJngpKXJldHVybjtpPUFlKGIsXyx3LHgpfXJldHVybnt2aWRlb1NhbXBsZXM6bixhdWRpb1NhbXBsZXM6aX19fX19XSksZX0oKTtmdW5jdGlvbiBBZShlLHQscixhLG4saSl7dmFyIHMsbyx1LGM9W10sbD1udWxsPT1uP3ZvaWQgMDpuLmVudHJpZXMsZj10LmVudHJpZXMsZD1hLmVudHJpZXMsaD1yLmVudHJ5U2l6ZXMscD1udWxsPT1pP3ZvaWQgMDppLmVudHJpZXM7cCYmKHM9e30scC5mb3JFYWNoKChmdW5jdGlvbihlKXtzW2UtMV09ITB9KSkpLGwmJihvPVtdLGwuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuY291bnQscj1lLm9mZnNldCxhPTA7YTx0O2ErKylvLnB1c2gocil9KSkpO3ZhciB2PS0xLHk9MCxtPTAsZz0wLGs9MCxiPTAsXz1mWzBdLnNhbXBsZXNQZXJDaHVuayx3PWZbMV0/ZlsxXS5maXJzdENodW5rLTE6MS8wO3JldHVybiBlLmVudHJpZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuY291bnQsYT1lLmRlbHRhLG49MDtuPHQ7bisrKXU9e2R0czp5LGR1cmF0aW9uOmEsc2l6ZTpoW21dfHxyLnNhbXBsZVNpemUsb2Zmc2V0OmRbZ10rYixpbmRleDptfSxwJiYodS5rZXlmcmFtZT1zW21dLHUua2V5ZnJhbWUmJnYrKyx1LmdvcElkPXYpLG8mJm08by5sZW5ndGgmJih1LnB0cz11LmR0cytvW21dKSxjLnB1c2godSkseSs9YSwrK208Xz9iKz11LnNpemU6KGcrKyxiPTAsZz49dyYmKGsrKyx3PWZbaysxXT9mW2srMV0uZmlyc3RDaHVuay0xOjEvMCksXys9ZltrXS5zYW1wbGVzUGVyQ2h1bmspfSkpLGN9ZnVuY3Rpb24gVGUoZSx0KXtyZXR1cm4gZS5kYXRhUmVmZXJlbmNlSW5kZXg9dGUodCw2KSxlLndpZHRoPXRlKHQsMjQpLGUuaGVpZ2h0PXRlKHQsMjYpLGUuaG9yaXpyZXNvbHV0aW9uPXJlKHQsMjgpLGUudmVydHJlc29sdXRpb249cmUodCwzMiksZS5mcmFtZUNvdW50PXRlKHQsNDApLGUuZGVwdGg9dGUodCw3NCksNzh9ZnVuY3Rpb24gQmUoZSx0KXtyZXR1cm4gZS5kYXRhUmVmZXJlbmNlSW5kZXg9dGUodCw2KSxlLmNoYW5uZWxDb3VudD10ZSh0LDE2KSxlLnNhbXBsZVNpemU9dGUodCwxOCksZS5zYW1wbGVSYXRlPXJlKHQsMjQpLzY1NTM2LDI4fWZ1bmN0aW9uIEVlKGUsdCxyKXtpZihlKXtpZihlLnNpemUhPT1lLmRhdGEubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiYm94ICIuY29uY2F0KGUudHlwZSwiIHNpemUgIT09IGRhdGEubGVuZ3RoIikpO3ZhciBhPXtzdGFydDplLnN0YXJ0LHNpemU6ZS5zaXplLGhlYWRlclNpemU6ZS5oZWFkZXJTaXplLHR5cGU6ZS50eXBlfTtyZXR1cm4gdCYmKGEudmVyc2lvbj1lLmRhdGFbZS5oZWFkZXJTaXplXSxhLmZsYWdzPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybihlW3RdPDwxNikrKGVbdCsxXTw8OCkrKGVbdCsyXXx8MCl9KGUuZGF0YSxlLmhlYWRlclNpemUrMSksYS5oZWFkZXJTaXplKz00KSxyKGEsZS5kYXRhLnN1YmFycmF5KGEuaGVhZGVyU2l6ZSksYS5zdGFydCthLmhlYWRlclNpemUpLGF9fXZhciBVZT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBhPVN0cmluZyhyKSxuPXQ+PjAsaT1NYXRoLmNlaWwobi9hLmxlbmd0aCkscz1bXSxvPVN0cmluZyhlKTtpLS07KXMucHVzaChhKTtyZXR1cm4gcy5qb2luKCIiKS5zdWJzdHJpbmcoMCxuLW8ubGVuZ3RoKStvfSxDZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkodCksYT0wO2E8dDthKyspclthXT1hcmd1bWVudHNbYV07cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5wdXNoKFVlKE51bWJlcih0KS50b1N0cmluZygxNiksMiwwKSl9KSksZVswXX07ZnVuY3Rpb24gUGUoZSl7Zm9yKHZhciB0PTAscj1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KHI+MT9yLTE6MCksbj0xO248cjtuKyspYVtuLTFdPWFyZ3VtZW50c1tuXTthLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QrPWUubGVuZ3RofSkpO3ZhciBpPW5ldyBlKHQpLHM9MDtyZXR1cm4gYS5mb3JFYWNoKChmdW5jdGlvbihlKXtpLnNldChlLHMpLHMrPWUubGVuZ3RofSkpLGl9dmFyIEllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3IodGhpcyxlKSx0aGlzLmJ1ZmZlcj1uZXcgVWludDhBcnJheSgwKX1yZXR1cm4gbihlLFt7a2V5OiJ3cml0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkodCksYT0wO2E8dDthKyspclthXT1hcmd1bWVudHNbYV07ci5mb3JFYWNoKChmdW5jdGlvbih0KXt0P2UuYnVmZmVyPVBlKFVpbnQ4QXJyYXksZS5idWZmZXIsdCk6d2luZG93LmNvbnNvbGUud2Fybih0KX0pKX19XSxbe2tleToid3JpdGVVaW50MTYiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVWludDhBcnJheShbZT4+OCYyNTUsMjU1JmVdKX19LHtrZXk6IndyaXRlVWludDMyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW2U+PjI0LGU+PjE2JjI1NSxlPj44JjI1NSwyNTUmZV0pfX1dKSxlfSgpLE1lPU1hdGgucG93KDIsMzIpLTEsemU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cih0aGlzLGUpfXJldHVybiBuKGUsbnVsbCxbe2tleToiYm94Iix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheSh0PjE/dC0xOjApLGE9MTthPHQ7YSsrKXJbYS0xXT1hcmd1bWVudHNbYV07dmFyIG49OCsocj1yLmZpbHRlcihCb29sZWFuKSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QuYnl0ZUxlbmd0aH0pLDApLGk9bmV3IFVpbnQ4QXJyYXkobik7aVswXT1uPj4yNCYyNTUsaVsxXT1uPj4xNiYyNTUsaVsyXT1uPj44JjI1NSxpWzNdPTI1NSZuLGkuc2V0KGUsNCk7dmFyIHM9ODtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbihlKXtpLnNldChlLHMpLHMrPWUuYnl0ZUxlbmd0aH0pKSxpfX0se2tleToiZnR5cCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PWImJmUuY29kZWNUeXBlPT09RH0pKT9lLkZUWVBIRVYxOmUuRlRZUEFWQzF9fSx7a2V5OiJpbml0U2VnbWVudCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuICQoZS5mdHlwKHQpLGUubW9vdih0KSl9fSx7a2V5OiJwc3NoIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj1uZXcgVWludDhBcnJheShbMSwwLDAsMF0uY29uY2F0KFsxNiwxMTksMjM5LDIzNiwxOTIsMTc4LDc3LDIsMTcyLDIyNyw2MCwzMCw4MiwyMjYsMjUxLDc1XSxbMCwwLDAsMV0sc2UodC5raWQpLFswLDAsMCwwXSkpO3JldHVybiBlLmJveChlLnR5cGVzLnBzc2gscil9fSx7a2V5OiJtb292Iix2YWx1ZTpmdW5jdGlvbih0KXtpZih0WzBdLnVzZUVNRSYmKHRbMF0uZW5jdnx8dFswXS5lbmNhKSl7dFswXS5wc3NofHwodFswXS5wc3NoPXtraWQ6dFswXS5raWR9KTt2YXIgcj10aGlzLnBzc2godFswXS5wc3NoKTtyZXR1cm4gZS5ib3guYXBwbHkoZSxbZS50eXBlcy5tb292LGUubXZoZCh0WzBdLm12aGREdXJ0aW9ufHx0WzBdLmR1cmF0aW9uLHRbMF0ubXZoZFRpbWVjYWxlfHx0WzBdLnRpbWVzY2FsZSksZS5tdmV4KHQpXS5jb25jYXQoeSh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUudHJhayh0KX0pKSksW3JdKSl9cmV0dXJuIGUuYm94LmFwcGx5KGUsW2UudHlwZXMubW9vdixlLm12aGQodFswXS5tdmhkRHVydGlvbnx8dFswXS5kdXJhdGlvbix0WzBdLm12aGRUaW1lY2FsZXx8dFswXS50aW1lc2NhbGUpXS5jb25jYXQoeSh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUudHJhayh0KX0pKSksW2UubXZleCh0KV0pKX19LHtrZXk6Im12aGQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo5ZTQsYT1lLmJveChlLnR5cGVzLm12aGQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLHI+PjI0JjI1NSxyPj4xNiYyNTUscj4+OCYyNTUsMjU1JnIsdD4+MjQmMjU1LHQ+PjE2JjI1NSx0Pj44JjI1NSwyNTUmdCwwLDEsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCw2NCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyNTUsMjU1LDI1NSwyNTVdKSk7cmV0dXJuIGF9fSx7a2V5OiJ0cmFrIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy50cmFrLGUudGtoZCh0LmlkLHQudGtoZER1cmF0aW9ufHwwLHQud2lkdGgsdC5oZWlnaHQpLGUubWRpYSh0KSl9fSx7a2V5OiJ0a2hkIix2YWx1ZTpmdW5jdGlvbih0LHIpe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjAsaT1lLmJveChlLnR5cGVzLnRraGQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDcsMCwwLDAsMCwwLDAsMCwwLHQ+PjI0JjI1NSx0Pj4xNiYyNTUsdD4+OCYyNTUsMjU1JnQsMCwwLDAsMCxyPj4yNCYyNTUscj4+MTYmMjU1LHI+PjgmMjU1LDI1NSZyLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDY0LDAsMCwwLGE+PjgmMjU1LDI1NSZhLDAsMCxuPj44JjI1NSwyNTUmbiwwLDBdKSk7cmV0dXJuIGl9fSx7a2V5OiJtZGlhIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy5tZGlhLGUubWRoZCh0LmR1cmF0aW9uLHQudGltZXNjYWxlKSxlLmhkbHIodC50eXBlKSxlLm1pbmYodCkpfX0se2tleToibWRoZCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjllNCxhPWUuYm94KGUudHlwZXMubWRoZCxuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAscj4+MjQmMjU1LHI+PjE2JjI1NSxyPj44JjI1NSwyNTUmcix0Pj4yNCYyNTUsdD4+MTYmMjU1LHQ+PjgmMjU1LDI1NSZ0LDg1LDE5NiwwLDBdKSk7cmV0dXJuIGF9fSx7a2V5OiJoZGxyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy5oZGxyLGUuSERMUl9UWVBFU1t0XSl9fSx7a2V5OiJtaW5mIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy5taW5mLHQudHlwZT09PWI/ZS5WTUhEOmUuU01IRCxlLkRJTkYsZS5zdGJsKHQpKX19LHtrZXk6InN0YmwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPVtdO3JldHVybiB0JiZ0LmV4dCYmdC5leHQuc3RzcyYmci5wdXNoKGUuc3Rzcyh0LmV4dC5zdHNzLmVudHJpZXMpKSxlLmJveChlLnR5cGVzLnN0YmwsZS5zdHNkKHQpLGUuU1RUUyxyWzBdLGUuU1RTQyxlLlNUU1osZS5TVENPKX19LHtrZXk6InN0c2QiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByO3JldHVybiByPSJhdWRpbyI9PT10LnR5cGU/dC51c2VFTUUmJnQuZW5jYT9lLmVuY2EodCk6dC5jb2RlY1R5cGU9PT1FP2Uub3B1cyh0KTplLm1wNGEodCk6dC51c2VFTUUmJnQuZW5jdj9lLmVuY3YodCk6dC5hdjFDP2UuYXYwMSh0KTplLmF2YzFoZXYxKHQpLGUuYm94KGUudHlwZXMuc3RzZCxuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxXSkscil9fSx7a2V5OiJlbmNhIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj10LmVuY2EuY2hhbm5lbENvdW50LGE9dC5lbmNhLnNhbXBsZVJhdGUsbj1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLHIsMCwxNiwwLDAsMCwwLGE+PjgmMjU1LDI1NSZhLDAsMF0pLGk9ZS5lc2RzKHQuY29uZmlnKSxzPWUuc2luZih0LmVuY2EpO3JldHVybiBlLmJveChlLnR5cGVzLmVuY2EsbixpLHMpfX0se2tleToiZW5jdiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHIsYSxuPXQuc3BzLmxlbmd0aD4wP3Quc3BzWzBdOltdLGk9dC5wcHMubGVuZ3RoPjA/dC5wcHNbMF06W10scz10LndpZHRoLG89dC5oZWlnaHQsdT10LnNhclJhdGlvWzBdLGM9dC5zYXJSYXRpb1sxXSxsPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxzPj44JjI1NSwyNTUmcyxvPj44JjI1NSwyNTUmbywwLDcyLDAsMCwwLDcyLDAsMCwwLDAsMCwwLDAsMSwxOCwxMDAsOTcsMTA1LDEwOCwxMjEsMTA5LDExMSwxMTYsMTA1LDExMSwxMTAsNDcsMTA0LDEwOCwxMTUsNDYsMTA2LDExNSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMjQsMTcsMTddKSxmPW5ldyBVaW50OEFycmF5KChyPShhPVsxLG5bMV0sblsyXSxuWzNdLDI1NSwyMjUsbi5sZW5ndGg+Pj44JjI1NSwyNTUmbi5sZW5ndGhdKS5jb25jYXQuYXBwbHkoYSx5KG4pKS5jb25jYXQoWzEsaS5sZW5ndGg+Pj44JjI1NSwyNTUmaS5sZW5ndGhdKSkuY29uY2F0LmFwcGx5KHIseShpKSkpLGQ9bmV3IFVpbnQ4QXJyYXkoWzAsMCw4OCw1NywwLDE1LDIwMCwxOTIsMCw0LDg2LDcyXSksaD1lLnNpbmYodC5lbmN2KSxwPW5ldyBVaW50OEFycmF5KFt1Pj4yNCx1Pj4xNiYyNTUsdT4+OCYyNTUsMjU1JnUsYz4+MjQsYz4+MTYmMjU1LGM+PjgmMjU1LDI1NSZjXSk7cmV0dXJuIGUuYm94KGUudHlwZXMuZW5jdixsLGUuYm94KGUudHlwZXMuYXZjQyxmKSxlLmJveChlLnR5cGVzLmJ0cnQsZCksaCxlLmJveChlLnR5cGVzLnBhc3AscCkpfX0se2tleToic2NoaSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoW10pLGE9ZS50ZW5jKHQpO3JldHVybiBlLmJveChlLnR5cGVzLnNjaGkscixhKX19LHtrZXk6InRlbmMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwyNTUmdC5kZWZhdWx0X0lzRW5jcnlwdGVkLDI1NSZ0LmRlZmF1bHRfSVZfc2l6ZV0uY29uY2F0KHNlKHQuZGVmYXVsdF9LSUQpKSk7cmV0dXJuIGUuYm94KGUudHlwZXMudGVuYyxyKX19LHtrZXk6InNpbmYiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPW5ldyBVaW50OEFycmF5KFtdKSxhPW5ldyBVaW50OEFycmF5KFt0LmRhdGFfZm9ybWF0LmNoYXJDb2RlQXQoMCksdC5kYXRhX2Zvcm1hdC5jaGFyQ29kZUF0KDEpLHQuZGF0YV9mb3JtYXQuY2hhckNvZGVBdCgyKSx0LmRhdGFfZm9ybWF0LmNoYXJDb2RlQXQoMyldKSxuPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDk5LDEwMSwxMTAsOTksMCwxLDAsMF0pLGk9ZS5zY2hpKHQpO3JldHVybiBlLmJveChlLnR5cGVzLnNpbmYscixlLmJveChlLnR5cGVzLmZybWEsYSksZS5ib3goZS50eXBlcy5zY2htLG4pLGkpfX0se2tleToiYXYwMSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGUuYm94KGUudHlwZXMuYXYwMSxuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsdC53aWR0aD4+OCYyNTUsMjU1JnQud2lkdGgsdC5oZWlnaHQ+PjgmMjU1LDI1NSZ0LmhlaWdodCwwLDcyLDAsMCwwLDcyLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyNCwxNywxN10pLHQuYXYxQyx0LmNvbHIpfX0se2tleToiYXZjMWhldjEiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPXQuY29kZWNUeXBlPT09RCxhPXI/ZS50eXBlcy5odmMxOmUudHlwZXMuYXZjMSxuPXI/ZS5odmNDKHQpOmUuYXZjQyh0KSxpPVtuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsdC53aWR0aD4+OCYyNTUsMjU1JnQud2lkdGgsdC5oZWlnaHQ+PjgmMjU1LDI1NSZ0LmhlaWdodCwwLDcyLDAsMCwwLDcyLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyNCwxNywxN10pLG5dO3JldHVybiByP2kucHVzaChlLmJveChlLnR5cGVzLmZpZWwsbmV3IFVpbnQ4QXJyYXkoWzEsMF0pKSk6dC5zYXJSYXRpbyYmdC5zYXJSYXRpby5sZW5ndGg+MSYmaS5wdXNoKGUucGFzcCh0LnNhclJhdGlvKSksZS5ib3guYXBwbHkoZSxbYV0uY29uY2F0KGkpKX19LHtrZXk6ImF2Y0MiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByLGEsbixpPVtdLHM9W107cmV0dXJuIHQuc3BzLmZvckVhY2goKGZ1bmN0aW9uKGUpe249ZS5ieXRlTGVuZ3RoLGkucHVzaChuPj4+OCYyNTUpLGkucHVzaCgyNTUmbiksaS5wdXNoLmFwcGx5KGkseShlKSl9KSksdC5wcHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bj1lLmJ5dGVMZW5ndGgscy5wdXNoKG4+Pj44JjI1NSkscy5wdXNoKDI1NSZuKSxzLnB1c2guYXBwbHkocyx5KGUpKX0pKSxlLmJveChlLnR5cGVzLmF2Y0MsbmV3IFVpbnQ4QXJyYXkoKHI9KGE9WzEsaVszXSxpWzRdLGlbNV0sMjU1LDIyNHx0LnNwcy5sZW5ndGhdKS5jb25jYXQuYXBwbHkoYSxpKS5jb25jYXQoW3QucHBzLmxlbmd0aF0pKS5jb25jYXQuYXBwbHkocixzKSkpfX0se2tleToiaHZjQyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9dC5odmNDO2lmKHIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8ciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpcmV0dXJuIHI7dmFyIGEsbj10LnZwcyxpPXQuc3BzLHM9dC5wcHM7aWYocil7dmFyIG89ci5nZW5lcmFsUHJvZmlsZUNvbXBhdGliaWxpdHlGbGFncyx1PXIuZ2VuZXJhbENvbnN0cmFpbnRJbmRpY2F0b3JGbGFncyxjPShuLmxlbmd0aCYmMSkrKGkubGVuZ3RoJiYxKSsocy5sZW5ndGgmJjEpO2E9WzEsci5nZW5lcmFsUHJvZmlsZVNwYWNlPDw2fHIuZ2VuZXJhbFRpZXJGbGFnPDw1fHIuZ2VuZXJhbFByb2ZpbGVJZGMsbz4+PjI0LG8+Pj4xNixvPj4+OCxvLHVbMF0sdVsxXSx1WzJdLHVbM10sdVs0XSx1WzVdLHIuZ2VuZXJhbExldmVsSWRjLDI0MCwwLDI1MiwyNTJ8ci5jaHJvbWFGb3JtYXRJZGMsMjQ4fHIuYml0RGVwdGhMdW1hTWludXM4LDI0OHxyLmJpdERlcHRoQ2hyb21hTWludXM4LDAsMCxyLm51bVRlbXBvcmFsTGF5ZXJzPDwzfHIudGVtcG9yYWxJZE5lc3RlZDw8MnwzLGNdO3ZhciBsPWZ1bmN0aW9uKGUpe3ZhciB0O2EucHVzaChlLmxlbmd0aD4+OCxlLmxlbmd0aCksKHQ9YSkucHVzaC5hcHBseSh0LHkoZSkpfTtuLmxlbmd0aCYmKGEucHVzaCgxNjAsMCxuLmxlbmd0aCksbi5mb3JFYWNoKGwpKSxpLmxlbmd0aCYmKGEucHVzaCgxNjEsMCxpLmxlbmd0aCksaS5mb3JFYWNoKGwpKSxzLmxlbmd0aCYmKGEucHVzaCgxNjIsMCxzLmxlbmd0aCkscy5mb3JFYWNoKGwpKX1lbHNlIGE9WzEsMSw5NiwwLDAsMCwxNDQsMCwwLDAsMCwwLDkzLDI0MCwwLDI1MiwyNTMsMjQ4LDI0OCwwLDAsMTUsMywxNjAsMCwxLDAsMjQsNjQsMSwxMiwxLDI1NSwyNTUsMSw5NiwwLDAsMywwLDE0NCwwLDAsMywwLDAsMywwLDkzLDE1MywxNTIsOSwxNjEsMCwxLDAsNDUsNjYsMSwxLDEsOTYsMCwwLDMsMCwxNDQsMCwwLDMsMCwwLDMsMCw5MywxNjAsMiwxMjgsMTI4LDQ1LDIyLDg5LDE1MywxNjQsMTQ3LDQzLDE1NCwxMjgsMTI4LDEyOCwxMzAsMCwwLDMsMCwyLDAsMCwzLDAsNTAsMTYsMTYyLDAsMSwwLDcsNjgsMSwxOTMsMTE0LDE4MCw5OCw2NF07cmV0dXJuIGUuYm94KGUudHlwZXMuaHZjQyxuZXcgVWludDhBcnJheShhKSl9fSx7a2V5OiJwYXNwIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj12KHQsMiksYT1yWzBdLG49clsxXTtyZXR1cm4gZS5ib3goZS50eXBlcy5wYXNwLG5ldyBVaW50OEFycmF5KFthPj4yNCxhPj4xNiYyNTUsYT4+OCYyNTUsMjU1JmEsbj4+MjQsbj4+MTYmMjU1LG4+PjgmMjU1LDI1NSZuXSkpfX0se2tleToibXA0YSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGUuYm94KGUudHlwZXMubXA0YSxuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLHQuY2hhbm5lbENvdW50LDAsMTYsMCwwLDAsMCx0LnNhbXBsZVJhdGU+PjgmMjU1LDI1NSZ0LnNhbXBsZVJhdGUsMCwwXSksdC5jb25maWcubGVuZ3RoP2UuZXNkcyh0LmNvbmZpZyk6dm9pZCAwKX19LHtrZXk6ImVzZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPXQubGVuZ3RoO3JldHVybiBlLmJveChlLnR5cGVzLmVzZHMsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMywyMytyLDAsMCwwLDQsMTUrciw2NCwyMSwwLDYsMCwwLDAsMjE4LDE5MiwwLDAsMjE4LDE5Miw1XS5jb25jYXQoW3JdKS5jb25jYXQodCkuY29uY2F0KFs2LDEsMl0pKSl9fSx7a2V5OiJvcHVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLHQuY2hhbm5lbENvdW50LDAsMTYsMCwwLDAsMCx0LnNhbXBsZVJhdGU+PjgmMjU1LDI1NSZ0LnNhbXBsZVJhdGUsMCwwXSksYT10LmNvbmZpZy5sZW5ndGg/ZS5kT3BzKHQpOltdO3JldHVybiBlLmJveChlLnR5cGVzLk9wdXMscixhKX19LHtrZXk6ImRPcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQuY29uZmlnKXJldHVybiB0LmNvbmZpZ1s0XT10LnNhbXBsZVJhdGU+Pj4yNCYyNTUsdC5jb25maWdbNV09dC5zYW1wbGVSYXRlPj4+MTYmMjU1LHQuY29uZmlnWzZdPXQuc2FtcGxlUmF0ZT4+PjgmMjU1LHQuY29uZmlnWzddPTI1NSZ0LnNhbXBsZVJhdGUsZS5ib3goZS50eXBlcy5kT3BzLHQuY29uZmlnKX19LHtrZXk6Im12ZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJveC5hcHBseShlLFtlLnR5cGVzLm12ZXhdLmNvbmNhdCh5KHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS50cmV4KHQuaWQpfSkpKSkpfX0se2tleToidHJleCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGUuYm94KGUudHlwZXMudHJleCxuZXcgVWludDhBcnJheShbMCwwLDAsMCx0Pj4yNCx0Pj4xNiYyNTUsdD4+OCYyNTUsMjU1JnQsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwxLDAsMV0pKX19LHtrZXk6InRyZXgxIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy50cmV4LG5ldyBVaW50OEFycmF5KFswLDAsMCwwLHQ+PjI0LHQ+PjE2JjI1NSx0Pj44JjI1NSwyNTUmdCwwLDAsMCwxLDAsMCwyLDAsMCwwLDAsMCwwLDEsMCwwXSkpfX0se2tleToidHJleDIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLnRyZXgsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsdD4+MjQsdD4+MTYmMjU1LHQ+PjgmMjU1LDI1NSZ0LDAsMCwwLDEsMCwwLDQsMCwwLDAsMCwwLDIsMCwwLDBdKSl9fSx7a2V5OiJtb29mIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3guYXBwbHkoZSxbZS50eXBlcy5tb29mLGUubWZoZCh0WzBdLnNhbXBsZXM/dFswXS5zYW1wbGVzWzBdLmdvcElkOjApXS5jb25jYXQoeSh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUudHJhZih0KX0pKSkpKX19LHtrZXk6Im1maGQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLm1maGQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsdD4+MjQsdD4+MTYmMjU1LHQ+PjgmMjU1LDI1NSZ0XSkpfX0se2tleToidHJhZiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9ZS50ZmhkKHQuaWQpLGE9ZS50ZmR0KHQsdC5iYXNlTWVkaWFEZWNvZGVUaW1lKSxuPTA7aWYodC5pc1ZpZGVvJiZ0LnZpZGVvU2VuYyYmdC52aWRlb1NlbmMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bis9OCxlLnN1YnNhbXBsZXMmJmUuc3Vic2FtcGxlcy5sZW5ndGgmJihuKz0yLG4rPTYqZS5zdWJzYW1wbGVzLmxlbmd0aCl9KSksdC52aWRlb1NlbmNMZW5ndGg9bix0LnVzZUVNRSYmKHQuaXNWaWRlb0VuY3J5cHRpb258fHQuaXNBdWRpb0VuY3J5cHRpb24pKXtpZih0LmlzVmlkZW9FbmNyeXB0aW9uKXtpZih0LmlzVmlkZW8pe3ZhciBpPWUuc2Fpeih0KSxzPWUuc2Fpbyh0KSxvPWUudHJ1bjEodCksdT1lLnNlbmModCk7cmV0dXJuIGUuYm94KGUudHlwZXMudHJhZixyLGEsaSxzLG8sdSl9aWYodC5pc0F1ZGlvRW5jcnlwdGlvbil7dmFyIGM9ZS5zYmdwKCksbD1lLnNhaXoodCksZj1lLnNhaW8odCksZD1lLnNlbmModCksaD1lLnRydW4xKHQpO3JldHVybiBlLmJveChlLnR5cGVzLnRyYWYscixhLGMsbCxmLGQsaCl9dmFyIHA9ZS5zYmdwKCksdj1lLnRydW4xKHQpO3JldHVybiBlLmJveChlLnR5cGVzLnRyYWYscixhLHAsdil9aWYodC5pc1ZpZGVvKXt2YXIgeT1lLnRydW4xKHQpO3JldHVybiBlLmJveChlLnR5cGVzLnRyYWYscixhLHkpfXZhciBtPWUuc2JncCgpLGc9ZS5zYWl6KHQpLGs9ZS5zYWlvKHQpLGI9ZS5zZW5jKHQpLF89ZS50cnVuMSh0KTtyZXR1cm4gZS5ib3goZS50eXBlcy50cmFmLHIsYSxtLGcsayxiLF8pfXZhciB3PWUuc2R0cCh0KTtyZXR1cm4gZS5ib3goZS50eXBlcy50cmFmLHIsYSx3LGUudHJ1bih0LnNhbXBsZXMsdy5ieXRlTGVuZ3RoKzc2KSl9fSx7a2V5OiJzZHRwIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj1uZXcgSWU7cmV0dXJuIHQuc2FtcGxlcy5mb3JFYWNoKChmdW5jdGlvbihlKXtyLndyaXRlKG5ldyBVaW50OEFycmF5KHQuaXNWaWRlbz9bZS5rZXlmcmFtZT8zMjoxNl06WzE2XSkpfSkpLGUuYm94KGUudHlwZXMuc2R0cCx0aGlzLmV4dGVuc2lvbigwLDApLHIuYnVmZmVyKX19LHtrZXk6InRydW4xIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj1uZXcgSWUsYT1JZS53cml0ZVVpbnQzMih0LnNhbXBsZXMubGVuZ3RoKSxuPW51bGw7aWYodC5pc1ZpZGVvKXt2YXIgaT10LnZpZGVvU2VuY0xlbmd0aDtuPUllLndyaXRlVWludDMyKDE2KnQuc2FtcGxlcy5sZW5ndGgraSsxNDkpLCF0LmlzVmlkZW9FbmNyeXB0aW9uJiZ0LmlzQXVkaW9FbmNyeXB0aW9uJiYobj1JZS53cml0ZVVpbnQzMigxNip0LnNhbXBsZXMubGVuZ3RoKzkyKSl9ZWxzZXt2YXIgcz0xMip0LnNhbXBsZXMubGVuZ3RoKzEyNDt0LmlzQXVkaW9FbmNyeXB0aW9uJiYocz0xMip0LnNhbXBsZXMubGVuZ3RoKzgqdC5hdWRpb1NlbmMubGVuZ3RoKzE3Nyksbj1JZS53cml0ZVVpbnQzMihzKX1yZXR1cm4gdC5zYW1wbGVzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3Iud3JpdGUoSWUud3JpdGVVaW50MzIoZS5kdXJhdGlvbikpLHIud3JpdGUoSWUud3JpdGVVaW50MzIoZS5zaXplKSksci53cml0ZShJZS53cml0ZVVpbnQzMihlLmtleWZyYW1lPzMzNTU0NDMyOjY1NTM2KSksdC5pc1ZpZGVvJiZyLndyaXRlKEllLndyaXRlVWludDMyKGUuY3RzP2UuY3RzOjApKX0pKSxlLmJveChlLnR5cGVzLnRydW4sdGhpcy5leHRlbnNpb24oMCx0LmZsYWdzKSxhLG4sci5idWZmZXIpfX0se2tleToic2VuYyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9bmV3IEllLGE9dC5zYW1wbGVzLmxlbmd0aCxuPXQuaXNWaWRlbz8xNjo4LGk9dC5pc1ZpZGVvPzI6MCxzPVtdLG89MDtyZXR1cm4gdC5pc1ZpZGVvPyhzPXQudmlkZW9TZW5jLG89dC52aWRlb1NlbmNMZW5ndGgpOnM9dC5hdWRpb1NlbmMsbz1vfHxuKmEsci53cml0ZShJZS53cml0ZVVpbnQzMigxNitvKSxlLnR5cGVzLnNlbmMsdGhpcy5leHRlbnNpb24oMCxpKSksci53cml0ZShJZS53cml0ZVVpbnQzMihhKSkscy5mb3JFYWNoKChmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUuSW5pdGlhbGl6YXRpb25WZWN0b3IubGVuZ3RoO3QrKylyLndyaXRlKG5ldyBVaW50OEFycmF5KFtlLkluaXRpYWxpemF0aW9uVmVjdG9yW3RdXSkpO2Uuc3Vic2FtcGxlcyYmZS5zdWJzYW1wbGVzLmxlbmd0aCYmKHIud3JpdGUoSWUud3JpdGVVaW50MTYoZS5zdWJzYW1wbGVzLmxlbmd0aCkpLGUuc3Vic2FtcGxlcy5mb3JFYWNoKChmdW5jdGlvbihlKXtyLndyaXRlKEllLndyaXRlVWludDE2KGUuQnl0ZXNPZkNsZWFyRGF0YSkpLHIud3JpdGUoSWUud3JpdGVVaW50MzIoZS5CeXRlc09mUHJvdGVjdGVkRGF0YSkpfSkpKX0pKSxyLmJ1ZmZlcn19LHtrZXk6InNhaW8iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPTEyKnQuc2FtcGxlcy5sZW5ndGgrMTQxOyF0LmlzVmlkZW8mJnQuaXNBdWRpb0VuY3J5cHRpb24mJihyPTE0OSk7dmFyIGE9bmV3IFVpbnQ4QXJyYXkoWzEsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLHI+PjI0JjI1NSxyPj4xNiYyNTUscj4+OCYyNTUsMjU1JnJdKTtyZXR1cm4gZS5ib3goZS50eXBlcy5zYWlvLGEpfX0se2tleToic2FpeiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9dC5zYW1wbGVzLmxlbmd0aCxhPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDE2LHI+PjI0JjI1NSxyPj4xNiYyNTUscj4+OCYyNTUsMjU1JnJdKTtyZXR1cm4gZS5ib3goZS50eXBlcy5zYWl6LGEpfX0se2tleToic2JncCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgVWludDhBcnJheShbMTE0LDExMSwxMDgsMTA4LDAsMCwwLDEsMCwwLDEsMjUsMCwwLDAsMV0pO3JldHVybiBlLmJveChlLnR5cGVzLnNiZ3AsdGhpcy5leHRlbnNpb24oMCwwKSx0KX19LHtrZXk6ImV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW2UsdD4+MTYmMjU1LHQ+PjgmMjU1LDI1NSZ0XSl9fSx7a2V5OiJ0ZmhkIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy50ZmhkLG5ldyBVaW50OEFycmF5KFswLDAsMCwwLHQ+PjI0LHQ+PjE2JjI1NSx0Pj44JjI1NSwyNTUmdF0pKX19LHtrZXk6InRmZHQiLHZhbHVlOmZ1bmN0aW9uKHQscil7dmFyIGE9TWF0aC5mbG9vcihyLyhNZSsxKSksbj1NYXRoLmZsb29yKHIlKE1lKzEpKTtyZXR1cm4gdC51c2VFTUUmJih0LmlzVmlkZW9FbmNyeXB0aW9ufHx0LmlzQXVkaW9FbmNyeXB0aW9uKT9lLmJveChlLnR5cGVzLnRmZHQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsbj4+MjQsbj4+MTYmMjU1LG4+PjgmMjU1LDI1NSZuXSkpOmUuYm94KGUudHlwZXMudGZkdCxuZXcgVWludDhBcnJheShbMSwwLDAsMCxhPj4yNCxhPj4xNiYyNTUsYT4+OCYyNTUsMjU1JmEsbj4+MjQsbj4+MTYmMjU1LG4+PjgmMjU1LDI1NSZuXSkpfX0se2tleToidHJ1biIsdmFsdWU6ZnVuY3Rpb24odCxyKXt2YXIgYT10Lmxlbmd0aCxuPTEyKzE2KmE7cis9OCtuO3ZhciBpPW5ldyBVaW50OEFycmF5KG4pO2kuc2V0KFswLDAsMTUsMSxhPj4+MjQmMjU1LGE+Pj4xNiYyNTUsYT4+PjgmMjU1LDI1NSZhLHI+Pj4yNCYyNTUscj4+PjE2JjI1NSxyPj4+OCYyNTUsMjU1JnJdLDApO2Zvcih2YXIgcz0wO3M8YTtzKyspe3ZhciBvPXRbc10sdT1vLmR1cmF0aW9uLGM9by5zaXplLGw9by5mbGFnLGY9dm9pZCAwPT09bD97fTpsLGQ9by5jdHMsaD12b2lkIDA9PT1kPzA6ZDtpLnNldChbdT4+PjI0JjI1NSx1Pj4+MTYmMjU1LHU+Pj44JjI1NSwyNTUmdSxjPj4+MjQmMjU1LGM+Pj4xNiYyNTUsYz4+PjgmMjU1LDI1NSZjLGYuaXNMZWFkaW5nPDwyfChudWxsPT09Zi5kZXBlbmRzT258fHZvaWQgMD09PWYuZGVwZW5kc09uPzE6Zi5kZXBlbmRzT24pLGYuaXNEZXBlbmRlZE9uPDw2fGYuaGFzUmVkdW5kYW5jeTw8NHxmLnBhZGRpbmdWYWx1ZTw8MXwobnVsbD09PWYuaXNOb25TeW5jU2FtcGxlfHx2b2lkIDA9PT1mLmlzTm9uU3luY1NhbXBsZT8xOmYuaXNOb25TeW5jU2FtcGxlKSw2MTQ0MCZmLmRlZ3JhZGF0aW9uUHJpb3JpdHksMTUmZi5kZWdyYWRhdGlvblByaW9yaXR5LGg+Pj4yNCYyNTUsaD4+PjE2JjI1NSxoPj4+OCYyNTUsMjU1JmhdLDEyKzE2KnMpfXJldHVybiBlLmJveChlLnR5cGVzLnRydW4saSl9fSx7a2V5OiJtb292TVA0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3guYXBwbHkoZSxbZS50eXBlcy5tb292LGUubXZoZCh0WzBdLmR1cmF0aW9uLHRbMF0udGltZXNjYWxlKV0uY29uY2F0KHkodC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnRyYWNrTVA0KHQpfSkpKSkpfX0se2tleToidHJhY2tNUDQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLnRyYWssZS50a2hkKHQuaWQsdC5kdXJhdGlvbix0LndpZHRoLHQuaGVpZ2h0KSxlLm1kaWFNUDQodCkpfX0se2tleToibWRpYU1QNCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGUuYm94KGUudHlwZXMubWRpYSxlLm1kaGQodC5kdXJhdGlvbix0LnRpbWVzY2FsZSksZS5oZGxyKHQudHlwZSksZS5taW5mTVA0KHQpKX19LHtrZXk6Im1pbmZNUDQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLm1pbmYsdC50eXBlPT09Yj9lLlZNSEQ6ZS5TTUhELGUuRElORixlLnN0YmxNUDQodCkpfX0se2tleToic3RibE1QNCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9dC5leHQsYT1bZS5zdHNkKHQpLGUuc3R0cyhyLnN0dHMpLGUuc3RzYyhyLnN0c2MpLGUuc3RzeihyLnN0c3opLGUuc3RjbyhyLnN0Y28pXTtyZXR1cm4gci5zdHNzLmxlbmd0aCYmYS5wdXNoKGUuc3RzcyhyLnN0c3MpKSxyLmN0dHMubGVuZ3RoJiZhLnB1c2goZS5jdHRzKHIuY3R0cykpLGUuYm94LmFwcGx5KGUsW2UudHlwZXMuc3RibF0uY29uY2F0KGEpKX19LHtrZXk6InN0dHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPXQubGVuZ3RoLGE9bmV3IFVpbnQ4QXJyYXkoOCpyKSxuPTA7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZSxyPWUuY291bnQ7YS5zZXQoW3I+PjI0LHI+PjE2JjI1NSxyPj44JjI1NSwyNTUmcix0Pj4yNCx0Pj4xNiYyNTUsdD4+OCYyNTUsMjU1JnRdLG4pLG4rPTh9KSksZS5ib3goZS50eXBlcy5zdHRzLCQobmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAscj4+MjQscj4+MTYmMjU1LHI+PjgmMjU1LDI1NSZyXSksYSkpfX0se2tleToic3RzYyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9dC5sZW5ndGgsYT1uZXcgVWludDhBcnJheSgxMipyKSxuPTA7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maXJzdENodW5rLHI9ZS5zYW1wbGVzUGVyQ2h1bmssaT1lLnNhbXBsZURlc2NJbmRleDthLnNldChbdD4+MjQsdD4+MTYmMjU1LHQ+PjgmMjU1LDI1NSZ0LHI+PjI0LHI+PjE2JjI1NSxyPj44JjI1NSwyNTUmcixpPj4yNCxpPj4xNiYyNTUsaT4+OCYyNTUsMjU1JmldLG4pLG4rPTEyfSkpLGUuYm94KGUudHlwZXMuc3RzYywkKG5ldyBVaW50OEFycmF5KFswLDAsMCwwLHI+PjI0LHI+PjE2JjI1NSxyPj44JjI1NSwyNTUmcl0pLGEpKX19LHtrZXk6InN0c3oiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPXQubGVuZ3RoLGE9bmV3IFVpbnQ4QXJyYXkoNCpyKSxuPTA7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YS5zZXQoW2U+PjI0LGU+PjE2JjI1NSxlPj44JjI1NSwyNTUmZV0sbiksbis9NH0pKSxlLmJveChlLnR5cGVzLnN0c3osJChuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwLHI+PjI0LHI+PjE2JjI1NSxyPj44JjI1NSwyNTUmcl0pLGEpKX19LHtrZXk6InN0Y28iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPXQubGVuZ3RoLGE9bmV3IFVpbnQ4QXJyYXkoNCpyKSxuPTA7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YS5zZXQoW2U+PjI0LGU+PjE2JjI1NSxlPj44JjI1NSwyNTUmZV0sbiksbis9NH0pKSxlLmJveChlLnR5cGVzLnN0Y28sJChuZXcgVWludDhBcnJheShbMCwwLDAsMCxyPj4yNCxyPj4xNiYyNTUscj4+OCYyNTUsMjU1JnJdKSxhKSl9fSx7a2V5OiJzdHNzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj10Lmxlbmd0aCxhPW5ldyBVaW50OEFycmF5KDQqciksbj0wO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2Euc2V0KFtlPj4yNCxlPj4xNiYyNTUsZT4+OCYyNTUsMjU1JmVdLG4pLG4rPTR9KSksZS5ib3goZS50eXBlcy5zdHNzLCQobmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAscj4+MjQscj4+MTYmMjU1LHI+PjgmMjU1LDI1NSZyXSksYSkpfX0se2tleToiY3R0cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9dC5sZW5ndGgsYT1uZXcgVWludDhBcnJheSg4KnIpLG49MDtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLnZhbHVlLHI9ZS5jb3VudDthLnNldChbcj4+MjQscj4+MTYmMjU1LHI+PjgmMjU1LDI1NSZyLHQ+PjI0LHQ+PjE2JjI1NSx0Pj44JjI1NSwyNTUmdF0sbiksbis9OH0pKSxlLmJveChlLnR5cGVzLmN0dHMsJChuZXcgVWludDhBcnJheShbMCwwLDAsMCxyPj4yNCxyPj4xNiYyNTUscj4+OCYyNTUsMjU1JnJdKSxhKSl9fSx7a2V5OiJzdHlwIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBlLmJveChlLnR5cGVzLnN0eXAsbmV3IFVpbnQ4QXJyYXkoWzEwOSwxMTUsMTAwLDEwNCwwLDAsMCwwLDEwOSwxMTUsMTAwLDEwNCwxMDksMTE1LDEwNSwxMjBdKSl9fSx7a2V5OiJzaWR4Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj10LnRpbWVzY2FsZSxhPXQuc2FtcGxlc1swXS5kdXJhdGlvbixuPWEqdC5zYW1wbGVzLmxlbmd0aCxpPXQuc2FtcGxlc1swXS5zYW1wbGVPZmZzZXQqYSxzPTg7dC5zYW1wbGVzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3MrPWUuc2l6ZX0pKTt2YXIgbz0wO2lmKHQuaXNWaWRlbyl7dmFyIHUsYz0wO3QudmlkZW9TZW5jJiYodT10LnZpZGVvU2VuYyksdC5pc1ZpZGVvJiZ1LmZvckVhY2goKGZ1bmN0aW9uKGUpe2MrPTgsZS5zdWJzYW1wbGVzJiZlLnN1YnNhbXBsZXMubGVuZ3RoJiYoYys9MixjKz02KmUuc3Vic2FtcGxlcy5sZW5ndGgpfSkpLHQudmlkZW9TZW5jTGVuZ3RoPWMsbz1zKzE0MSsxNip0LnNhbXBsZXMubGVuZ3RoK2MsdC51c2VFTUUmJnQuaXNBdWRpb0VuY3J5cHRpb24mJiF0LmlzVmlkZW9FbmNyeXB0aW9uJiYobz1zKzE2KnQuc2FtcGxlcy5sZW5ndGgrODQpfWVsc2Ugbz1zKzExNisxMip0LnNhbXBsZXMubGVuZ3RoLHQudXNlRU1FJiZ0LmlzQXVkaW9FbmNyeXB0aW9uJiYobz1zKzE2OSsxMip0LnNhbXBsZXMubGVuZ3RoKzgqdC5hdWRpb1NlbmMubGVuZ3RoKTt2YXIgbD1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwyNTUmdC5pZCxyPj4yNCYyNTUscj4+MTYmMjU1LHI+PjgmMjU1LDI1NSZyLGk+PjI0JjI1NSxpPj4xNiYyNTUsaT4+OCYyNTUsMjU1JmksMCwwLDAsMCwwLDAsMCwxLDAsbz4+MTYmMjU1LG8+PjgmMjU1LDI1NSZvLG4+PjI0JjI1NSxuPj4xNiYyNTUsbj4+OCYyNTUsMjU1Jm4sMTQ0LDAsMCwwXSk7cmV0dXJuIGUuYm94KGUudHlwZXMuc2lkeCxsKX19LHtrZXk6Im1kYXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLm1kYXQsdCl9fV0pLGV9KCk7aSh6ZSwidHlwZXMiLFsiT3B1cyIsImRPcHMiLCJhdjAxIiwiYXYxQyIsImF2YzEiLCJhdmNDIiwiaHZjMSIsImh2Y0MiLCJkaW5mIiwiZHJlZiIsImVzZHMiLCJmdHlwIiwiaGRsciIsIm1kYXQiLCJtZGhkIiwibWRpYSIsIm1maGQiLCJtaW5mIiwibW9vZiIsIm1vb3YiLCJtcDRhIiwibXZleCIsIm12aGQiLCJwYXNwIiwic3RibCIsInN0Y28iLCJzdHNjIiwic3RzZCIsInN0c3oiLCJzdHRzIiwidGZkdCIsInRmaGQiLCJ0cmFmIiwidHJhayIsInRyZXgiLCJ0a2hkIiwidm1oZCIsInNtaGQiLCJjdHRzIiwic3RzcyIsInN0eXAiLCJwc3NoIiwic2lkeCIsInNiZ3AiLCJzYWl6Iiwic2FpbyIsInNlbmMiLCJ0cnVuIiwiZW5jdiIsImVuY2EiLCJzaW5mIiwiYnRydCIsImZybWEiLCJ0ZW5jIiwic2NobSIsInNjaGkiLCJtZWhkIiwiZmllbCIsInNkdHAiXS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF09W3QuY2hhckNvZGVBdCgwKSx0LmNoYXJDb2RlQXQoMSksdC5jaGFyQ29kZUF0KDIpLHQuY2hhckNvZGVBdCgzKV0sZX0pLE9iamVjdC5jcmVhdGUobnVsbCkpKSxpKHplLCJIRExSX1RZUEVTIix7dmlkZW86bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwxMTgsMTA1LDEwMCwxMDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsODYsMTA1LDEwMCwxMDEsMTExLDcyLDk3LDExMCwxMDAsMTA4LDEwMSwxMTQsMF0pLGF1ZGlvOm5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMTE1LDExMSwxMTcsMTEwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDgzLDExMSwxMTcsMTEwLDEwMCw3Miw5NywxMTAsMTAwLDEwOCwxMDEsMTE0LDBdKX0pLGkoemUsIkZUWVBBVkMxIix6ZS5ib3goemUudHlwZXMuZnR5cCxuZXcgVWludDhBcnJheShbMTA1LDExNSwxMTEsMTA5LDAsMCwwLDEsMTA1LDExNSwxMTEsMTA5LDk3LDExOCw5OSw0OV0pKSksaSh6ZSwiRlRZUEhFVjEiLHplLmJveCh6ZS50eXBlcy5mdHlwLG5ldyBVaW50OEFycmF5KFsxMDUsMTE1LDExMSwxMDksMCwwLDAsMSwxMDUsMTE1LDExMSwxMDksMTA0LDEwMSwxMTgsNDldKSkpLGkoemUsIkRJTkYiLHplLmJveCh6ZS50eXBlcy5kaW5mLHplLmJveCh6ZS50eXBlcy5kcmVmLG5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDEsMCwwLDAsMTIsMTE3LDExNCwxMDgsMzIsMCwwLDAsMV0pKSkpLGkoemUsIlZNSEQiLHplLmJveCh6ZS50eXBlcy52bWhkLG5ldyBVaW50OEFycmF5KFswLDAsMCwxLDAsMCwwLDAsMCwwLDAsMF0pKSksaSh6ZSwiU01IRCIsemUuYm94KHplLnR5cGVzLnNtaGQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMF0pKSksaSh6ZSwiU3RibFRhYmxlIixuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwXSkpLGkoemUsIlNUVFMiLHplLmJveCh6ZS50eXBlcy5zdHRzLHplLlN0YmxUYWJsZSkpLGkoemUsIlNUU0MiLHplLmJveCh6ZS50eXBlcy5zdHNjLHplLlN0YmxUYWJsZSkpLGkoemUsIlNUU1oiLHplLmJveCh6ZS50eXBlcy5zdHN6LG5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0pKSksaSh6ZSwiU1RDTyIsemUuYm94KHplLnR5cGVzLnN0Y28semUuU3RibFRhYmxlKSk7dmFyIE9lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LGEpe3IodGhpcyxlKSx0aGlzLm5hbWU9dHx8IiIsdGhpcy5fcHJlZml4PSJbIi5jb25jYXQodGhpcy5uYW1lLCJdIiksZS5kaXNhYmxlZD1hfXJldHVybiBuKGUsW3trZXk6ImRlYnVnIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2lmKCFlLmRpc2FibGVkKXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShyKSxuPTA7bjxyO24rKylhW25dPWFyZ3VtZW50c1tuXTsodD1jb25zb2xlKS5kZWJ1Zy5hcHBseSh0LFt0aGlzLl9wcmVmaXhdLmNvbmNhdChhKSl9fX0se2tleToibG9nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2lmKCFlLmRpc2FibGVkKXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShyKSxuPTA7bjxyO24rKylhW25dPWFyZ3VtZW50c1tuXTsodD1jb25zb2xlKS5sb2cuYXBwbHkodCxbdGhpcy5fcHJlZml4XS5jb25jYXQoYSkpfX19LHtrZXk6Indhcm4iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7aWYoIWUuZGlzYWJsZWQpe2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KHIpLG49MDtuPHI7bisrKWFbbl09YXJndW1lbnRzW25dOyh0PWNvbnNvbGUpLndhcm4uYXBwbHkodCxbdGhpcy5fcHJlZml4XS5jb25jYXQoYSkpfX19LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2lmKCFlLmRpc2FibGVkKXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShyKSxuPTA7bjxyO24rKylhW25dPWFyZ3VtZW50c1tuXTsodD1jb25zb2xlKS5lcnJvci5hcHBseSh0LFt0aGlzLl9wcmVmaXhdLmNvbmNhdChhKSl9fX0se2tleToidGFibGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7ZS5kaXNhYmxlZHx8KGNvbnNvbGUuZ3JvdXAodGhpcy5fcHJlZml4KSwodD1jb25zb2xlKS50YWJsZS5hcHBseSh0LGFyZ3VtZW50cyksY29uc29sZS5ncm91cEVuZCgpKX19XSxbe2tleToiZW5hYmxlIix2YWx1ZTpmdW5jdGlvbigpe2UuZGlzYWJsZWQ9ITF9fSx7a2V5OiJkaXNhYmxlIix2YWx1ZTpmdW5jdGlvbigpe2UuZGlzYWJsZWQ9ITB9fV0pLGV9KCk7aShPZSwiZGlzYWJsZWQiLCEwKTtmb3IodmFyIFJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LGEsbil7cih0aGlzLGUpLHRoaXMudmlkZW9UcmFjaz10LHRoaXMuYXVkaW9UcmFjaz1hO3ZhciBpPS9DaHJvbWVcLyhbXi5dKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7dGhpcy5mb3JjZUZpcnN0SURSPWkmJk51bWJlcihpWzFdKTw1MCx0aGlzLmxvZz1uZXcgT2UoIkZNUDRSZW11eGVyIiwhbnx8IW4ub3BlbkxvZ3x8IW4ub3BlbkxvZyl9cmV0dXJuIG4oZSxbe2tleToicmVtdXgiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdCxyLGEsbixpPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0scz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbz10aGlzLnZpZGVvVHJhY2ssdT10aGlzLmF1ZGlvVHJhY2ssYz1vLmV4aXN0KCksbD11LmV4aXN0KCksZj1bXTtyZXR1cm4gaSYmKHMmJnMuaW5pdE1lcmdlPyhjJiZmLnB1c2godGhpcy52aWRlb1RyYWNrKSxsJiZmLnB1c2godGhpcy5hdWRpb1RyYWNrKSxyPXplLmluaXRTZWdtZW50KGYpKTooYyYmKGU9emUuaW5pdFNlZ21lbnQoW3RoaXMudmlkZW9UcmFja10pKSxsJiYodD16ZS5pbml0U2VnbWVudChbdGhpcy5hdWRpb1RyYWNrXSkpKSksYyYmby5oYXNTYW1wbGUoKSYmKGE9dGhpcy5fcmVtdXhWaWRlbygpKSxsJiZ1Lmhhc1NhbXBsZSgpJiYobj10aGlzLl9yZW11eEF1ZGlvKCkpLG8uc2FtcGxlcz1bXSx1LnNhbXBsZXM9W10se2luaXRTZWdtZW50OnIsdmlkZW9Jbml0U2VnbWVudDplLGF1ZGlvSW5pdFNlZ21lbnQ6dCx2aWRlb1NlZ21lbnQ6YSxhdWRpb1NlZ21lbnQ6bn19fSx7a2V5OiJfcmVtdXhWaWRlbyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnZpZGVvVHJhY2s7dGhpcy5mb3JjZUZpcnN0SURSJiYoZS5zYW1wbGVzWzBdLmZsYWc9e2RlcGVuZHNPbjoyLGlzTm9uU3luY1NhbXBsZTowfSk7dmFyIHQ9ZS5zYW1wbGVzLHI9L2F2MDEvLnRlc3QoZS5jb2RlYyksYT0wO3I/dC5mb3JFYWNoKChmdW5jdGlvbihlKXthKz1lLmRhdGEuYnl0ZUxlbmd0aH0pKTp0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2ErPWUudW5pdHMucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QuYnl0ZUxlbmd0aH0pLDApLGErPTQqZS51bml0cy5sZW5ndGh9KSk7dmFyIG49bmV3IFVpbnQ4QXJyYXkoYSk7aWYocilmb3IodmFyIGkscz0wLG89dC5sZW5ndGgsdT0wO3M8bztzKyspaT10W3NdLG4uc2V0KGkuZGF0YSx1KSxpLnNpemU9aS5kYXRhLmJ5dGVMZW5ndGgsdSs9aS5zaXplO2Vsc2UgZm9yKHZhciBjLGw9bmV3IERhdGFWaWV3KG4uYnVmZmVyKSxmPWZ1bmN0aW9uKGUscil7cj10W2RdO3ZhciBhPTA7ci51bml0cy5mb3JFYWNoKChmdW5jdGlvbih0KXtsLnNldFVpbnQzMihlLHQuYnl0ZUxlbmd0aCksZSs9NCxuLnNldCh0LGUpLGUrPXQuYnl0ZUxlbmd0aCxhKz00K3QuYnl0ZUxlbmd0aH0pKSxyLnNpemU9YSxwPWUsYz1yfSxkPTAsaD10Lmxlbmd0aCxwPTA7ZDxoO2QrKylmKHAsYyk7dmFyIHY9emUubWRhdChuKTtyZXR1cm4gJCh6ZS5tb29mKFtlXSksdil9fSx7a2V5OiJfcmVtdXhBdWRpbyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmF1ZGlvVHJhY2ssdD1uZXcgVWludDhBcnJheShlLnNhbXBsZXMucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3Quc2l6ZX0pLDApKTtlLnNhbXBsZXMucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiB0LnNldChyLmRhdGEsZSksZStyLnNpemV9KSwwKTt2YXIgcj16ZS5tZGF0KHQpO3JldHVybiAkKHplLm1vb2YoW2VdKSxyKX19LHtrZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudmlkZW9UcmFjay5yZXNldCgpLHRoaXMuYXVkaW9UcmFjay5yZXNldCgpfX1dKSxlfSgpLExlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3IodGhpcyxlKX1yZXR1cm4gbihlLFt7a2V5OiJtaXhJbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcyxlKX19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiBPYmplY3QuYXNzaWduKGUsdGhpcyksZX19XSxbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKXRbcl09YXJndW1lbnRzW3JdO3JldHVybiBsKHRoaXMsdCl9fV0pLGV9KCksVmU9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYSgpe3ZhciBlLG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjQqbi5sZW5ndGg7cih0aGlzLGEpLGU9dC5jYWxsKHRoaXMpO3ZhciBzPW47aWYocyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyJiYocz1uZXcgVWludDhBcnJheShzKSksKHMgaW5zdGFuY2VvZiBJbnQ4QXJyYXl8fHMgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheXx8cyBpbnN0YW5jZW9mIEludDE2QXJyYXl8fHMgaW5zdGFuY2VvZiBVaW50MTZBcnJheXx8cyBpbnN0YW5jZW9mIEludDMyQXJyYXl8fHMgaW5zdGFuY2VvZiBVaW50MzJBcnJheXx8cyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8cyBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkmJihzPW5ldyBVaW50OEFycmF5KHMuYnVmZmVyLHMuYnl0ZU9mZnNldCxzLmJ5dGVMZW5ndGgpKSxzIGluc3RhbmNlb2YgVWludDhBcnJheSl7Zm9yKHZhciBvPXMuYnl0ZUxlbmd0aCx1PVtdLGM9MDtjPG87Yys9MSl1W2M+Pj4yXXw9c1tjXTw8MjQtYyU0Kjg7ZS53b3Jkcz11LGUuc2lnQnl0ZXM9b31lbHNlIGUud29yZHM9bixlLnNpZ0J5dGVzPWk7cmV0dXJuIGV9cmV0dXJuIG4oYSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOkZlO3JldHVybiBlLnN0cmluZ2lmeSh0aGlzKX19LHtrZXk6ImNvbmNhdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy53b3JkcyxyPWUud29yZHMsYT10aGlzLnNpZ0J5dGVzLG49ZS5zaWdCeXRlcztpZih0aGlzLmNsYW1wKCksYSU0KWZvcih2YXIgaT0wO2k8bjtpKz0xKXt2YXIgcz1yW2k+Pj4yXT4+PjI0LWklNCo4JjI1NTt0W2EraT4+PjJdfD1zPDwyNC0oYStpKSU0Kjh9ZWxzZSBmb3IodmFyIG89MDtvPG47bys9NCl0W2Erbz4+PjJdPXJbbz4+PjJdO3JldHVybiB0aGlzLnNpZ0J5dGVzKz1uLHRoaXN9fSx7a2V5OiJjbGFtcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndvcmRzLHQ9dGhpcy5zaWdCeXRlcztlW3Q+Pj4yXSY9NDI5NDk2NzI5NTw8MzItdCU0KjgsZS5sZW5ndGg9TWF0aC5jZWlsKHQvNCl9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1wKG8oYS5wcm90b3R5cGUpLCJjbG9uZSIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gZS53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLGV9fV0sW3trZXk6InJhbmRvbSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9W10sbj1mdW5jdGlvbihlKXt2YXIgdD1lLHI9OTg3NjU0MzIxLGE9NDI5NDk2NzI5NTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT0oKHI9MzY5NjkqKDY1NTM1JnIpKyhyPj4xNikmYSk8PDE2KSsodD0xOGUzKig2NTUzNSZ0KSsodD4+MTYpJmEpJmE7cmV0dXJuIGUvPTQyOTQ5NjcyOTYsKGUrPS41KSooTWF0aC5yYW5kb20oKT4uNT8xOi0xKX19LGk9MDtpPGU7aSs9NCl7dmFyIHM9big0Mjk0OTY3Mjk2Kih0fHxNYXRoLnJhbmRvbSgpKSk7dD05ODc2NTQwNzEqcygpLHIucHVzaCg0Mjk0OTY3Mjk2KnMoKXwwKX1yZXR1cm4gbmV3IGEocixlKX19XSksYX0oTGUpLEZlPXtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUud29yZHMscj1lLnNpZ0J5dGVzLGE9W10sbj0wO248cjtuKz0xKXt2YXIgaT10W24+Pj4yXT4+PjI0LW4lNCo4JjI1NTthLnB1c2goKGk+Pj40KS50b1N0cmluZygxNikpLGEucHVzaCgoMTUmaSkudG9TdHJpbmcoMTYpKX1yZXR1cm4gYS5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLHI9W10sYT0wO2E8dDthKz0yKXJbYT4+PjNdfD1wYXJzZUludChlLnN1YnN0cihhLDIpLDE2KTw8MjQtYSU4KjQ7cmV0dXJuIG5ldyBWZShyLHQvMil9fSxOZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGgscj1bXSxhPTA7YTx0O2ErPTEpclthPj4+Ml18PSgyNTUmZS5jaGFyQ29kZUF0KGEpKTw8MjQtYSU0Kjg7cmV0dXJuIG5ldyBWZShyLHQpfSxqZT1mdW5jdGlvbihlKXtyZXR1cm4gTmUodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKSl9LEdlPWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoKXt2YXIgZTtyZXR1cm4gcih0aGlzLGEpLChlPXQuY2FsbCh0aGlzKSkuX21pbkJ1ZmZlclNpemU9MCxlfXJldHVybiBuKGEsW3trZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2RhdGE9bmV3IFZlLHRoaXMuX25EYXRhQnl0ZXM9MH19LHtrZXk6Il9hcHBlbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWU7InN0cmluZyI9PXR5cGVvZiB0JiYodD1qZSh0KSksdGhpcy5fZGF0YS5jb25jYXQodCksdGhpcy5fbkRhdGFCeXRlcys9dC5zaWdCeXRlc319LHtrZXk6Il9wcm9jZXNzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMuX2RhdGEsYT10aGlzLmJsb2NrU2l6ZSxuPXIud29yZHMsaT1yLnNpZ0J5dGVzLHM9aS8oNCphKSxvPShzPWU/TWF0aC5jZWlsKHMpOk1hdGgubWF4KCgwfHMpLXRoaXMuX21pbkJ1ZmZlclNpemUsMCkpKmEsdT1NYXRoLm1pbig0Km8saSk7aWYobyl7Zm9yKHZhciBjPTA7YzxvO2MrPWEpdGhpcy5fZG9Qcm9jZXNzQmxvY2sobixjKTt0PW4uc3BsaWNlKDAsbyksci5zaWdCeXRlcy09dX1yZXR1cm4gbmV3IFZlKHQsdSl9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1wKG8oYS5wcm90b3R5cGUpLCJjbG9uZSIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gZS5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCksZX19XSksYX0oTGUpLEhlPWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoZSl7dmFyIG47cmV0dXJuIHIodGhpcyxhKSwobj10LmNhbGwodGhpcykpLmJsb2NrU2l6ZT0xNixuLmNmZz1PYmplY3QuYXNzaWduKG5ldyBMZSxlKSxuLnJlc2V0KCksbn1yZXR1cm4gbihhLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXtwKG8oYS5wcm90b3R5cGUpLCJyZXNldCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLl9kb1Jlc2V0KCl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hcHBlbmQoZSksdGhpcy5fcHJvY2VzcygpLHRoaXN9fSx7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMuX2FwcGVuZChlKSx0aGlzLl9kb0ZpbmFsaXplKCl9fV0sW3trZXk6Il9jcmVhdGVIZWxwZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBuZXcgZShyKS5maW5hbGl6ZSh0KX19fSx7a2V5OiJfY3JlYXRlSG1hY0hlbHBlciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIG5ldyBLZShlLHIpLmZpbmFsaXplKHQpfX19XSksYX0oR2UpLEtlPWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoZSxuKXt2YXIgaTtyKHRoaXMsYSksaT10LmNhbGwodGhpcyk7dmFyIHM9bmV3IGU7aS5faGFzaGVyPXM7dmFyIG89bjsic3RyaW5nIj09dHlwZW9mIG8mJihvPWplKG8pKTt2YXIgdT1zLmJsb2NrU2l6ZSxjPTQqdTtvLnNpZ0J5dGVzPmMmJihvPXMuZmluYWxpemUobikpLG8uY2xhbXAoKTt2YXIgbD1vLmNsb25lKCk7aS5fb0tleT1sO3ZhciBmPW8uY2xvbmUoKTtpLl9pS2V5PWY7Zm9yKHZhciBkPWwud29yZHMsaD1mLndvcmRzLHA9MDtwPHU7cCs9MSlkW3BdXj0xNTQ5NTU2ODI4LGhbcF1ePTkwOTUyMjQ4NjtyZXR1cm4gbC5zaWdCeXRlcz1jLGYuc2lnQnl0ZXM9YyxpLnJlc2V0KCksaX1yZXR1cm4gbihhLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9oYXNoZXI7ZS5yZXNldCgpLGUudXBkYXRlKHRoaXMuX2lLZXkpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faGFzaGVyLnVwZGF0ZShlKSx0aGlzfX0se2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2hhc2hlcixyPXQuZmluYWxpemUoZSk7cmV0dXJuIHQucmVzZXQoKSx0LmZpbmFsaXplKHRoaXMuX29LZXkuY2xvbmUoKS5jb25jYXQocikpfX1dKSxhfShMZSkscWU9e3N0cmluZ2lmeTpmdW5jdGlvbihlKXt2YXIgdD1lLndvcmRzLHI9ZS5zaWdCeXRlcyxhPXRoaXMuX21hcDtlLmNsYW1wKCk7Zm9yKHZhciBuPVtdLGk9MDtpPHI7aSs9Mylmb3IodmFyIHM9KHRbaT4+PjJdPj4+MjQtaSU0KjgmMjU1KTw8MTZ8KHRbaSsxPj4+Ml0+Pj4yNC0oaSsxKSU0KjgmMjU1KTw8OHx0W2krMj4+PjJdPj4+MjQtKGkrMiklNCo4JjI1NSxvPTA7bzw0JiZpKy43NSpvPHI7bys9MSluLnB1c2goYS5jaGFyQXQocz4+PjYqKDMtbykmNjMpKTt2YXIgdT1hLmNoYXJBdCg2NCk7aWYodSlmb3IoO24ubGVuZ3RoJTQ7KW4ucHVzaCh1KTtyZXR1cm4gbi5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGgscj10aGlzLl9tYXAsYT10aGlzLl9yZXZlcnNlTWFwO2lmKCFhKXt0aGlzLl9yZXZlcnNlTWFwPVtdLGE9dGhpcy5fcmV2ZXJzZU1hcDtmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rPTEpYVtyLmNoYXJDb2RlQXQobildPW59dmFyIGk9ci5jaGFyQXQoNjQpO2lmKGkpe3ZhciBzPWUuaW5kZXhPZihpKTstMSE9PXMmJih0PXMpfXJldHVybiBmdW5jdGlvbihlLHQscil7Zm9yKHZhciBhPVtdLG49MCxpPTA7aTx0O2krPTEpaWYoaSU0KXt2YXIgcz1yW2UuY2hhckNvZGVBdChpLTEpXTw8aSU0KjJ8cltlLmNoYXJDb2RlQXQoaSldPj4+Ni1pJTQqMjthW24+Pj4yXXw9czw8MjQtbiU0Kjgsbis9MX1yZXR1cm4gVmUuY3JlYXRlKGEsbil9KGUsdCxhKX0sX21hcDoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0ifSxXZT1bXSxYZT0wO1hlPDY0O1hlKz0xKVdlW1hlXT00Mjk0OTY3Mjk2Kk1hdGguYWJzKE1hdGguc2luKFhlKzEpKXwwO3ZhciBZZT1mdW5jdGlvbihlLHQscixhLG4saSxzKXt2YXIgbz1lKyh0JnJ8fnQmYSkrbitzO3JldHVybihvPDxpfG8+Pj4zMi1pKSt0fSxaZT1mdW5jdGlvbihlLHQscixhLG4saSxzKXt2YXIgbz1lKyh0JmF8ciZ+YSkrbitzO3JldHVybihvPDxpfG8+Pj4zMi1pKSt0fSxRZT1mdW5jdGlvbihlLHQscixhLG4saSxzKXt2YXIgbz1lKyh0XnJeYSkrbitzO3JldHVybihvPDxpfG8+Pj4zMi1pKSt0fSxKZT1mdW5jdGlvbihlLHQscixhLG4saSxzKXt2YXIgbz1lKyhyXih0fH5hKSkrbitzO3JldHVybihvPDxpfG8+Pj4zMi1pKSt0fSwkZT1mdW5jdGlvbihlKXtzKGEsZSk7dmFyIHQ9ZChhKTtmdW5jdGlvbiBhKCl7cmV0dXJuIHIodGhpcyxhKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gbihhLFt7a2V5OiJfZG9SZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBWZShbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSl9fSx7a2V5OiJfZG9Qcm9jZXNzQmxvY2siLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUsYT0wO2E8MTY7YSs9MSl7dmFyIG49dCthLGk9ZVtuXTtyW25dPTE2NzExOTM1JihpPDw4fGk+Pj4yNCl8NDI3ODI1NTM2MCYoaTw8MjR8aT4+PjgpfXZhciBzPXRoaXMuX2hhc2gud29yZHMsbz1yW3QrMF0sdT1yW3QrMV0sYz1yW3QrMl0sbD1yW3QrM10sZj1yW3QrNF0sZD1yW3QrNV0saD1yW3QrNl0scD1yW3QrN10sdj1yW3QrOF0seT1yW3QrOV0sbT1yW3QrMTBdLGc9clt0KzExXSxrPXJbdCsxMl0sYj1yW3QrMTNdLF89clt0KzE0XSx3PXJbdCsxNV0seD1zWzBdLFM9c1sxXSxEPXNbMl0sQT1zWzNdO3g9WWUoeCxTLEQsQSxvLDcsV2VbMF0pLEE9WWUoQSx4LFMsRCx1LDEyLFdlWzFdKSxEPVllKEQsQSx4LFMsYywxNyxXZVsyXSksUz1ZZShTLEQsQSx4LGwsMjIsV2VbM10pLHg9WWUoeCxTLEQsQSxmLDcsV2VbNF0pLEE9WWUoQSx4LFMsRCxkLDEyLFdlWzVdKSxEPVllKEQsQSx4LFMsaCwxNyxXZVs2XSksUz1ZZShTLEQsQSx4LHAsMjIsV2VbN10pLHg9WWUoeCxTLEQsQSx2LDcsV2VbOF0pLEE9WWUoQSx4LFMsRCx5LDEyLFdlWzldKSxEPVllKEQsQSx4LFMsbSwxNyxXZVsxMF0pLFM9WWUoUyxELEEseCxnLDIyLFdlWzExXSkseD1ZZSh4LFMsRCxBLGssNyxXZVsxMl0pLEE9WWUoQSx4LFMsRCxiLDEyLFdlWzEzXSksRD1ZZShELEEseCxTLF8sMTcsV2VbMTRdKSxTPVllKFMsRCxBLHgsdywyMixXZVsxNV0pLHg9WmUoeCxTLEQsQSx1LDUsV2VbMTZdKSxBPVplKEEseCxTLEQsaCw5LFdlWzE3XSksRD1aZShELEEseCxTLGcsMTQsV2VbMThdKSxTPVplKFMsRCxBLHgsbywyMCxXZVsxOV0pLHg9WmUoeCxTLEQsQSxkLDUsV2VbMjBdKSxBPVplKEEseCxTLEQsbSw5LFdlWzIxXSksRD1aZShELEEseCxTLHcsMTQsV2VbMjJdKSxTPVplKFMsRCxBLHgsZiwyMCxXZVsyM10pLHg9WmUoeCxTLEQsQSx5LDUsV2VbMjRdKSxBPVplKEEseCxTLEQsXyw5LFdlWzI1XSksRD1aZShELEEseCxTLGwsMTQsV2VbMjZdKSxTPVplKFMsRCxBLHgsdiwyMCxXZVsyN10pLHg9WmUoeCxTLEQsQSxiLDUsV2VbMjhdKSxBPVplKEEseCxTLEQsYyw5LFdlWzI5XSksRD1aZShELEEseCxTLHAsMTQsV2VbMzBdKSxTPVplKFMsRCxBLHgsaywyMCxXZVszMV0pLHg9UWUoeCxTLEQsQSxkLDQsV2VbMzJdKSxBPVFlKEEseCxTLEQsdiwxMSxXZVszM10pLEQ9UWUoRCxBLHgsUyxnLDE2LFdlWzM0XSksUz1RZShTLEQsQSx4LF8sMjMsV2VbMzVdKSx4PVFlKHgsUyxELEEsdSw0LFdlWzM2XSksQT1RZShBLHgsUyxELGYsMTEsV2VbMzddKSxEPVFlKEQsQSx4LFMscCwxNixXZVszOF0pLFM9UWUoUyxELEEseCxtLDIzLFdlWzM5XSkseD1RZSh4LFMsRCxBLGIsNCxXZVs0MF0pLEE9UWUoQSx4LFMsRCxvLDExLFdlWzQxXSksRD1RZShELEEseCxTLGwsMTYsV2VbNDJdKSxTPVFlKFMsRCxBLHgsaCwyMyxXZVs0M10pLHg9UWUoeCxTLEQsQSx5LDQsV2VbNDRdKSxBPVFlKEEseCxTLEQsaywxMSxXZVs0NV0pLEQ9UWUoRCxBLHgsUyx3LDE2LFdlWzQ2XSksUz1RZShTLEQsQSx4LGMsMjMsV2VbNDddKSx4PUplKHgsUyxELEEsbyw2LFdlWzQ4XSksQT1KZShBLHgsUyxELHAsMTAsV2VbNDldKSxEPUplKEQsQSx4LFMsXywxNSxXZVs1MF0pLFM9SmUoUyxELEEseCxkLDIxLFdlWzUxXSkseD1KZSh4LFMsRCxBLGssNixXZVs1Ml0pLEE9SmUoQSx4LFMsRCxsLDEwLFdlWzUzXSksRD1KZShELEEseCxTLG0sMTUsV2VbNTRdKSxTPUplKFMsRCxBLHgsdSwyMSxXZVs1NV0pLHg9SmUoeCxTLEQsQSx2LDYsV2VbNTZdKSxBPUplKEEseCxTLEQsdywxMCxXZVs1N10pLEQ9SmUoRCxBLHgsUyxoLDE1LFdlWzU4XSksUz1KZShTLEQsQSx4LGIsMjEsV2VbNTldKSx4PUplKHgsUyxELEEsZiw2LFdlWzYwXSksQT1KZShBLHgsUyxELGcsMTAsV2VbNjFdKSxEPUplKEQsQSx4LFMsYywxNSxXZVs2Ml0pLFM9SmUoUyxELEEseCx5LDIxLFdlWzYzXSksc1swXT1zWzBdK3h8MCxzWzFdPXNbMV0rU3wwLHNbMl09c1syXStEfDAsc1szXT1zWzNdK0F8MH19LHtrZXk6Il9kb0ZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2RhdGEsdD1lLndvcmRzLHI9OCp0aGlzLl9uRGF0YUJ5dGVzLGE9OCplLnNpZ0J5dGVzO3RbYT4+PjVdfD0xMjg8PDI0LWElMzI7dmFyIG49TWF0aC5mbG9vcihyLzQyOTQ5NjcyOTYpLGk9cjt0WzE1KyhhKzY0Pj4+OTw8NCldPTE2NzExOTM1JihuPDw4fG4+Pj4yNCl8NDI3ODI1NTM2MCYobjw8MjR8bj4+PjgpLHRbMTQrKGErNjQ+Pj45PDw0KV09MTY3MTE5MzUmKGk8PDh8aT4+PjI0KXw0Mjc4MjU1MzYwJihpPDwyNHxpPj4+OCksZS5zaWdCeXRlcz00Kih0Lmxlbmd0aCsxKSx0aGlzLl9wcm9jZXNzKCk7Zm9yKHZhciBzPXRoaXMuX2hhc2gsbz1zLndvcmRzLHU9MDt1PDQ7dSs9MSl7dmFyIGM9b1t1XTtvW3VdPTE2NzExOTM1JihjPDw4fGM+Pj4yNCl8NDI3ODI1NTM2MCYoYzw8MjR8Yz4+PjgpfXJldHVybiBzfX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9cChvKGEucHJvdG90eXBlKSwiY2xvbmUiLHRoaXMpLmNhbGwodGhpcyk7cmV0dXJuIGUuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLGV9fV0pLGF9KEhlKTtIZS5fY3JlYXRlSGVscGVyKCRlKSxIZS5fY3JlYXRlSG1hY0hlbHBlcigkZSk7dmFyIGV0PWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoZSl7dmFyIG47cmV0dXJuIHIodGhpcyxhKSwobj10LmNhbGwodGhpcykpLmNmZz1PYmplY3QuYXNzaWduKG5ldyBMZSx7a2V5U2l6ZTo0LGhhc2hlcjokZSxpdGVyYXRpb25zOjF9LGUpLG59cmV0dXJuIG4oYSxbe2tleToiY29tcHV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsYT10aGlzLmNmZyxuPWEuaGFzaGVyLmNyZWF0ZSgpLGk9VmUuY3JlYXRlKCkscz1pLndvcmRzLG89YS5rZXlTaXplLHU9YS5pdGVyYXRpb25zO3MubGVuZ3RoPG87KXtyJiZuLnVwZGF0ZShyKSxyPW4udXBkYXRlKGUpLmZpbmFsaXplKHQpLG4ucmVzZXQoKTtmb3IodmFyIGM9MTtjPHU7Yys9MSlyPW4uZmluYWxpemUociksbi5yZXNldCgpO2kuY29uY2F0KHIpfXJldHVybiBpLnNpZ0J5dGVzPTQqbyxpfX1dKSxhfShMZSksdHQ9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYShlLG4saSl7dmFyIHM7cmV0dXJuIHIodGhpcyxhKSwocz10LmNhbGwodGhpcykpLmNmZz1PYmplY3QuYXNzaWduKG5ldyBMZSxpKSxzLl94Zm9ybU1vZGU9ZSxzLl9rZXk9bixzLnJlc2V0KCksc31yZXR1cm4gbihhLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXtwKG8oYS5wcm90b3R5cGUpLCJyZXNldCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLl9kb1Jlc2V0KCl9fSx7a2V5OiJwcm9jZXNzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYXBwZW5kKGUpLHRoaXMuX3Byb2Nlc3MoKX19LHtrZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy5fYXBwZW5kKGUpLHRoaXMuX2RvRmluYWxpemUoKX19XSxbe2tleToiY3JlYXRlRW5jcnlwdG9yIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNyZWF0ZSh0aGlzLl9FTkNfWEZPUk1fTU9ERSxlLHQpfX0se2tleToiY3JlYXRlRGVjcnlwdG9yIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNyZWF0ZSh0aGlzLl9ERUNfWEZPUk1fTU9ERSxlLHQpfX0se2tleToiX2NyZWF0ZUhlbHBlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP2Z0OmN0fTtyZXR1cm57ZW5jcnlwdDpmdW5jdGlvbihyLGEsbil7cmV0dXJuIHQoYSkuZW5jcnlwdChlLHIsYSxuKX0sZGVjcnlwdDpmdW5jdGlvbihyLGEsbil7cmV0dXJuIHQoYSkuZGVjcnlwdChlLHIsYSxuKX19fX1dKSxhfShHZSk7dHQuX0VOQ19YRk9STV9NT0RFPTEsdHQuX0RFQ19YRk9STV9NT0RFPTIsdHQua2V5U2l6ZT00LHR0Lml2U2l6ZT00O3ZhciBydD1mdW5jdGlvbihlKXtzKGEsZSk7dmFyIHQ9ZChhKTtmdW5jdGlvbiBhKGUsbil7dmFyIGk7cmV0dXJuIHIodGhpcyxhKSwoaT10LmNhbGwodGhpcykpLl9jaXBoZXI9ZSxpLl9pdj1uLGl9cmV0dXJuIG4oYSxudWxsLFt7a2V5OiJjcmVhdGVFbmNyeXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuRW5jcnlwdG9yLmNyZWF0ZShlLHQpfX0se2tleToiY3JlYXRlRGVjcnlwdG9yIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLkRlY3J5cHRvci5jcmVhdGUoZSx0KX19XSksYX0oTGUpO2Z1bmN0aW9uIGF0KGUsdCxyKXt2YXIgYSxuPWUsaT10aGlzLl9pdjtpPyhhPWksdGhpcy5faXY9dm9pZCAwKTphPXRoaXMuX3ByZXZCbG9jaztmb3IodmFyIHM9MDtzPHI7cys9MSluW3Qrc11ePWFbc119dmFyIG50PWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gcih0aGlzLGEpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBuKGEpfShydCk7bnQuRW5jcnlwdG9yPWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gcih0aGlzLGEpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBuKGEsW3trZXk6InByb2Nlc3NCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9jaXBoZXIsYT1yLmJsb2NrU2l6ZTthdC5jYWxsKHRoaXMsZSx0LGEpLHIuZW5jcnlwdEJsb2NrKGUsdCksdGhpcy5fcHJldkJsb2NrPWUuc2xpY2UodCx0K2EpfX1dKSxhfShudCksbnQuRGVjcnlwdG9yPWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gcih0aGlzLGEpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBuKGEsW3trZXk6InByb2Nlc3NCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9jaXBoZXIsYT1yLmJsb2NrU2l6ZSxuPWUuc2xpY2UodCx0K2EpO3IuZGVjcnlwdEJsb2NrKGUsdCksYXQuY2FsbCh0aGlzLGUsdCxhKSx0aGlzLl9wcmV2QmxvY2s9bn19XSksYX0obnQpO3ZhciBpdD17cGFkOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTQqdCxhPXItZS5zaWdCeXRlcyVyLG49YTw8MjR8YTw8MTZ8YTw8OHxhLGk9W10scz0wO3M8YTtzKz00KWkucHVzaChuKTt2YXIgbz1WZS5jcmVhdGUoaSxhKTtlLmNvbmNhdChvKX0sdW5wYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZSxyPTI1NSZ0LndvcmRzW3Quc2lnQnl0ZXMtMT4+PjJdO3Quc2lnQnl0ZXMtPXJ9fSxzdD1mdW5jdGlvbihlKXtzKGEsZSk7dmFyIHQ9ZChhKTtmdW5jdGlvbiBhKGUsbixpKXt2YXIgcztyZXR1cm4gcih0aGlzLGEpLChzPXQuY2FsbCh0aGlzLGUsbixPYmplY3QuYXNzaWduKHttb2RlOm50LHBhZGRpbmc6aXR9LGkpKSkuYmxvY2tTaXplPTQsc31yZXR1cm4gbihhLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTtwKG8oYS5wcm90b3R5cGUpLCJyZXNldCIsdGhpcykuY2FsbCh0aGlzKTt2YXIgdD10aGlzLmNmZyxyPXQuaXYsbj10Lm1vZGU7dGhpcy5feGZvcm1Nb2RlPT09dGhpcy5jb25zdHJ1Y3Rvci5fRU5DX1hGT1JNX01PREU/ZT1uLmNyZWF0ZUVuY3J5cHRvcjooZT1uLmNyZWF0ZURlY3J5cHRvcix0aGlzLl9taW5CdWZmZXJTaXplPTEpLHRoaXMuX21vZGU9ZS5jYWxsKG4sdGhpcyxyJiZyLndvcmRzKSx0aGlzLl9tb2RlLl9fY3JlYXRvcj1lfX0se2tleToiX2RvUHJvY2Vzc0Jsb2NrIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX21vZGUucHJvY2Vzc0Jsb2NrKGUsdCl9fSx7a2V5OiJfZG9GaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuY2ZnLnBhZGRpbmc7cmV0dXJuIHRoaXMuX3hmb3JtTW9kZT09PXRoaXMuY29uc3RydWN0b3IuX0VOQ19YRk9STV9NT0RFPyh0LnBhZCh0aGlzLl9kYXRhLHRoaXMuYmxvY2tTaXplKSxlPXRoaXMuX3Byb2Nlc3MoITApKTooZT10aGlzLl9wcm9jZXNzKCEwKSx0LnVucGFkKGUpKSxlfX1dKSxhfSh0dCksb3Q9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYShlKXt2YXIgbjtyZXR1cm4gcih0aGlzLGEpLChuPXQuY2FsbCh0aGlzKSkubWl4SW4oZSksbn1yZXR1cm4gbihhLFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fHRoaXMuZm9ybWF0dGVyKS5zdHJpbmdpZnkodGhpcyl9fV0pLGF9KExlKSx1dD17c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe3ZhciB0PWUuY2lwaGVydGV4dCxyPWUuc2FsdDtyZXR1cm4ocj9WZS5jcmVhdGUoWzEzOTg4OTM2ODQsMTcwMTA3NjgzMV0pLmNvbmNhdChyKS5jb25jYXQodCk6dCkudG9TdHJpbmcocWUpfSxwYXJzZTpmdW5jdGlvbihlKXt2YXIgdCxyPXFlLnBhcnNlKGUpLGE9ci53b3JkcztyZXR1cm4gMTM5ODg5MzY4ND09PWFbMF0mJjE3MDEwNzY4MzE9PT1hWzFdJiYodD1WZS5jcmVhdGUoYS5zbGljZSgyLDQpKSxhLnNwbGljZSgwLDQpLHIuc2lnQnl0ZXMtPTE2KSxvdC5jcmVhdGUoe2NpcGhlcnRleHQ6cixzYWx0OnR9KX19LGN0PWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gcih0aGlzLGEpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBuKGEsbnVsbCxbe2tleToiZW5jcnlwdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsYSl7dmFyIG49T2JqZWN0LmFzc2lnbihuZXcgTGUsdGhpcy5jZmcsYSksaT1lLmNyZWF0ZUVuY3J5cHRvcihyLG4pLHM9aS5maW5hbGl6ZSh0KSxvPWkuY2ZnO3JldHVybiBvdC5jcmVhdGUoe2NpcGhlcnRleHQ6cyxrZXk6cixpdjpvLml2LGFsZ29yaXRobTplLG1vZGU6by5tb2RlLHBhZGRpbmc6by5wYWRkaW5nLGJsb2NrU2l6ZTppLmJsb2NrU2l6ZSxmb3JtYXR0ZXI6bi5mb3JtYXR9KX19LHtrZXk6ImRlY3J5cHQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBuPXQsaT1PYmplY3QuYXNzaWduKG5ldyBMZSx0aGlzLmNmZyxhKTtyZXR1cm4gbj10aGlzLl9wYXJzZShuLGkuZm9ybWF0KSxlLmNyZWF0ZURlY3J5cHRvcihyLGkpLmZpbmFsaXplKG4uY2lwaGVydGV4dCl9fSx7a2V5OiJfcGFyc2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP3QucGFyc2UoZSx0aGlzKTplfX1dKSxhfShMZSk7Y3QuY2ZnPU9iamVjdC5hc3NpZ24obmV3IExlLHtmb3JtYXQ6dXR9KTt2YXIgbHQ9e2V4ZWN1dGU6ZnVuY3Rpb24oZSx0LHIsYSl7dmFyIG49YTtufHwobj1WZS5yYW5kb20oOCkpO3ZhciBpPWV0LmNyZWF0ZSh7a2V5U2l6ZTp0K3J9KS5jb21wdXRlKGUsbikscz1WZS5jcmVhdGUoaS53b3Jkcy5zbGljZSh0KSw0KnIpO3JldHVybiBpLnNpZ0J5dGVzPTQqdCxvdC5jcmVhdGUoe2tleTppLGl2OnMsc2FsdDpufSl9fSxmdD1mdW5jdGlvbihlKXtzKGEsZSk7dmFyIHQ9ZChhKTtmdW5jdGlvbiBhKCl7cmV0dXJuIHIodGhpcyxhKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gbihhLG51bGwsW3trZXk6ImVuY3J5cHQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBuPU9iamVjdC5hc3NpZ24obmV3IExlLHRoaXMuY2ZnLGEpLGk9bi5rZGYuZXhlY3V0ZShyLGUua2V5U2l6ZSxlLml2U2l6ZSk7bi5pdj1pLml2O3ZhciBzPWN0LmVuY3J5cHQuY2FsbCh0aGlzLGUsdCxpLmtleSxuKTtyZXR1cm4gcy5taXhJbihpKSxzfX0se2tleToiZGVjcnlwdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsYSl7dmFyIG49dCxpPU9iamVjdC5hc3NpZ24obmV3IExlLHRoaXMuY2ZnLGEpO249dGhpcy5fcGFyc2UobixpLmZvcm1hdCk7dmFyIHM9aS5rZGYuZXhlY3V0ZShyLGUua2V5U2l6ZSxlLml2U2l6ZSxuLnNhbHQpO3JldHVybiBpLml2PXMuaXYsY3QuZGVjcnlwdC5jYWxsKHRoaXMsZSxuLHMua2V5LGkpfX1dKSxhfShjdCk7ZnQuY2ZnPU9iamVjdC5hc3NpZ24oY3QuY2ZnLHtrZGY6bHR9KTtmb3IodmFyIGR0PVtdLGh0PVtdLHB0PVtdLHZ0PVtdLHl0PVtdLG10PVtdLGd0PVtdLGt0PVtdLGJ0PVtdLF90PVtdLHd0PVtdLHh0PTA7eHQ8MjU2O3h0Kz0xKXd0W3h0XT14dDwxMjg/eHQ8PDE6eHQ8PDFeMjgzO2Zvcih2YXIgU3Q9MCxEdD0wLEF0PTA7QXQ8MjU2O0F0Kz0xKXt2YXIgVHQ9RHReRHQ8PDFeRHQ8PDJeRHQ8PDNeRHQ8PDQ7VHQ9VHQ+Pj44XjI1NSZUdF45OSxkdFtTdF09VHQsaHRbVHRdPVN0O3ZhciBCdD13dFtTdF0sRXQ9d3RbQnRdLFV0PXd0W0V0XSxDdD0yNTcqd3RbVHRdXjE2ODQzMDA4KlR0O3B0W1N0XT1DdDw8MjR8Q3Q+Pj44LHZ0W1N0XT1DdDw8MTZ8Q3Q+Pj4xNix5dFtTdF09Q3Q8PDh8Q3Q+Pj4yNCxtdFtTdF09Q3QsQ3Q9MTY4NDMwMDkqVXReNjU1MzcqRXReMjU3KkJ0XjE2ODQzMDA4KlN0LGd0W1R0XT1DdDw8MjR8Q3Q+Pj44LGt0W1R0XT1DdDw8MTZ8Q3Q+Pj4xNixidFtUdF09Q3Q8PDh8Q3Q+Pj4yNCxfdFtUdF09Q3QsU3Q/KFN0PUJ0Xnd0W3d0W3d0W1V0XkJ0XV1dLER0Xj13dFt3dFtEdF1dKTpTdD1EdD0xfXZhciBQdD1bMCwxLDIsNCw4LDE2LDMyLDY0LDEyOCwyNyw1NF0sSXQ9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYSgpe3JldHVybiByKHRoaXMsYSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG4oYSxbe2tleToiX2RvUmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU7aWYoIXRoaXMuX25Sb3VuZHN8fHRoaXMuX2tleVByaW9yUmVzZXQhPT10aGlzLl9rZXkpe3RoaXMuX2tleVByaW9yUmVzZXQ9dGhpcy5fa2V5O3ZhciB0PXRoaXMuX2tleVByaW9yUmVzZXQscj10LndvcmRzLGE9dC5zaWdCeXRlcy80O3RoaXMuX25Sb3VuZHM9YSs2O3ZhciBuPTQqKHRoaXMuX25Sb3VuZHMrMSk7dGhpcy5fa2V5U2NoZWR1bGU9W107Zm9yKHZhciBpPXRoaXMuX2tleVNjaGVkdWxlLHM9MDtzPG47cys9MSlzPGE/aVtzXT1yW3NdOihlPWlbcy0xXSxzJWE/YT42JiZzJWE9PTQmJihlPWR0W2U+Pj4yNF08PDI0fGR0W2U+Pj4xNiYyNTVdPDwxNnxkdFtlPj4+OCYyNTVdPDw4fGR0WzI1NSZlXSk6KGU9ZHRbKGU9ZTw8OHxlPj4+MjQpPj4+MjRdPDwyNHxkdFtlPj4+MTYmMjU1XTw8MTZ8ZHRbZT4+PjgmMjU1XTw8OHxkdFsyNTUmZV0sZV49UHRbcy9hfDBdPDwyNCksaVtzXT1pW3MtYV1eZSk7dGhpcy5faW52S2V5U2NoZWR1bGU9W107Zm9yKHZhciBvPXRoaXMuX2ludktleVNjaGVkdWxlLHU9MDt1PG47dSs9MSl7dmFyIGM9bi11O2U9dSU0P2lbY106aVtjLTRdLG9bdV09dTw0fHxjPD00P2U6Z3RbZHRbZT4+PjI0XV1ea3RbZHRbZT4+PjE2JjI1NV1dXmJ0W2R0W2U+Pj44JjI1NV1dXl90W2R0WzI1NSZlXV19fX19LHtrZXk6ImVuY3J5cHRCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9kb0NyeXB0QmxvY2soZSx0LHRoaXMuX2tleVNjaGVkdWxlLHB0LHZ0LHl0LG10LGR0KX19LHtrZXk6ImRlY3J5cHRCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLGE9clt0KzFdO3JbdCsxXT1yW3QrM10sclt0KzNdPWEsdGhpcy5fZG9DcnlwdEJsb2NrKHIsdCx0aGlzLl9pbnZLZXlTY2hlZHVsZSxndCxrdCxidCxfdCxodCksYT1yW3QrMV0sclt0KzFdPXJbdCszXSxyW3QrM109YX19LHtrZXk6Il9kb0NyeXB0QmxvY2siLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLGEsbixpLHMsbyl7Zm9yKHZhciB1PWUsYz10aGlzLl9uUm91bmRzLGw9dVt0XV5yWzBdLGY9dVt0KzFdXnJbMV0sZD11W3QrMl1eclsyXSxoPXVbdCszXV5yWzNdLHA9NCx2PTE7djxjO3YrPTEpe3ZhciB5PWFbbD4+PjI0XV5uW2Y+Pj4xNiYyNTVdXmlbZD4+PjgmMjU1XV5zWzI1NSZoXV5yW3BdO3ArPTE7dmFyIG09YVtmPj4+MjRdXm5bZD4+PjE2JjI1NV1eaVtoPj4+OCYyNTVdXnNbMjU1JmxdXnJbcF07cCs9MTt2YXIgZz1hW2Q+Pj4yNF1ebltoPj4+MTYmMjU1XV5pW2w+Pj44JjI1NV1ec1syNTUmZl1ecltwXTtwKz0xO3ZhciBrPWFbaD4+PjI0XV5uW2w+Pj4xNiYyNTVdXmlbZj4+PjgmMjU1XV5zWzI1NSZkXV5yW3BdO3ArPTEsbD15LGY9bSxkPWcsaD1rfXZhciBiPShvW2w+Pj4yNF08PDI0fG9bZj4+PjE2JjI1NV08PDE2fG9bZD4+PjgmMjU1XTw8OHxvWzI1NSZoXSlecltwXTtwKz0xO3ZhciBfPShvW2Y+Pj4yNF08PDI0fG9bZD4+PjE2JjI1NV08PDE2fG9baD4+PjgmMjU1XTw8OHxvWzI1NSZsXSlecltwXTtwKz0xO3ZhciB3PShvW2Q+Pj4yNF08PDI0fG9baD4+PjE2JjI1NV08PDE2fG9bbD4+PjgmMjU1XTw8OHxvWzI1NSZmXSlecltwXTtwKz0xO3ZhciB4PShvW2g+Pj4yNF08PDI0fG9bbD4+PjE2JjI1NV08PDE2fG9bZj4+PjgmMjU1XTw8OHxvWzI1NSZkXSlecltwXTtwKz0xLHVbdF09Yix1W3QrMV09Xyx1W3QrMl09dyx1W3QrM109eH19XSksYX0oc3QpO0l0LmtleVNpemU9ODt2YXIgTXQ9c3QuX2NyZWF0ZUhlbHBlcihJdCksenQ9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYSgpe3JldHVybiByKHRoaXMsYSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG4oYSl9KHJ0KTt6dC5FbmNyeXB0b3I9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYSgpe3JldHVybiByKHRoaXMsYSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG4oYSxbe2tleToicHJvY2Vzc0Jsb2NrIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsYT10aGlzLl9jaXBoZXIsbj1hLmJsb2NrU2l6ZSxpPXRoaXMuX2l2LHM9dGhpcy5fY291bnRlcjtpJiYodGhpcy5fY291bnRlcj1pLnNsaWNlKDApLHM9dGhpcy5fY291bnRlcix0aGlzLl9pdj12b2lkIDApO3ZhciBvPXMuc2xpY2UoMCk7YS5lbmNyeXB0QmxvY2sobywwKSxzW24tMV09c1tuLTFdKzF8MDtmb3IodmFyIHU9MDt1PG47dSs9MSlyW3QrdV1ePW9bdV19fV0pLGF9KHp0KSx6dC5EZWNyeXB0b3I9enQuRW5jcnlwdG9yO3ZhciBPdD17cGFkOmZ1bmN0aW9uKCl7fSx1bnBhZDpmdW5jdGlvbigpe319LFJ0PXtkZWNyeXB0V29yZEFycmF5OmZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1GZS5wYXJzZSh0KSxuPUZlLnBhcnNlKGllKHIpKSxpPVZlLmNyZWF0ZShuZXcgVWludDhBcnJheShlKSkscz1NdC5kZWNyeXB0KG90LmNyZWF0ZSh7Y2lwaGVydGV4dDppfSksYSx7aXY6bixtb2RlOnp0LHBhZGRpbmc6T3R9KTtyZXR1cm4gUnQud29yZEFycmF5VG9VaW50OEFycmF5KHMpfSx3b3JkQXJyYXlUb1VpbnQ4QXJyYXk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuc2lnQnl0ZXMscj1lLndvcmRzLGE9bmV3IFVpbnQ4QXJyYXkodCksbj0wLGk9MDtuIT09dDspe3ZhciBzPXJbaSsrXTtpZihhW24rK109KDQyNzgxOTAwODAmcyk+Pj4yNCxuPT09dClicmVhaztpZihhW24rK109KDE2NzExNjgwJnMpPj4+MTYsbj09PXQpYnJlYWs7aWYoYVtuKytdPSg2NTI4MCZzKT4+Pjgsbj09PXQpYnJlYWs7YVtuKytdPTI1NSZzfXJldHVybiBhfSxkZWNvZGVyQUVTQ1RSRGF0YTpmdW5jdGlvbihlLHQscil7aWYoZS52aWRlb1NlbmMpe3ZhciBhPWUua2lkVmFsdWUsbj1lLnZpZGVvU2VuYztlLnNhbXBsZXMuZm9yRWFjaCgoZnVuY3Rpb24odCxpKXt2YXIgcz1uW2ldLG89dC5kYXRhLHU9W10sYz1bXSxsPXMuSW5pdGlhbGl6YXRpb25WZWN0b3I7aWYocy5zdWJzYW1wbGVzJiZzLnN1YnNhbXBsZXMubGVuZ3RoKXMuc3Vic2FtcGxlcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLkJ5dGVzT2ZDbGVhckRhdGErZS5CeXRlc09mUHJvdGVjdGVkRGF0YSxyPW8uc2xpY2UoMCx0KTt1LnB1c2goci5zbGljZSgwLGUuQnl0ZXNPZkNsZWFyRGF0YSkpLGMucHVzaChyLnNsaWNlKGUuQnl0ZXNPZkNsZWFyRGF0YSkpLG89by5zbGljZSh0KX0pKTtlbHNle3ZhciBmPXQuc2l6ZTt1LnB1c2goby5zbGljZSgwLDApKSxjLnB1c2goby5zbGljZSgwLGYpKSxvPW8uc2xpY2UoZil9dmFyIGQ9bmV3IEllO2Qud3JpdGUuYXBwbHkoZCxjKTt2YXIgaD1yP3IoZC5idWZmZXIsYSxsKTpSdC5kZWNyeXB0V29yZEFycmF5KGQuYnVmZmVyLGEsbCkscD1uZXcgSWU7dS5mb3JFYWNoKChmdW5jdGlvbihlLHQpe3ZhciByPWNbdF0ubGVuZ3RoLGE9aC5zbGljZSgwLHIpO3Aud3JpdGUoZSkscC53cml0ZShhKSxoPWguc2xpY2Uocil9KSksZS5zYW1wbGVzW2ldLmRhdGE9cC5idWZmZXJ9KSl9aWYodC5hdWRpb1NlbmMpe3ZhciBpPXQua2lkVmFsdWUscz10LmF1ZGlvU2VuYzt0LnNhbXBsZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSxhKXt2YXIgbj1zW2FdLG89cj9yKGUuZGF0YSxpLG4uSW5pdGlhbGl6YXRpb25WZWN0b3IpOlJ0LmRlY3J5cHRXb3JkQXJyYXkoZS5kYXRhLGksbi5Jbml0aWFsaXphdGlvblZlY3Rvcik7dC5zYW1wbGVzW2FdLmRhdGE9b30pKX19fSxMdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxhLG4scyl7dmFyIG89dGhpcztyKHRoaXMsZSksaSh0aGlzLCJfdmlkZW9TYW1wbGVzIixbXSksaSh0aGlzLCJfYXVkaW9TYW1wbGVzIixbXSksaSh0aGlzLCJfbGFzdFJlbWFpbkJ1ZmZlciIsW10pLGkodGhpcywiX2xhc3RSZW1haW5CdWZmZXJTdGFydFBvcyIsMCksdGhpcy52aWRlb1RyYWNrPW5ldyBSLHRoaXMuYXVkaW9UcmFjaz1uZXcgTCx0aGlzLm1ldGFkYXRhVHJhY2s9bnx8bmV3IEgsdGhpcy5sb2c9bmV3IE9lKCJNUDREZW11eGVyIiwhc3x8IXMub3BlbkxvZ3x8IXMub3BlbkxvZyksdCYmdC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDsodD1vLl92aWRlb1NhbXBsZXMpLnB1c2guYXBwbHkodCx5KGUuZnJhbWVzKSl9KSksYSYmYS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDsodD1vLl9hdWRpb1NhbXBsZXMpLnB1c2guYXBwbHkodCx5KGUuZnJhbWVzKSl9KSl9cmV0dXJuIG4oZSxbe2tleToicGFyc2VTYW1wbGVzIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIm1vb3YgaXMgcmVxdWlyZWQiKTtpZih0aGlzLnZpZGVvVHJhY2suY29kZWN8fHRoaXMuYXVkaW9UcmFjay5jb2RlY3x8KERlLm1vb3ZUb1RyYWNrKGUsdGhpcy52aWRlb1RyYWNrLHRoaXMuYXVkaW9UcmFjayksdGhpcy52aWRlb1NlbmM9dGhpcy52aWRlb1RyYWNrLnZpZGVvU2VuYyx0aGlzLmF1ZGlvU2VuYz10aGlzLmF1ZGlvVHJhY2suYXVkaW9TZW5jKSwhdGhpcy5fYXVkaW9TYW1wbGVzLmxlbmd0aCYmIXRoaXMuX3ZpZGVvU2FtcGxlcy5sZW5ndGgpe3ZhciB0PURlLm1vb3ZUb1NhbXBsZXMoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgcGFyc2Ugc2FtcGxlcyBmcm9tIG1vb3YgYm94Iik7dGhpcy5fdmlkZW9TYW1wbGVzPXQudmlkZW9TYW1wbGVzfHxbXSx0aGlzLl9hdWRpb1NhbXBsZXM9dC5hdWRpb1NhbXBsZXN8fFtdfX19LHtrZXk6ImRlbXV4Iix2YWx1ZTpmdW5jdGlvbihlLHQscixhLG4pe3RoaXMucGFyc2VTYW1wbGVzKG4pO3ZhciBpLHMsbyx1PXRoaXMudmlkZW9UcmFjayxjPXRoaXMuYXVkaW9UcmFjaztpZih1LnNhbXBsZXM9W10sYy5zYW1wbGVzPVtdLHIpe2Zvcih2YXIgbCxmPTAsZD1yWzBdLGg9clsxXTtkPD1oO2QrKyl7aWYoIShpPXRoaXMuX3ZpZGVvU2FtcGxlc1tkXSkpdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgZm91bmQgdmlkZW8gZnJhbWUgIyIuY29uY2F0KGQpKTtvPWkub2Zmc2V0LXQscz1lLnN1YmFycmF5KG8sbytpLnNpemUpLChsPW5ldyBWKGkucHRzfHxpLmR0cyxpLmR0cykpLmR1cmF0aW9uPWkuZHVyYXRpb24sbC5nb3BJZD1pLmdvcElkLGkua2V5ZnJhbWUmJmwuc2V0VG9LZXlmcmFtZSgpO2Zvcih2YXIgcD0wLHY9cy5sZW5ndGgtMTtwPHY7KWY9cmUocyxwKSxwKz00LGwudW5pdHMucHVzaChzLnN1YmFycmF5KHAscCtmKSkscCs9Zjt1LnNhbXBsZXMucHVzaChsKX11LmJhc2VNZWRpYURlY29kZVRpbWU9dS5zYW1wbGVzWzBdLmR0c31pZihhKXtmb3IodmFyIHk9YVswXSxtPWFbMV07eTw9bTt5Kyspe2lmKCEoaT10aGlzLl9hdWRpb1NhbXBsZXNbeV0pKXRocm93IG5ldyBFcnJvcigiY2Fubm90IGZvdW5kIHZpZGVvIGZyYW1lICMiLmNvbmNhdCh5KSk7bz1pLm9mZnNldC10LHM9ZS5zdWJhcnJheShvLG8raS5zaXplKSxjLnNhbXBsZXMucHVzaChuZXcgRihpLmR0cyxzLGkuZHVyYXRpb24pKX1jLmJhc2VNZWRpYURlY29kZVRpbWU9Yy5zYW1wbGVzWzBdLmR0c31yZXR1cm57dmlkZW9UcmFjazp1LGF1ZGlvVHJhY2s6YyxtZXRhZGF0YVRyYWNrOnRoaXMubWV0YWRhdGFUcmFja319fSx7a2V5OiJkZW11eFBhcnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLGEsbixpLHMsbyl7aWYodGhpcy5wYXJzZVNhbXBsZXMobiksdGhpcy52aWRlb1RyYWNrLnVzZUVNRT1pLHRoaXMuYXVkaW9UcmFjay51c2VFTUU9aSx0aGlzLl9sYXN0UmVtYWluQnVmZmVyJiZ0aGlzLl9sYXN0UmVtYWluQnVmZmVyLmJ5dGVMZW5ndGg+MCYmdD50aGlzLl9sYXN0UmVtYWluQnVmZmVyU3RhcnRQb3MmJnQ8PXRoaXMuX2xhc3RSZW1haW5CdWZmZXJTdGFydFBvcyt0aGlzLl9sYXN0UmVtYWluQnVmZmVyLmJ5dGVMZW5ndGgpZm9yKHZhciB1PTA7dTwyMDspdHJ5e3ZhciBjPXRoaXMuX2xhc3RSZW1haW5CdWZmZXIuc3ViYXJyYXkoMCx0LXRoaXMuX2xhc3RSZW1haW5CdWZmZXJTdGFydFBvcyksbD1uZXcgVWludDhBcnJheShlLmJ5dGVMZW5ndGgrYy5ieXRlTGVuZ3RoKTtsLnNldChjLDApLGwuc2V0KG5ldyBVaW50OEFycmF5KGUpLGMuYnl0ZUxlbmd0aCksZT1sLHQtPWMuYnl0ZUxlbmd0aCx0aGlzLl9sYXN0UmVtYWluQnVmZmVyPW51bGwsdGhpcy5fbGFzdFJlbWFpbkJ1ZmZlclN0YXJ0UG9zPTA7YnJlYWt9Y2F0Y2goVCl7aWYoISh1PDIwKSl0aHJvdyBuZXcgRXJyb3IoIm5ldyBVaW50OEFycmF5IGVycm9yOiwiK1QuZXJyb3JNZXNzYWdlKTt1Kyt9dmFyIGYsZCxoLHA9dGhpcy52aWRlb1RyYWNrLHY9dGhpcy5hdWRpb1RyYWNrO3Auc2FtcGxlcz1bXSx2LnNhbXBsZXM9W10scC52aWRlb1NlbmM9bnVsbCx2LmF1ZGlvU2VuYz1udWxsO3ZhciB5PTAsbT0wO2lmKHRoaXMuX3ZpZGVvU2FtcGxlcy5sZW5ndGg+MCYmci5sZW5ndGg+MCl7Zm9yKHZhciBnLGs9ZS5ieXRlTGVuZ3RoK3QsYj1yWzBdO2I8PXJbMV07YisrKXtpZighKGY9dGhpcy5fdmlkZW9TYW1wbGVzW2JdKSl0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCBmb3VuZCB2aWRlbyBmcmFtZSAjIi5jb25jYXQoYikpO2Yub2Zmc2V0Pj10JiZmLm9mZnNldCtmLnNpemU8PWsmJih5PShoPWYub2Zmc2V0LXQpK2Yuc2l6ZSxkPWUuc3ViYXJyYXkoaCx5KSwoZz1uZXcgVihmLnB0c3x8Zi5kdHMsZi5kdHMpKS5kdXJhdGlvbj1mLmR1cmF0aW9uLGcuZ29wSWQ9Zi5nb3BJZCxnLnNhbXBsZU9mZnNldD1mLmluZGV4LGYua2V5ZnJhbWUmJmcuc2V0VG9LZXlmcmFtZSgpLGcuZGF0YT1kLGcuc2l6ZT1mLnNpemUscC5zYW1wbGVzLnB1c2goZykpfXAuc2FtcGxlcy5sZW5ndGg+MCYmKHAuZ29wSWQ9cC5zYW1wbGVzWzBdLmdvcElkLHAuYmFzZU1lZGlhRGVjb2RlVGltZT1wLnNhbXBsZXNbMF0uZHRzLHAuc3RhcnRQdHM9cC5zYW1wbGVzWzBdLnB0cy9wLnRpbWVzY2FsZSxwLmVuZFB0cz1wLnNhbXBsZXNbcC5zYW1wbGVzLmxlbmd0aC0xXS5wdHMvcC50aW1lc2NhbGUsdGhpcy52aWRlb1NlbmMmJihwLnZpZGVvU2VuYz10aGlzLnZpZGVvU2VuYy5zbGljZShwLnNhbXBsZXNbMF0uc2FtcGxlT2Zmc2V0LHAuc2FtcGxlc1swXS5zYW1wbGVPZmZzZXQrcC5zYW1wbGVzLmxlbmd0aCkscC5raWRWYWx1ZT1zKSl9aWYodGhpcy5fYXVkaW9TYW1wbGVzLmxlbmd0aD4wJiZhLmxlbmd0aD4wKXtmb3IodmFyIF89YVswXTtfPD1hWzFdO18rKyl7aWYoIShmPXRoaXMuX2F1ZGlvU2FtcGxlc1tfXSkpdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgZm91bmQgdmlkZW8gZnJhbWUgIyIuY29uY2F0KF8pKTtmLm9mZnNldD49dCYmZi5vZmZzZXQrZi5zaXplPD1lLmJ5dGVMZW5ndGgrdCYmKG09KGg9Zi5vZmZzZXQtdCkrZi5zaXplLGQ9ZS5zdWJhcnJheShoLG0pLHYuc2FtcGxlcy5wdXNoKG5ldyBGKGYuZHRzLGQsZi5kdXJhdGlvbixmLmluZGV4KSkpfXYuc2FtcGxlcy5sZW5ndGg+MCYmKHYuZ29wSWQ9di5zYW1wbGVzWzBdLmdvcElkfHxwLmdvcElkLHYuYmFzZU1lZGlhRGVjb2RlVGltZT12LnNhbXBsZXNbMF0uZHRzLHYuc3RhcnRQdHM9di5zYW1wbGVzWzBdLnB0cy92LnRpbWVzY2FsZSx2LmVuZFB0cz12LnNhbXBsZXNbdi5zYW1wbGVzLmxlbmd0aC0xXS5wdHMvdi50aW1lc2NhbGUsdGhpcy5hdWRpb1NlbmMmJih2LmF1ZGlvU2VuYz10aGlzLmF1ZGlvU2VuYy5zbGljZSh2LnNhbXBsZXNbMF0uc2FtcGxlT2Zmc2V0LHYuc2FtcGxlc1swXS5zYW1wbGVPZmZzZXQrdi5zYW1wbGVzLmxlbmd0aCksdi5raWRWYWx1ZT1zKSl9dGhpcy5kZWNvZGVyRGF0YShwLHYsbyk7Zm9yKHZhciB3PTAseD0wO3g8cC5zYW1wbGVzLmxlbmd0aDt4KyspZm9yKHZhciBTPTAsRD1wLnNhbXBsZXNbeF0uZGF0YSxBPUQubGVuZ3RoLTE7UzxBOyl3PXJlKEQsUyksUys9NCxwLnNhbXBsZXNbeF0udW5pdHMucHVzaChELnN1YmFycmF5KFMsUyt3KSksUys9dztyZXR1cm4gdGhpcy5fbGFzdFJlbWFpbkJ1ZmZlcj1lLnN1YmFycmF5KE1hdGgubWF4KHksbSkpLHRoaXMuX2xhc3RSZW1haW5CdWZmZXIuYnl0ZUxlbmd0aD4wP3RoaXMuX2xhc3RSZW1haW5CdWZmZXJTdGFydFBvcz10K2UuYnl0ZUxlbmd0aC10aGlzLl9sYXN0UmVtYWluQnVmZmVyLmJ5dGVMZW5ndGg6dGhpcy5fbGFzdFJlbWFpbkJ1ZmZlclN0YXJ0UG9zPTAse3ZpZGVvVHJhY2s6cCxhdWRpb1RyYWNrOnYsbWV0YWRhdGFUcmFjazp0aGlzLm1ldGFkYXRhVHJhY2t9fX0se2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdmlkZW9TYW1wbGVzPVtdLHRoaXMuX2F1ZGlvU2FtcGxlcz1bXSx0aGlzLl9sYXN0UmVtYWluQnVmZmVyPW51bGwsdGhpcy5fbGFzdFJlbWFpbkJ1ZmZlclN0YXJ0UG9zPTAsdGhpcy52aWRlb1RyYWNrLnJlc2V0KCksdGhpcy5hdWRpb1RyYWNrLnJlc2V0KCksdGhpcy5tZXRhZGF0YVRyYWNrLnJlc2V0KCl9fSx7a2V5OiJkZWNvZGVyRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2UudXNlRU1FfHx0LnVzZUVNRXx8UnQuZGVjb2RlckFFU0NUUkRhdGEoZSx0LHIpfX1dLFt7a2V5OiJwcm9iZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIERlLnByb2JlKGUpfX1dKSxlfSgpLFZ0PXtub3dUaW1lOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBwYXJzZUludChwZXJmb3JtYW5jZS5ub3coKSwxMCl9Y2F0Y2goZSl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9fSxjb25jYXREYXRhOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W10sYT0wO2UmJnIucHVzaChlKSx0JiZyLnB1c2godCksci5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihhKz1lLmJ5dGVMZW5ndGgpLCEwfSkpO3ZhciBuPW5ldyBVaW50OEFycmF5KGEpLGk9MDtyZXR1cm4gci5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihuLnNldChlLGkpLGkrPWUuYnl0ZUxlbmd0aCksITB9KSksbn19O29ubWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgcj1lLmRhdGE7c3dpdGNoKHIubWV0aG9kKXtjYXNlImluaXQiOnRoaXMuY29kZWNUeXBlPXIuYXJncy5jb2RlY1R5cGUsdGhpcy5vcGVubG9nPXIuYXJncy5vcGVuTG9nLHRoaXMuTVA0RGVtdXhlcj1udWxsLHRoaXMuRk1QNFJlbXV4ZXI9bnVsbCx0aGlzLl9uZWVkSW5pdFNlZ21lbnQ9ITAsdGhpcy5zdXBwb3J0SGV2Yz1yLmFyZ3Muc3VwcG9ydEhldmM7YnJlYWs7Y2FzZSJ0cmFuc211eCI6dmFyIGE9ZS5kYXRhLmFyZ3Msbj1uZXcgVWludDhBcnJheShlLmRhdGEuYnVmZmVyKTt0aGlzLk1QNERlbXV4ZXJ8fCh0aGlzLk1QNERlbXV4ZXI9bmV3IEx0KG51bGwsbnVsbCxudWxsLHtvcGVubG9nOnRoaXMub3BlbmxvZ30pKTt2YXIgaSxzPXRoaXMuTVA0RGVtdXhlci5kZW11eFBhcnQobixhLnN0YXJ0LGEudmlkZW9JZHgsYS5hdWRpb0lkeCxhLm1vb3YsYS51c2VFTUUsYS5raWRWYWx1ZSk7aWYodGhpcy5GTVA0UmVtdXhlcnx8ImgyNjUiPT09dGhpcy5jb2RlY1R5cGUmJiF0aGlzLnN1cHBvcnRIZXZjfHwodGhpcy5GTVA0UmVtdXhlcj1uZXcgUmUodGhpcy5NUDREZW11eGVyLnZpZGVvVHJhY2ssdGhpcy5NUDREZW11eGVyLmF1ZGlvVHJhY2sse29wZW5Mb2c6dGhpcy5vcGVubG9nfSkpLHRoaXMuRk1QNFJlbXV4ZXIpe3ZhciBvPXRoaXMuRk1QNFJlbXV4ZXIucmVtdXgodGhpcy5fbmVlZEluaXRTZWdtZW50LHtpbml0TWVyZ2U6ITB9KTtvLmluaXRTZWdtZW50JiYodGhpcy5fbmVlZEluaXRTZWdtZW50PSExKSxpPXtidWZmZXI6VnQuY29uY2F0RGF0YShvLmF1ZGlvU2VnbWVudCxvLnZpZGVvU2VnbWVudCkscmFuZ2U6YS5jb250ZXh0LnJhbmdlLHN0YXRlOmEuY29udGV4dC5zdGF0ZSxjb250ZXh0OntyYW5nZTphLmNvbnRleHQucmFuZ2UsZnJhZ0luZGV4OmEuY29udGV4dC5mcmFnSW5kZXgsc3RhcnRQdHM6TWF0aC5taW4ocy52aWRlb1RyYWNrLnN0YXJ0UHRzLHMuYXVkaW9UcmFjay5zdGFydFB0cyksZW5kUHRzOk1hdGgubWF4KHMudmlkZW9UcmFjay5lbmRQdHMscy5hdWRpb1RyYWNrLmVuZFB0cyl9LGluaXRTZWc6by5pbml0U2VnbWVudH19dGhpcy5wb3N0TWVzc2FnZSh7bWV0aG9kOiJ0cmFuc211eCIsaWQ6ZS5kYXRhLmlkLGFyZ3M6dCh7fSxpKX0pO2JyZWFrO2Nhc2UicmVzZXQiOnRoaXMuRk1QNFJlbXV4ZXImJnRoaXMuRk1QNFJlbXV4ZXIucmVzZXQoKSx0aGlzLk1QNERlbXV4ZXImJnRoaXMuTVA0RGVtdXhlci5yZXNldCgpLHRoaXMuRk1QNFJlbXV4ZXI9bnVsbCx0aGlzLk1QNERlbXV4ZXI9bnVsbCx0aGlzLl9uZWVkSW5pdFNlZ21lbnQ9ITB9fX0oKTsK",Oi=typeof window<"u"&&window.Blob&&new Blob([atob(zs)],{type:"text/javascript;charset=utf-8"});function dr(){var s=Oi&&(window.URL||window.webkitURL).createObjectURL(Oi);try{return s?new Worker(s,{}):new Worker("data:application/javascript;base64,"+zs,{type:"module"})}finally{s&&(window.URL||window.webkitURL).revokeObjectURL(s)}}var cr=function(s){mi(l,s);var i=pi(l);function l(e){var t;return tt(this,l),t=i.call(this),t.openlog=e.openLog,t.codecType=e.codecType,t.supportHevc=e.supportHevc,t.worker=new dr,t.worker.onmessage=function(n){t.emit(n.data.method,n.data)},t.worker.postMessage({method:"init",id:e.id||0,args:{openlog:t.openlog,supportHevc:t.supportHevc,codecType:t.codecType}}),t}return it(l,[{key:"transmux",value:function(t,n,a,o,r,d,c,u,m){var p=n.buffer;this.worker&&this.worker.postMessage({method:"transmux",id:t,buffer:p,args:{start:a,videoIdx:o,audioIdx:r,moov:d,useEME:c,kidValue:u,context:m}},[p])}},{key:"reset",value:function(){this.worker&&this.worker.postMessage({method:"reset"})}},{key:"destroy",value:function(){this.worker&&this.worker.terminate()}}]),l}(di),pe={ERROR:"error",META_READY:"metaReady",MOOV_REQ_PROGRESS:"moov_request_Progress",UPDATE_LOAD_IDX:"update_load_fragmentIdx"},ur=function(s){mi(l,s);var i=pi(l);function l(e,t){var n;if(tt(this,l),n=i.call(this),Se(se(n),"onprogressDataArrive",function(){var a=ue(j().mark(function o(r,d,c){var u;return j().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:r&&r.byteLength>0&&(u=n.timeRange[c.index].range,u&&c.range[1]>=u[1]&&!d&&(d=!0),n.log("[mp4.loadFragment onprogressDataArrive ] receive data, >>> index,",c.index,",range,",JSON.stringify(c.range),", dataLen,",r.byteLength),n._mux(r,c.range[0],c.index,d)),d&&(n.timeRange[c.index].downloaded=!0,n.bufferLoadedPos=-1,n.log("[FragLoadDowned],fragmentIdx,",c.index,",rangeEnd,",c.range[1]));case 2:case"end":return p.stop()}},o)}));return function(o,r,d){return a.apply(this,arguments)}}()),n.url=e,n.options=l.getDefaultConfig(),Object.keys(t).map(function(a){t[a]!==void 0&&t[a]!==null&&(n.options[a]=t[a])}),n.timeRange=[],n.CHUNK_SIZE=n.options.chunkSize,n.bufferLoaded=new Uint8Array(0),n.bufferLoadedPos=0,n.meta=null,n.videoTrak=null,n.audioTrak=null,n.canDownload=!0,n._loadSuccessCallBack=null,n._isPending=!1,n._metaLoading=!1,n.MP4Loader=new sr(Ue(Ue({segmentDuration:n.options.segmentDuration,url:e,vid:t.vid,retry:n.options.retryCount,retryDelay:n.options.retryDelay,timeout:n.options.timeout},t.reqOptions),{},{preferMMS:n.options.preferMMS,openLog:ut()})),n.fMP4Demuxer=null,n.MP4Demuxer=null,n.FMP4Remuxer=null,n._needInitSegment=!0,n._switchBitRate=!1,n.enableWorker=n.options.enableWorker,n.enableWorker&&typeof Worker<"u")try{n.workerSequence=0,n.transmuxerWorkerControl=new cr({id:n.workerSequence,codecType:t.codecType,supportHevc:n.options.supportHevc,openLog:ut()}),n.transmuxerWorkerControl.on("transmux",function(a){var o=a.args;n.log("[transmuxerworker end] ,range, ",JSON.stringify(o.range),",dataLen,",o.buffer.byteLength,o.context),n._loadSuccessCallBack&&n._loadSuccessCallBack(o)})}catch(a){n.log("Error in worker:",a),n.enableWorker=!1,n.transmuxerWorkerControl=null}return n.enableWorker||(n.MP4Demuxer=null,n.FMP4Remuxer=null),n.seekTime=-1,n.changeBitRateTime=-1,n}return it(l,[{key:"changeBitRate",value:function(){var e=ue(j().mark(function n(a){return j().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.url=a.url,r.next=3,this.MP4Loader.changeUrl(this.url,this.options.vid+Date.now(),this.CHUNK_SIZE);case 3:this._switchBitRate=!0,this.log("[switchBitrate] changeUrl, bitRate,",this.url);case 5:case"end":return r.stop()}},n,this)}));function t(n){return e.apply(this,arguments)}return t}()},{key:"log",value:function(t){for(var n=this.options,a=n&&n.vid?"[MP4] ".concat(n.vid," ").concat(t):"[MP4] ".concat(t),o=arguments.length,r=new Array(o>1?o-1:0),d=1;d<o;d++)r[d-1]=arguments[d];Hs.apply(void 0,[a].concat(r))}},{key:"errorHandler",value:function(){var e=ue(j().mark(function n(a,o){var r,d,c,u;return j().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:r=a.response,d=a.message,c=this.options?this.options.vid:"",u=null,this._isPending=!0,r?(u=new ka("network",r.status,{httpText:r.httpText,message:d,url:r.url}),this.emit(pe.ERROR,u)):(console.log("[MP4] [".concat(c,"] errorHandler,"),a),u=a,this.emit(pe.ERROR,u));case 6:case"end":return p.stop()}},n,this)}));function t(n,a){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=ue(j().mark(function n(){return j().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.url){o.next=3;break}return o.next=3,this.MP4Loader.changeUrl(this.url,this.options.vid+Date.now(),this.CHUNK_SIZE);case 3:return o.next=5,this.getMetaInfo();case 5:case"end":return o.stop()}},n,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getTimeRange",value:function(){for(var t=[],n=null,a=0;this.videoTrak&&a<this.videoTrak.length;a++)n={startTime:this.videoTrak[a].startTime,endTime:this.videoTrak[a].endTime,downloaded:!1,isLoading:!1},t.push(n);if(this.audioTrak&&this.audioTrak.length>t.length)for(var o=t.length;o<this.audioTrak.length;o++)n={startTime:Math.max(this.audioTrak[o].startTime,n?n.endTime:0),endTime:Math.max(this.audioTrak[o].endTime,n?n.endTime:0),downloaded:!1,isLoading:!1},t.push(n);return t}},{key:"getMetaInfo",value:function(){var e=ue(j().mark(function n(){var a=this,o,r,d,c=arguments;return j().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return o=c.length>0&&c[0]!==void 0?c[0]:!0,m.prev=1,this._metaLoading=!0,this.log("getMetaInfo start"),this.bufferLoaded=new Uint8Array(0),r=0,d=function(){var p=ue(j().mark(function h(Z,v,V){var L;return j().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:a.log("getMetaInfo onProgressHandle, dataLen,",Z?Z.byteLength:-1,", state,",v,",range,",JSON.stringify(V.range)),Z&&V.range[0]===r&&(a.bufferLoaded=Ca(Uint8Array,a.bufferLoaded,new Uint8Array(Z)),r+=Z.byteLength),V.meta&&!a.meta&&(L=V.meta,a.videoTrak=L.videoSegments,a.audioTrak=L.audioSegments,a.timeRange=a.getTimeRange(),a.meta=Ue(Ue({},L.meta),{},{ext:{videoTrak:a.videoTrak,audioTrak:a.audioTrak}}),L.bufferLoaded=a.bufferLoaded,a.log("meta reach"),o&&a.emit(pe.META_READY,a.meta)),a.meta&&v&&(a.log("[getMetaInfo req end]"),a._metaLoading=!1),a.meta&&(Z||v)&&(a.log("emit moov_req_progress"),a.emit(pe.MOOV_REQ_PROGRESS));case 5:case"end":return g.stop()}},h)}));return function(Z,v,V){return p.apply(this,arguments)}}(),m.next=9,this.MP4Loader.loadMetaProcess(this.MP4Loader.cache,[0,this.CHUNK_SIZE],d);case 9:m.next=15;break;case 11:m.prev=11,m.t0=m.catch(1),console.error("[MP4] trigger errorHandler getMetaInfo",m.t0===null||m.t0===void 0?void 0:m.t0.message),this.loadError(m.t0,"getMetaInfo");case 15:case"end":return m.stop()}},n,this,[[1,11]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"getFragmentIdx",value:function(t){var n,a;if(this.videoTrak.length){if(n=this.videoTrak.find(function(r){return r.startTime<=t&&r.endTime>t}),a=this.audioTrak.find(function(r){return r.startTime<=t&&r.endTime>t}),n&&a)return Math.min(n.index,a.index);if(n||a)return n?n.index:a.index;var o=Number.MAX_VALUE;return this.videoTrak&&this.videoTrak.length>0&&(o=this.videoTrak.length-1),this.audioTrak&&this.audioTrak.length>0&&(o=Math.min(this.audioTrak.length-1,o)),o}else return a=this.audioTrak.find(function(r){return r.startTime<=t&&r.endTime>t}),a?a.index:0}},{key:"_checkHasMeta",value:function(){var e=ue(j().mark(function n(){var a;return j().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.log(" loadMeta start"),this._metaLoading=!0,r.next=4,this.MP4Loader.loadMeta(this.MP4Loader.cache,Math.round(this.CHUNK_SIZE/2));case 4:return a=r.sent,this._metaLoading=!1,this.videoTrak=a.videoSegments,this.audioTrak=a.audioSegments,this.meta=Ue(Ue({},a.meta),{},{ext:{videoTrak:this.videoTrak,audioTrak:this.audioTrak}}),this.timeRange=this.getTimeRange(),this.bufferLoaded=new Uint8Array(0),a.bufferLoaded=this.bufferLoaded,r.abrupt("return",!0);case 13:case"end":return r.stop()}},n,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"resetFragmentLoadState",value:function(t){for(var n=0;n<this.timeRange.length;n++)n<t?(this.timeRange[n].downloaded=!0,this.timeRange[n].isLoading=!0):(this.timeRange[n].downloaded=!1,this.timeRange[n].isLoading=!1)}},{key:"getFragRange",value:function(t){var n,a,o,r,d=null;this.videoTrak&&(d=t<this.videoTrak.length?this.videoTrak[t]:this.videoTrak[this.videoTrak.length-1]);var c=null;this.audioTrak&&(c=t<this.audioTrak.length?this.audioTrak[t]:this.audioTrak[this.audioTrak.length-1]);var u=0,m=0;this.videoTrak&&t>=this.videoTrak.length-1&&(u=-1),this.audioTrak&&t>=this.audioTrak.length-1&&(m=-1);var p=[Math.min(((n=d)===null||n===void 0?void 0:n.range[0])||1/0,((a=c)===null||a===void 0?void 0:a.range[0])||1/0),Math.max(((o=d)===null||o===void 0?void 0:o.range[1])+u||0,((r=c)===null||r===void 0?void 0:r.range[1])+m||0)];return t<this.timeRange.length&&(this.timeRange[t].range=p),p}},{key:"load",value:function(){var e=ue(j().mark(function n(a,o){var r,d,c;return j().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this._loadSuccessCallBack=o,!(this._switchBitRate&&!this._metaLoading)){m.next=12;break}return this.log("[switchBitrate], switch bitRate start load, time,",a>=this.videoTrak.length?this.audioTrak[a].startTime:this.videoTrak[a].startTime,", fragIndex,",a),m.next=5,this._checkHasMeta();case 5:r=m.sent,this.changeBitRateTime>0&&(this.timeRange[a].startTime<=this.changeBitRateTime&&this.changeBitRateTime<this.timeRange[a].endTime?this.log("[switchBitrate], not need update load fragIndex",a,",stTime,",this.changeBitRateTime):(a=this.getFragmentIdx(this.changeBitRateTime),this.log("[switchBitrate], need update load fragIndex",a,",stTime,",this.changeBitRateTime,",newBitrateTimeRange,",this.timeRange[a].startTime,"-",this.timeRange[a].endTime),this.emit(pe.UPDATE_LOAD_IDX,a)),this.seekTime=this.changeBitRateTime,this.changeBitRateTime=-1),this.resetFragmentLoadState(a),this.log("[switchBitrate], reset timerange state,",a),this._needInitSegment=!0,this.resetTansmuxer(),r&&(this._switchBitRate=!1);case 12:if(!(this._switchBitRate&&this._metaLoading)){m.next=14;break}return m.abrupt("return");case 14:d=this.getFragRange(a),this.log("loadFragment,",a,",range,",JSON.stringify(d)),this.seekTime>0?(c=this.getSubRange(a,this.seekTime,d),this.loadFragment(a,c),this.seekTime=-1):this.loadFragment(a,d);case 17:case"end":return m.stop()}},n,this)}));function t(n,a){return e.apply(this,arguments)}return t}()},{key:"getSubRange",value:function(t,n,a){var o=a[0],r=a[0],d=1,c=!1;if(this.log(">>>>>getSubRange time,",n,JSON.stringify(a)),this.videoTrak&&this.videoTrak.length>0){var u=t<this.videoTrak.length?this.videoTrak[t]:this.videoTrak[this.videoTrak.length-1];if(u.frames.length===0)return this.log(">>>>>getSubRange video, no frames"),a;var m=u.frames.filter(mr),p=this.meta.videoTimescale,h=m[0].startTime/p;this.log(">>>>>getSubRange video, startTime,",u.startTime,",endTime,",u.endTime);for(var Z=0;Z<m.length;Z++)this.log(">>>>>getSubRange video keyFrameList, startTime,",m[Z].startTime/p,",range,",m[Z].offset);for(;d<m.length;d++){var v=m[d].startTime/p;if(h<=n&&n<v&&a[0]<m[d-1].offset){o=m[d-1].offset,c=!0,this.log(">>>>>getSubRange video end, startTime,",h,",endTime,",v,",startRange,",o,", keyFrameIndex,",d-1);break}h=v}!c&&h<=n&&n<u.endTime+.8&&(o=m[d-1].offset,this.log(">>>>>getSubRange video last, startTime,",h,",endTime,",u.endTime,",startRange,",o))}if(d=1,this.audioTrak&&this.audioTrak.length>0){var V=t<this.audioTrak.length?this.audioTrak[t]:this.audioTrak[this.audioTrak.length-1];if(V.frames.length===0)return this.log(">>>>>getSubRange video, no frames"),a;var L=V.frames,Y=this.meta.audioTimescale;d=Math.floor((n*Y-L[0].startTime)/V.frames[0].duration),d=Math.min(L.length-1,d);for(var g=d>0?L[d-1].startTime/Y:L[0].startTime/Y;d>=0&&d<L.length;){if(d>0&&g>n){d-=1,g=L[d].startTime/Y;continue}var X=(L[d].startTime+L[d].duration)/Y;if(g<=n&&n<X&&a[0]<L[d].offset){r=L[d].offset,c=!0,this.log(">>>>>getSubRange audio end, startTime,",g,",endTime,",X,",startRange,",r,", index,",d);break}g=X,d++}}var G=[Math.min(r,o),a[1]];return this.log(">>>>>getSubRange finalRange ",JSON.stringify(G),",oldRange,",JSON.stringify(a)),G}},{key:"_mux",value:function(t,n,a,o){var r=this.getSamplesRange(a,"video"),d=this.getSamplesRange(a,"audio"),c=[n,n+t.byteLength];if(this.transmuxerWorkerControl&&!this.meta.isFragmentMP4){var u={range:c,state:o,fragIndex:a};this.log("[transmuxerworker start] ,range, ",JSON.stringify(c),",dataLen,",t.byteLength,u),this.transmuxerWorkerControl.transmux(this.workerSequence,t,n,r,d,this.meta.moov,this.useEME,this.kidValue,u)}else try{var m;this.meta.isFragmentMP4?(this.fMP4Demuxer||(this.fMP4Demuxer=new Ll),m=this.fMP4Demuxer.demuxPart(t,n,this.meta.moov)):(this.MP4Demuxer||(this.MP4Demuxer=new Ya(this.videoTrak,this.audioTrak,null,{openLog:ut()})),m=this.MP4Demuxer.demuxPart(t,n,r,d,this.meta.moov,this.useEME,this.kidValue)),!this.FMP4Remuxer&&(!this.checkCodecH265()||this.options.supportHevc)&&(this.FMP4Remuxer=new Sl(m.videoTrack,m.audioTrack,{openLog:ut()}));var p;this.log("[mux], videoTimeRange,",m.videoTrack?[m.videoTrack.startPts,m.videoTrack.endPts]:null,",audioTimeRange,",m.audioTrack?[m.audioTrack.startPts,m.audioTrack.endPts]:null);var h=Math.min(m.videoTrack.startPts,m.audioTrack.startPts),Z=Math.max(m.videoTrack.endPts,m.audioTrack.endPts),v=[h,Z];if(this.FMP4Remuxer){var V=this.FMP4Remuxer.remux(this._needInitSegment,{initMerge:!0,range:c});V.initSegment&&(this._needInitSegment=!1);var L=Ce.concatData(V.audioSegment,V.videoSegment);p={buffer:L,range:c,state:o,context:{range:c,fragIndex:a,timeRange:v},initSeg:V.initSegment}}else p={videoTrack:m.videoTrack,audioTrack:m.audioTrack,buffer:null,range:c,state:o,context:{range:c,fragIndex:a,timeRange:v}};this._loadSuccessCallBack&&this._loadSuccessCallBack(p)}catch(g){console.error("mux err:",g);var Y=new Ha(lt.remux,Me.muxError,{msg:JSON.stringify(g)});this.errorHandler(Y,"mux",{fragIndex:a,range:[n,n+t.byteLength]})}}},{key:"getSamplesRange",value:function(t,n){var a=[];switch(n){case"video":if(this.videoTrak&&t<this.videoTrak.length){var o=this.videoTrak[t].frames;if(!o.length)break;a.push(o[0].index),a.push(o[o.length-1].index)}break;case"audio":if(this.audioTrak&&t<this.audioTrak.length){var r=this.audioTrak[t].frames;if(!r.length)break;a.push(r[0].index),a.push(r[r.length-1].index)}break;default:console.warn("[getSamplesRange] type ",n," is invalid");break}return a}},{key:"loadFragment",value:function(){var e=ue(j().mark(function n(a,o){var r,d,c,u;return j().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!(this._isPending||o.length>0&&o[0]===0&&o[1]===0||this.timeRange[a].isLoading)){p.next=2;break}return p.abrupt("return");case 2:if(this.log("[MP4.loadFragment] ,fragIndex,",a,",range ",o,",len ,",o[1]-o[0],", bufferLoaded_Len,",this.bufferLoaded.byteLength),!(o.length>=2&&o[1]&&o[1]>0&&o[1]<=this.bufferLoaded.byteLength)){p.next=13;break}this.timeRange[a].isLoading=!0,r=Math.max(o[0],this.bufferLoadedPos),d=new Uint8Array(this.bufferLoaded.slice(r,o[1])),this.log("[mp4.loadFragment] has all data: ",r,o[1]),this.timeRange[a].downloaded=!0,this.bufferLoadedPos=-1,this._mux(d,r,a,!0),p.next=34;break;case 13:if(!(o.length>=2&&o[0]&&o[0]<=this.bufferLoaded.byteLength)){p.next=29;break}if(this.timeRange[a].isLoading){p.next=27;break}if(c=Math.max(o[0],this.bufferLoadedPos),u=new Uint8Array(this.bufferLoaded.slice(c,o[1])),!(u.byteLength>0)){p.next=22;break}return this.bufferLoadedPos=c+u.byteLength,this.log("[mp4.loadFragment] has part data: ",c,c+u.byteLength),this._mux(u,c,a,o[1]<=this.bufferLoadedPos),p.abrupt("return");case 22:if(!(!this._metaLoading&&!this.timeRange[a].isLoading)){p.next=27;break}return this.log("[mp4.loadFragment] ready to load part data >>> ",this.bufferLoaded.byteLength,o[1]),this.timeRange[a].isLoading=!0,p.next=27,this.startLoad([this.bufferLoaded.byteLength,o[1]],a);case 27:p.next=34;break;case 29:if(!((!this._metaLoading||o[0]>=this.CHUNK_SIZE)&&!this.timeRange[a].isLoading)){p.next=34;break}return this.timeRange[a].isLoading=!0,this.log("[mp4.loadFragment],ready to load all data ,segmentIdx, ",a,",range >>> ",JSON.stringify(o)),p.next=34,this.startLoad(o,a);case 34:case"end":return p.stop()}},n,this)}));function t(n,a){return e.apply(this,arguments)}return t}()},{key:"startLoad",value:function(){var e=ue(j().mark(function n(a,o){return j().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,this.MP4Loader.loadData(a,this.MP4Loader.cache,{index:o,onProgress:this.onprogressDataArrive,onProcessMinLen:this.options.onProcessMinLen});case 3:d.next=9;break;case 5:d.prev=5,d.t0=d.catch(0),console.error("[MP4] trigger errorHandler getMetaInfo",d.t0===null||d.t0===void 0?void 0:d.t0.message),this.loadError(d.t0,"loadFragment",{range:a,fragIndex:o});case 9:case"end":return d.stop()}},n,this,[[0,5]])}));function t(n,a){return e.apply(this,arguments)}return t}()},{key:"loadError",value:function(t,n,a){var o;!t.response&&(t.response={}),t.isTimeout?t.response.status="timeout":t!=null&&(o=t.response)!==null&&o!==void 0&&o.status||(t.response.status="networkError"),this.errorHandler(t,n,a)}},{key:"cancelLoading",value:function(){var e=ue(j().mark(function n(){return j().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.MP4Loader;case 2:if(o.t0=o.sent,!o.t0){o.next=5;break}this.MP4Loader.cancel();case 5:case"end":return o.stop()}},n,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"update",value:function(t){this.url=t}},{key:"checkCodecH265",value:function(){var t=this.meta&&(this.meta.videoCodec.indexOf("hvc1")>-1||this.meta.videoCodec.indexOf("hev1")>-1);return t}},{key:"destroy",value:function(){this.hasDestroyed||(this.resetTansmuxer(),this.transmuxerWorkerControl&&this.transmuxerWorkerControl.destroy(),this._isPending=!1,this._metaLoading=!1,this.bufferLoadedPos=0,this.bufferLoaded=new Uint8Array(0),this.MP4Loader&&(this.MP4Loader.cancel(),this.MP4Loader.destroy()),this.hasDestroyed=!0)}},{key:"resetTansmuxer",value:function(){this.MP4Demuxer&&this.MP4Demuxer.reset(),this.MP4Demuxer=null,this.FMP4Remuxer&&this.FMP4Remuxer.reset(),this.FMP4Remuxer=null,this.transmuxerWorkerControl&&this.transmuxerWorkerControl.reset()}}],[{key:"getDefaultConfig",value:function(){return{segmentDuration:5,onProcessMinLen:1024,chunkSize:8e5,retryCount:3,retryDelay:1e3,timeout:3e3,enableWorker:!1,playerId:"",vid:"",ext:{},preferMMS:!1}}}]),l}(di);function mr(s){if(s.keyframe)return s}var pr=function(){function s(i){tt(this,s),this.onTick_=i,this.cancelPending_=null}return it(s,[{key:"tickAfter",value:function(l){var e=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.stop();var n=!0,a=null;this.cancelPending_=function(){window.clearTimeout(a),n=!1};var o=function(){n&&(e.onTick_(),t&&t())};return a=window.setTimeout(o,l*1e3),this}},{key:"tickEvery",value:function(l){var e=this;this.tickAfter(l,function(){e.tickEvery(l)})}},{key:"stop",value:function(){this.cancelPending_&&(this.cancelPending_(),this.cancelPending_=null)}}]),s}(),hr=function(){function s(){tt(this,s);var i,l,e=new Promise(function(n,a){i=n,l=a}),t=e;return t.resolve=function(n){i(n),t.state="fulfilled"},t.reject=function(n){l(n),t.state="rejected",t.isBreak=n==="DESTROYED"},t.state="pending",t}return it(s,[{key:"resolve",value:function(l){}},{key:"reject",value:function(l){}}]),s}(),Zr="DESTROYED",Ai=null,Qt=null,_i=null,$i=null,br=function(s){mi(l,s);var i=pi(l);function l(e){var t;return tt(this,l),t=i.call(this,e),Se(se(t),"_onMp4DataCallBack",function(){t._isMseInit&&t._onTimeUpdate()}),Se(se(t),"_onMp4MetaReady",function(n){var a=se(t),o=a.config,r=t.mp4.checkCodecH265();try{if(r&&!t.config.supportHevc){var d="browser not support HEVC",c=new ct(t.player,{errorType:"runtime",errorTypeCode:lt.runtime,errorCode:Me.h265Error,errorMessage:d,vid:o.vid,mediaError:{code:Me.h265Error,message:d}});t._errorHandler(c)}else t._initMse(n),t._initPromise.resolve()}catch(m){var u=new ct(t.player,{errorType:"runtime",errorTypeCode:lt.runtime,errorCode:Me.mse,errorMessage:m?.message,vid:o.vid,mediaError:{code:Me.other1,message:m?.message}});t._errorHandler(u);return}t._loadData()}),Se(se(t),"_onMp4Error",function(n){var a=t.playerConfig.vid;console.error("[Index] _onMp4Error",a,n),t._errorHandler(n)}),Se(se(t),"_loadDataSuccess",function(n){if(!(t.isDestroy||!t.mse)){t.log("[loadFragment] _loadDataSuccess ",JSON.stringify(n.context.range),",dataLen,",n.buffer?n.buffer.byteLength:0,n.state);try{n.initSeg&&(t._appendInitSeg(n.initSeg),(!n.buffer||n.buffer.byteLength<1)&&(t.log("no data, must load data"),t._onTimeUpdate()));var a=n.buffer,o=n.state,r=n.context;if(t.mse&&o&&(!a||a.byteLength<=0)&&r.fragIndex===t.mp4.timeRange.length-1){var d=t.player.buffered;d&&d.length>0&&(t.bufferEndTime=d.end(d.length-1)),t._isEnded(),t.log("loaded ended !!!==>>>",JSON.stringify(r.range),", fragIndex,",r.fragIndex,", bufferEndTime,",t.bufferEndTime,",meta_duration,",t.mp4.meta.duration)}if(t.mse&&o&&r.fragIndex===t.mp4.timeRange.length-1&&(!a||a.byteLength<=0)){var c=t.player.buffered;c&&c.length>0&&(t.bufferEndTime=c.end(c.length-1)),t._isEnded(),t.log("load ended !!!==>>>",t.playerConfig.vid,JSON.stringify(r.range),", fragIndex,",r.fragIndex,", bufferEndTime,",t.bufferEndTime,",meta_duration,",t.mp4.meta.duration)}a&&t.mse&&a&&a.byteLength>0&&t._appendBuffer(Ke.VIDEO,a,r,o)}catch(m){t.log("appendBuffer error",m);var u=new ct(t.player,{errorType:"runtime",errorTypeCode:lt.runtime,errorCode:Me.mse,vid:t.player.config.vid,errorMessage:m.message,mediaError:{code:Me.mse,message:m.message}});t._errorHandler(u)}n!=null&&n.state&&t._onTimeUpdate()}}),Se(se(t),"_onWaiting",function(){var n=se(t),a=n.player,o=n.config;clearTimeout(t._waitInBufferTimer),t._waitInBufferTimer=null;var r=a.currentTime,d=a.bufferedPoint;d.end>0&&d.end-a.currentTime>=2&&t._waitAdjustTimeCnt<o.waitJampBufferMaxCnt&&(t._waitInBufferTimer=setTimeout(function(){t._waitAdjustTimeCnt++,a.currentTime=a.currentTime+.5,t.log("[waitInBufferTimeout], waitAdjustTimeCnt,",t._waitAdjustTimeCnt,",curtime,",r,Ce.nowTime())},o.waitingInBufferTimeOut))}),Se(se(t),"_onSeeking",ue(j().mark(function n(){var a,o,r,d,c,u,m,p,h,Z,v;return j().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(a=se(t),o=a.player,r=a.mp4,d=o.currentTime,t.log("[seekTime], curTime,",d,",buffer,",o.buffered2.bufferedList),!(!r||!r.meta)){L.next=5;break}return L.abrupt("return");case 5:if(t.endofstream=!1,r.bufferLoadedPos=-1,r._metaLoading=!1,c=o.bufferedPoint,u=!1,m=0,!(c.end>0)){L.next=25;break}if(u=!0,!(r.meta.duration-c.end<.5)){L.next=17;break}return t._startProgress(),t.log("[seeking in buffered range], buffer end,",c.end,", duration,",r.meta.duration),L.abrupt("return");case 17:if(m=r.getFragmentIdx(c.end),t._curLoadSegmentIdx!==m){L.next=22;break}return t._startProgress(),t.log("[seeking in buffered range], seek fragIndex is current load segmentIdx",m),L.abrupt("return");case 22:r.seekTime=c.end,m<0&&(m=t._curLoadSegmentIdx),t.log("[seeking in buffered range], seekTime ",d,",bufferRange,",c.start,"-",c.end,", fragIndex,",m);case 25:return u||(r.seekTime=d,m=r.getFragmentIdx(d),m<0&&(m=t._curLoadSegmentIdx),t.log("[seekTime out buffer range], curTime,",d,", Idx,",m),p=se(t),h=p.mse,h&&h.isFull()&&(Z=o.buffered2.bufferedList,v=Z[Z.length-1],h.clearOpQueues(Ke.VIDEO),t._checkRemoveSourceBuffer([v.start,v.end],o.currentTime,!0,!0))),L.next=28,r.cancelLoading();case 28:r.resetFragmentLoadState(m),t._curLoadSegmentIdx=m,t._onTimeUpdate(),t._startProgress(),t._isEnded();case 33:case"end":return L.stop()}},n)}))),Se(se(t),"changeDefineCanPlay",function(n,a,o,r){var d=se(t),c=d.player;if(c.ended){c.currentTime=0;return}t.log("[oldChangeDefinition],this._changeDefState,",t._changeDefState),c.currentTime=t._changeDefState?t._changeDefState.currentTime:n;var u=t._changeDefState?t._changeDefState.paused:a;u?c.pause():c.play(),t._changeDefState=null,c.emit(Gl,{from:o,to:r})}),Se(se(t),"changeDefinition",function(){var n=ue(j().mark(function a(o,r){var d,c,u,m,p,h,Z;return j().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(d=se(t),c=d.player,u=d.config,m=d.mp4,r||(r=c.curDefinition),t._MSEError=!1,!u.witchBitRateWay){V.next=6;break}return t.oldChangeDefinition(o,r),V.abrupt("return");case 6:if(c.emit(gl,{from:r,to:o}),p=c.currentTime,h=m.getFragmentIdx(p),h<0&&(h=t._curLoadSegmentIdx),t.log("switchBitrate:point,fragIndex,",h,",startTime,",m.timeRange[h].startTime,",currentTime,",c.currentTime),!m){V.next=16;break}return t.mp4.changeBitRateTime=p,V.next=15,m.cancelLoading();case 15:m._metaLoading&&(m._metaLoading=!1);case 16:return t._removeBuffeEndTime=m.timeRange[h].startTime,t._isChangeDefinition=!0,Z=c.getBufferedRange(c.buffered),Z[1]>0&&Z[1]-c.currentTime>5&&(t.mse.clearOpQueues(Ke.VIDEO),t.mse.remove(Ke.VIDEO,c.currentTime+5,Z[1])),t.log("switchBitrate: resetFragmentLoadState,",h),m.resetFragmentLoadState(h),t._curLoadSegmentIdx=h,V.next=25,t.mp4.changeBitRate(o);case 25:t._onTimeUpdate(),c.emit("RESOLUTION_UPDATE",o);case 27:case"end":return V.stop()}},a)}));return function(a,o){return n.apply(this,arguments)}}()),Se(se(t),"_replayHook",function(){var n;return(n=t.player)===null||n===void 0||n.play(),!1}),Se(se(t),"_retryHook",function(){return t.beforePlayerInit(),!1}),t.mp4=null,t.mse=null,t._waitAdjustTimeCnt=0,t._lastCheckTime=Ce.nowTime(),t._removeBuffeEndTime=0,t._pendingPromises=[],t}return it(l,[{key:"afterCreate",value:function(){var t=this;window.__mp4player=this;try{Vi.defineGetterOrSetter(this.player,{__url:{get:function(){try{return t.mse?t.mse.url:t.config.url}catch{return null}}}})}catch{}this._proxyPlayer()}},{key:"attachEvents",value:function(){this.off(kt,this._onSeeking),this.on(kt,this._onSeeking),this.on(gi,this._onWaiting),this.off(Ht,this.switchURL),this.on(Ht,this.switchURL)}},{key:"detachEvents",value:function(){this.off(kt,this._onSeeking),this.off(gi,this._onWaiting),this.off(Ht,this.switchURL)}},{key:"_proxyPlayer",value:function(){var t=this;typeof this.player.playNext=="function"&&(Ai=this.player.playNext),this.player.playNext=function(){t.playNext.apply(t,arguments)},Qt=this.player._startInit,$i=this.player.switchURL,_i=this.player.changeDefinition,this.player._startInit=this._playerStartInit.bind(this),this.player.switchURL=this.switchURL.bind(this),this.player.changeDefinition=this.changeDefinition.bind(this),this.player.removeHooks("replay",this._replayHook),this.player.removeHooks("retry",this._retryHook)}},{key:"_playerStartInit",value:function(t){var n=this,a=this.config,o=this.playerConfig;a.supportHevc===void 0&&yt!==null&&yt!==void 0&&yt.isHevcSupported&&yt.isHevcSupported()&&(a.supportHevc=!0);var r=this.initMp4();this._initPromise=r,this._addPendingPromise(this._initPromise),this.mse&&Vl.typeOf(t)==="String"&&/^blob/.test(t)&&t!==this.mse.url&&(t=o.url),r.then(function(){n.mse&&(t=n.mse.url),n.attachEvents(),n._startProgress()}).catch(function(d){var c=n._initPromise?n._initPromise.isBreak:!1;if(!(n.isDestroy||c)){var u=d;u.errorCode||(u=new ct(n.player,{errorType:lt.RUNTIME,errorCode:d?.errorCode||Me.other,vid:n.playerConfig.vid,errorMessage:d?.errorMessage||d?.message,mediaError:{code:d?.httpCode||Me.other,message:d?.errorMessage||d?.message,errorType:d?.errorType}}),u.url=t),n.useVideoLoad=!0,n.player.vtype="MP4_1",n.player.emit("playCatch",n.player.vtype,u)}}).finally(function(){if(n._initPromise){var d=n._initPromise.isBreak;d||(n._initPromise&&n._removePendingPromise(n._initPromise),n._initPromise=null,!n.isDestroy&&!d&&Qt.call(n.player,t))}})}},{key:"initMp4",value:function(){var t=this,n=this.player;n.config.vid||(n.config.vid=Date.now());var a=new hr;return this.mp4&&(this.mp4.off(pe.META_READY,this._onMp4MetaReady),this.mp4.off(pe.ERROR,this._onMp4Error),this.mp4.off(pe.MOOV_REQ_PROGRESS,this._onMp4DataCallBack),this.mp4.destroy(),this.mp4=null),this.mp4=new ur(n.config.url,Ue(Ue({},this.config),{},{vid:n.config.vid})),this.mp4.on(pe.META_READY,this._onMp4MetaReady),this.mp4.on(pe.ERROR,this._onMp4Error),this.mp4.on(pe.MOOV_REQ_PROGRESS,this._onMp4DataCallBack),this.mp4.on(pe.UPDATE_LOAD_IDX,function(o){t._curLoadSegmentIdx=o,t.log("[update curLoadSegmentIdx]",o)}),this.mp4.init(),a}},{key:"setConfig",value:function(t){this.config=Object.assign(this.config,t)}},{key:"playNext",value:function(t){var n=this.player;this._defInited=!1,n.resetState(),n._currentTime=0,n._duration=0,n.isPlaying=!1,this._MSEError=!1,n.pause(),this._reset(),n.setConfig(t),this.log("[Index] playNext",t),n.play(),this.emit("playnext")}},{key:"checkDegrade",value:function(t){var n=this.config.closeDowngrade;return!n||t.httpCode==="networkError"}},{key:"_errorHandler",value:function(t){var n,a=this.player,o=this.config;if(!(!a||this.useVideoLoad)){!t.url&&(n=this.mp4)!==null&&n!==void 0&&n.url&&(t.url=this.mp4.url);var r=a.paused;console.error("final error !!!!, ",o.vid,t),this.player.vtype="MP4_2",this.player.emit("playCatch",this.player.vtype,t);var d=this.checkDegrade(t);if(d)this._initPromise?this._removeAndRejectInitPromise(t):this._startDegradedPlayback(t,r);else{this.player.pause(),this._reset();var c=a.currentTime;this.destroyMSE(),a.currentTime=c,this.emit("error",t)}}}},{key:"_startDegradedPlayback",value:function(t,n){var a=this;console.log(">>>_startDegradedPlayback");var o=this.player,r=this.playerConfig;this.useVideoLoad=!0,this.destroyMSE(),this._currentTime=o.currentTime,this.__onmetadataHandle=function(){a._currentTime&&(o.currentTime=a._currentTime),n?a.player.pause():a.player.play(),o.media.removeEventListener("loadedmetadata",a.__onmetadataHandle),a.__onmetadataHandle=null},o.media.addEventListener("loadedmetadata",this.__onmetadataHandle);var d=r.url;o.media.src=d}},{key:"_addPendingPromise",value:function(t){this._pendingPromises.push(t)}},{key:"_removePendingPromise",value:function(t){var n=this._pendingPromises.indexOf(t);n>-1&&this._pendingPromises.splice(n,1)}},{key:"_cancelPendingPromises",value:function(){this._pendingPromises.length>0&&this._pendingPromises.forEach(function(t){t.reject(Zr)}),this._pendingPromises=[]}},{key:"_removeAndRejectInitPromise",value:function(t){this._initPromise&&(this._removePendingPromise(this._initPromise),this._initPromise.reject(t))}},{key:"_initMse",value:function(){var e=ue(j().mark(function n(a){var o=this,r,d,c,u,m;return j().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.mse){h.next=4;break}return h.next=3,this.mse.unbindMedia();case 3:this.mse=null;case 4:r=!!a.videoCodec,d=!!a.audioCodec,r&&d?c='video/mp4; codecs="'.concat(a.videoCodec,', mp4a.40.5"'):r?c='video/mp4; codecs="'.concat(a.videoCodec,'"'):c='video/mp4; codecs="mp4a.40.5"',u=Se({},Ke.VIDEO,{mimeType:"video/mp4",codec:c}),this.mse=new Ke(null,{preferMMS:this.config.preferMMS}),m=this.mse.bindMedia(this.player.video),m.then(function(){var Z=Object.keys(u);try{for(var v=0;v<Z.length;v++){var V=Z[v];o.mse.createSource(V,u[V].codec)}}catch(L){console.error("MSE error: ",L),o._errorHandler(L)}o._isMseInit=!0,o._onTimeUpdate()});case 11:case"end":return h.stop()}},n,this)}));function t(n){return e.apply(this,arguments)}return t}()},{key:"destroyMSE",value:function(){var e=ue(j().mark(function n(){var a;return j().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(a=this.mse)===null||a===void 0?void 0:a.unbindMedia();case 2:this.mse=null;case 3:case"end":return r.stop()}},n,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_onTimeUpdate",value:function(){var t=this,n=this.mse,a=this.mp4,o=this.player,r=this.config;if(a){var d=a.timeRange,c=o.getBufferedRange(o.buffered2);if(n&&a&&a.canDownload){Ce.nowTime()-this._lastCheckTime>1e3&&(this._lastCheckTime=Ce.nowTime(),this._loadStuckCheck(),this._checkRemoveSourceBuffer(c,o.currentTime));var u=o.paused?o.currentTime+r.minBufferLength:o.currentTime+r.maxBufferLength;c[1]-u<0&&d.every(function(m,p){if(m.downloaded)return!0;if(!t._isChangeDefinition&&m.endTime-m.startTime>1&&t._isInBuffer(m))return m.downloaded=!0,m.isLoading=!0,t.log("onTimeUpdate, ".concat(p," download segment, has buffer"),m.startTime,m.endTime),!0;m.startTime-o.currentTime<r.maxBufferLength&&(t._curLoadSegmentIdx=p,t.log("[onTimeUpdate],load index==>>>, ",p,",IdxTimeRange, ",m.startTime,"-",m.endTime,",buffEnd, ",c[1],",playCurTime,",o.currentTime,", bufferLen,",c[1]-o.currentTime,",bufferRangeList,",t.player.buffered2?t.player.buffered2.bufferedList:null),t._loadData())}),this._isEnded()}this.checkRemoveOldBitrateBuffer()}}},{key:"checkRemoveOldBitrateBuffer",value:function(){var t=this.mse,n=this.player;t&&this._removeBuffeEndTime>0&&n.currentTime>this._removeBuffeEndTime+1&&(this.log("remove old bitrate buffer",this._removeBuffeEndTime),t.remove(Ke.VIDEO,0,this._removeBuffeEndTime-1),this._removeBuffeEndTime=0)}},{key:"_isInBuffer",value:function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=!1,o=this.player.video.buffered,r=0;r<o.length;r++){var d=o.start(r)-n,c=o.end(r)+n;if(d<=t.startTime&&t.endTime<=c){a=!0;break}}return a}},{key:"_loadData",value:function(){var e=ue(j().mark(function n(){return j().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(!this.mp4||!this._isMseInit)){o.next=3;break}return this.log("loadData, player.mp4 null",this._isMseInit),o.abrupt("return");case 3:return o.prev=3,o.next=6,this.mp4.load(this._curLoadSegmentIdx,this._loadDataSuccess);case 6:o.next=11;break;case 8:o.prev=8,o.t0=o.catch(3),console.error("[Index] _loadData error",this.playerConfig.vid,o.t0);case 11:case"end":return o.stop()}},n,this,[[3,8]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"_appendInitSeg",value:function(t){var n=this;!this.mp4||!this.mse||this.mse.append(Ke.VIDEO,t,{vid:this.playerConfig.vid,range:null,dataLen:t.byteLength,isinit:!0}).then(function(a){n.log("appendInitSeg end ==>>>",a?.context," costTime,",a?.costtime)})}},{key:"_appendBuffer",value:function(t,n){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,d=this.mse,c=this.config;d.append(t,n,{vid:c.vid,fragIndex:o.fragIndex,range:o.range,dataLen:n.byteLength,state:r}).then(function(u){if(a.log("player appendBuffer end ==>>>",u.context?u.context:null,", costTime,",u.costtime,", opt,",u.name,",bufferRange,",a.player.getBufferedRange()),a.mse&&o.state&&o.fragIndex===a.mp4.timeRange.length-1){var m=a.player.buffered;m&&m.length>0&&(a.bufferEndTime=m.end(m.length-1)),a._isEnded(),a.log("loaded ended !!!==>>>",o.range,", fragIndex,",o.fragIndex,", bufferEndTime,",a.bufferEndTime,",meta_duration,",a.mp4.meta.duration)}}).catch(function(u){if(console.log("[MSE error]",u),u&&d!==null&&d!==void 0&&d.isFull()){var m=a.player.getBufferedRange(a.player.buffered2);a._checkRemoveSourceBuffer(m,a.player.currentTime,!0)}})}},{key:"_checkRemoveSourceBuffer",value:function(t,n,a){var o=this,r=this.mse,d=this.mp4,c=this.player;if(!(!r||!d||!c)&&(a&&(clearTimeout(this._removeBufferTimer),this._removeBufferTimer=null),t||(t=c.getBufferedRange(c.buffered2)),n||(n=c.currentTime),!(!a&&Ce.nowTime()-this._checkRemoveBufferLastTime<=this.config.removeBufferLen||this.endofstream)&&(this._checkRemoveBufferLastTime=Ce.nowTime(),t&&t[0]>=0&&(n-t[0]>this.config.removeBufferLen||r.isFull())))){var u=t[1],m=d.getFragmentIdx(u);if(m>=0&&d.timeRange[m].startTime<n){var p=Math.floor(Math.min(d.timeRange[m].startTime,t[1]));t[0]<p?(this.log("[checkremoveSourceBuffer], remove range==>>>",t[0],p),r.remove(Ke.VIDEO,t[0],p)):r.isFull()&&!this._removeBufferTimer&&(this._removeBufferTimer=setTimeout(function(){o._checkRemoveSourceBuffer(null,null,!0)},10*1e3))}}}},{key:"_isEnded",value:function(){var t=this.player,n=this.mp4,a=t.bufferedPoint,o=a?a.end:0;return!this.endofstream&&this.mse&&n.meta.duration-t.currentTime<.5&&(this.log("[check player isEnded],deal mse.endOfStream, currentTime,",t.currentTime,", bufferend,",o,", duration,",n.meta.duration),this.endofstream=!0,this.mse.endOfStream()),n&&n.meta&&n.meta.duration-t.currentTime<.5?(this._stopProgress(),this.log("[check player isEnded],stopProgress and endOfStream,currentTime, ",t.currentTime,", bufferend,",o,", duration,",n.meta.duration),this.mse&&this.mse.endOfStream(),!0):!1}},{key:"switchURL",value:function(t){this.changeDefinition(t)}},{key:"oldChangeDefinition",value:function(t,n){var a=this,o=this.config,r=this.player;this.log("[oldChangeDefinition],currentTime,",r.currentTime,",from,",n,",to,",t);var d=r.currentTime,c=r.paused;this._changeDefState||(this._changeDefState={currentTime:d,paused:c},this.log("[oldChangeDefinition],currentTime,",r.currentTime,",pause,",c)),r.config.url=t.url,o.focusUserDefinition=!0,r.currentTime=0,r.pause(),this._reset(),this._isMseInit=!1,this._changeDefineCanPlay&&r.off("canplay",this._changeDefineCanPlay),this._changeDefineCanPlay=function(){a.changeDefineCanPlay(d,c,n,t),a._changeDefineCanPlay=null},r.once("canplay",this._changeDefineCanPlay),this.player.video.load(),this.initMp4()}},{key:"_loadStuckCheck",value:function(){var t=this,n=this.config,a=this.player;n.disableBufferBreakCheck||(a.currentTime-(this._lastCurrentTime||0)>.1||a.paused?(this._bufferBreakFlag===1||this._bufferBreakFlag===2)&&(this.log(","),this._bufferBreakFlag=0,clearTimeout(this._bufferBreakTimer),this._bufferBreakFlag=null):this._bufferBreakFlag||(this._bufferBreakFlag=1,this.log("! ".concat(n.waitingTimeOut,"")),this._bufferBreakTimer=setTimeout(function(){t.isDestroy||(t._bufferBreakFlag===1&&(t._bufferBreakFlag=2,t.log("!!!"),t._errorHandler(new ct(t.player,{errorType:"runtime",errorTypeCode:lt.runtime,errorCode:Me.waitTimeout,errorMessage:"wait_timeout",vid:n.vid}))),t._bufferBreakTimer=null)},n.waitingTimeOut)),this._lastCurrentTime=a.currentTime)}},{key:"isDestroy",get:function(){return!this.player}},{key:"_stopProgress",value:function(){this._hasStartProgress=!1,this._requestTimer&&(this._requestTimer.stop(),this._requestTimer=null),this._bufferBreakTimer&&(clearTimeout(this._bufferBreakTimer),this._bufferBreakTimer=null,this._bufferBreakFlag=void 0)}},{key:"_startProgress",value:function(){var t=this;this._hasStartProgress||(this._stopProgress(),this._requestTimer=new pr(function(){t._requestTimer&&t._onTimeUpdate()}),this._requestTimer.tickEvery(this.config.tickInSeconds),this._hasStartProgress=!0)}},{key:"log",value:function(t){for(var n=this.playerConfig,a=n&&n.vid?"[Index]".concat(n.vid," ").concat(t):"[Index] ".concat(t),o=arguments.length,r=new Array(o>1?o-1:0),d=1;d<o;d++)r[d-1]=arguments[d];Hs.apply(void 0,[a].concat(r))}},{key:"_reset",value:function(){this._isMseInit=!1,this.endofstream=!1,this._curLoadSegmentIdx=0,this._removeBuffeEndTime=0,this._isChangeDefinition=!1,this._stopProgress(),this.mp4&&(this.mp4.off(pe.META_READY,this._onMp4MetaReady),this.mp4.off(pe.ERROR,this._onMp4Error),this.mp4.off(pe.MOOV_REQ_PROGRESS,this._onMp4DataCallBack),this.mp4.destroy(),this.mp4=null),this.mse&&(this.mse.unbindMedia(),this.mse=null),this._unloadVideo()}},{key:"_unloadVideo",value:function(){var t=this.player;try{this.log("unloadVideo src ".concat(t.video.src)),t.video&&t.video.src&&(t.video.removeAttribute("src"),t.video.load())}catch(n){this.log("unloadVideo error",n)}}},{key:"destroy",value:function(){var t=this.player;t.removeHooks("replay",this._replayHook),t.removeHooks("retry",this._retryHook),this.detachEvents(),this._reset(),this.player.playNext=Ai,this.player._startInit=Qt,this.player.changeDefinition=_i,this.player.switchURL=$i,this._bufferBreakTimer&&clearInterval(this._bufferBreakTimer),this._removeBufferTimer&&(clearTimeout(this._removeBufferTimer),this._removeBufferTimer=null),this._waitInBufferTimer&&(clearTimeout(this._waitInBufferTimer),this._waitInBufferTimer=null)}}],[{key:"pluginName",get:function(){return"mp4Plugin"}},{key:"defaultConfig",get:function(){return{maxBufferLength:40,minBufferLength:5,disableBufferBreakCheck:!1,waitingTimeOut:15e3,waitingInBufferTimeOut:5e3,waitJampBufferMaxCnt:3,tickInSeconds:.1,reqOptions:null,closeDowngrade:!1,preferMMS:!1}}},{key:"version",get:function(){return"3.0.23"}}]),l}(Vi);const fr={class:"play-box",style:{height:"100%"}},yr={class:"play-top absolute"},Xr={class:"play-right absolute"},Wr={class:"interactive"},Lr={class:"count"},Sr={class:"count"},Gr={class:"count"},Vr={class:"count"},gr={class:"play-content"},vr=["id"],Yr={class:"details"},xr={class:"desc-txt title"},wr={key:0,class:"desc-txt actor"},Mr={class:"wrapper"},Tr={xmlns:"http://www.w3.org/2000/svg",class:"svg-icon",style:{width:"1em","margin-right":"6px",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1"},Rr={src:ns,width:"25",alt:""},Ir={src:as,width:"25",alt:""},Cr=ht({__name:"VerticalPlayer",props:{video:{},active:{type:Boolean},isSeries:{type:Boolean},currentRate:{},isCls:{type:Boolean},hdlCmtPopup:{type:Function},hdlSpdPopup:{type:Function},hdlFxPopup:{type:Function}},emits:["update:video","update:isCls","goNext","fullscreenChange"],setup(s,{emit:i}){const l=is(),e=tl(),t=window.Telegram?.WebApp,n=F(window.location.href),a=new AbortController,o=F(null),r=F(null),d=F(null),c=F(!1),u=F(null),m=F(null),p=F(-1),h=t?.isVersionAtLeast("8.0"),Z=s,v=F(Z.video.isVertical),V=i,L=Z.isSeries?Z.video.seriesDescription:`${Z.video.title} | ${Z.video.seriesInfo.description}`,Y=()=>{e.options.history.state?.back!==null?e.back():e.push("/")},g=()=>{const R=u.value;R&&(R.style.setProperty("--full-height",`${R.scrollHeight}px`),c.value=!c.value)},X=()=>{e.push(`/series/${Z.video.seriesShortId}`)},G=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),S=async R=>{const J=R.includes(".m3u8");if(!m.value){console.log("");return}const _={el:m.value,playsinline:!0,plugins:J?[xl]:G()?[]:[br],mp4plugin:{maxBufferLength:30,minBufferLength:5,timeout:6e3},ignores:["volume","play","time"],playbackRate:!1,defaultPlaybackRate:Z.currentRate,"x5-video-player-type":"h5","x5-video-player-fullscreen":"false","x5-video-orientation":"portrait",width:"100%",height:"100%",fullscreen:{useCssFullscreen:!0,needBackIcon:!t?.initData},videoInit:!0,preload:"metadata",url:R,closeVideoDblclick:!0,controls:{autoHide:!1,mode:"bottom"},commonStyle:{playedColor:"rgba(150, 150, 150, 0.3)",progressColor:"rgba(95, 95, 95, 0.3)",sliderBtnStyle:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#fff",border:"none",boxShadow:"none"}},mobile:{gradient:"none"},start:{isShowPause:!0,disableAnimate:!0},icons:{startPlay:"/play.png",startPause:"/pause.png"}};d.value=new Yl(_),d.value?.plugins.fullscreen?.hide(),d.value.once("ready",()=>{Qe.currentFull&&d.value?.getCssFullscreen(),Z.isSeries&&d.value?.root?.querySelector(".xg-left-grid")?.appendChild(r.value)}),d.value.on("pause",ae=>{const O=Math.floor(ae.currentTime);O&&!Z.isSeries&&y(Z.video.shortId,O)}),d.value.on("timeupdate",ae=>{const O=Math.floor(ae.currentTime);O!=p.value&&!Z.isSeries&&(p.value=O,O%15===0&&O!=0&&y(Z.video.shortId,O))}),d.value.on("ended",()=>{Z.isSeries?d.value?.play():V("goNext")}),d.value.once("loadedmetadata",()=>{d.value?.media instanceof HTMLVideoElement&&(v.value=d.value.media.videoWidth<d.value.media.videoHeight)}),d.value.on(wl,ae=>{ae?(Qe.currentFull=!0,V("fullscreenChange",!0),V("update:isCls",!0)):(Qe.currentFull=!1,V("fullscreenChange",!1),V("update:isCls",!1))})};il(()=>{d.value?.pause(),I()});const b=async()=>{try{const R=await me.post("/api/video/url/query",{type:"episode",accessKey:Z.video.episodeAccessKey},{signal:a.signal}),J=R.data.urls||R.data.data?.urls;if(J&&J.length>0)return J[0].cdnUrl||J[0].ossUrl;throw new Error("")}catch(R){throw console.error(":",R),R}},H=()=>{d.value?.isCssfullScreen?(w(),l.name=="discovery"&&(t?.BackButton.hide(),h&&t?.exitFullscreen())):window.history.length>0&&(t?.BackButton.hide(),h&&t?.exitFullscreen(),Y())},C=()=>{t?.initData&&(Z.isSeries||(t.BackButton.show(),h&&t.requestFullscreen()),l.name=="discovery"?Z.active&&t.BackButton.onClick(H):t.BackButton.onClick(H))},I=()=>{t?.initData&&t.BackButton.offClick(H)};Mt(async()=>{if(C(),d.value&&Z.active&&d.value.play().catch(()=>{}),await oi(),Z.video.playUrl)S(Z.video.playUrl);else{const R=await b();V("update:video",{...Z.video,playUrl:R}),S(R)}}),ri(()=>{a.abort(),f(),I()}),sl(()=>{C()});const f=()=>{d.value&&(d.value.destroy(),d.value=null)},y=async(R,J)=>{try{return J==-1?(await me.get("/api/video/progress?episodeIdentifier="+R)).data.data.stopAtSecond||0:await me.post("/api/video/progress",{episodeIdentifier:R,stopAtSecond:J})}catch(_){console.error(_)}};Gt(()=>Z.active,R=>{d.value&&(R?(d.value.play().catch(()=>{}),C()):(d.value.pause(),I()))}),Gt(()=>Z.currentRate,R=>{d.value&&(d.value.playbackRate=R)});const W=()=>{Qe.currentFull=!0,d.value?.getCssFullscreen(),Z.isSeries&&t?.initData&&(h&&t.requestFullscreen(),t.BackButton.isVisible||t.BackButton.show())},w=()=>{Qe.currentFull=!1,d.value?.exitCssFullscreen()};Gt(()=>Qe.currentFull,R=>{!Z.active&&!Z.isSeries&&(R?d.value?.getCssFullscreen():d.value?.exitCssFullscreen())});const x=F(Z.video.userInteraction?.liked||!1),T=F(Z.video.userInteraction?.favorited||!1),M=async()=>{let R=0,J="";if(x.value=!x.value,x.value)try{await me.post("/api/video/episode/activity",{shortId:Z.video.shortId,type:"like"}),R=1}catch(_){x.value=!x.value,console.error("",_),J=""}else try{await me.post("/api/video/episode/reaction/remove",{shortId:Z.video.shortId}),R=-1}catch(_){x.value=!x.value,console.error("",_),J=""}R!==0&&V("update:video",{...Z.video,likeCount:Z.video.likeCount+R,userInteraction:{...Z.video.userInteraction,liked:x.value}}),J&&Ne({message:J,duration:200,forbidClick:!0})},P=async()=>{let R=0,J="";if(T.value=!T.value,T.value)try{await me.post("/api/video/episode/activity",{shortId:Z.video.shortId,type:"favorite"}),R=1}catch(_){T.value=!T.value,console.error("",_),J=""}else try{await me.post("/api/user/favorites/remove",{shortId:Z.video.shortId}),R=-1}catch(_){T.value=!T.value,console.error("",_),J=""}R!==0&&V("update:video",{...Z.video,favoriteCount:Z.video.favoriteCount+R,userInteraction:{...Z.video.userInteraction,favorited:T.value}}),J&&Ne({message:J,duration:200,forbidClick:!0})},K=Math.floor(Math.random()*100)+1,E=async R=>{R==="like"?await M():R==="star"&&await P()},ee=()=>{W()};return(R,J)=>{const _=Zt,ae=Ml,O=vl;return D(),q("div",{class:Ae(["slider-video",{epsnav:R.isSeries}]),style:{height:"100%",width:"10rem"}},[k("div",fr,[k("div",yr,[!R.isSeries&&!_e(t)?.initData?(D(),Je(_,{key:0,name:"arrow-left",onClick:Y})):Te("",!0)]),Ee(k("div",Xr,[k("div",Wr,[k("div",{class:"i-col",onClick:J[0]||(J[0]=ne=>E("like"))},[B(_,{name:"like",size:"31",style:{"padding-bottom":"10px"},class:Ae({active:x.value})},null,8,["class"]),k("span",Lr,te(R.video.likeCount),1)]),k("div",{class:"i-col",onClick:J[1]||(J[1]=ne=>R.hdlCmtPopup(R.video.shortId,R.video.commentCount||0))},[B(_,{name:"comment",size:"31",style:{"padding-bottom":"10px"}}),k("span",Sr,te(R.video.commentCount||0),1)]),k("div",{class:"i-col",onClick:J[2]||(J[2]=ne=>E("star"))},[B(_,{name:"star",size:"31",style:{"padding-bottom":"10px"},class:Ae({active:T.value})},null,8,["class"]),k("span",Gr,te(R.video.favoriteCount),1)]),k("div",{class:"i-col",onClick:J[3]||(J[3]=ne=>R.hdlFxPopup(n.value))},[B(_,{name:"share",size:"31",style:{"padding-bottom":"10px"}}),k("span",Vr,te(K||0),1)]),k("div",{class:"i-col",onClick:J[4]||(J[4]=ne=>R.hdlSpdPopup())},[B(ae,{width:"31",src:"/rate.png",style:{"padding-bottom":"20px"}})])])],512),[[$e,!R.isCls]]),k("div",gr,[k("div",{id:R.video.shortId,ref_key:"refxg",ref:m},null,8,vr),v.value?Te("",!0):(D(),q("div",{key:0,class:"play-rotate-full absolute",onClick:ee},J[6]||(J[6]=[k("img",{src:Za,alt:""},null,-1)]))),k("div",{class:"play-bottom absolute",ref_key:"playBottom",ref:o,style:ss({bottom:R.isSeries?"45px":"8px"})},[Ee(k("div",Yr,[k("div",xr,te(R.video.seriesTitle),1),R.video.seriesInfo?.starring||R.video.seriesActor?(D(),q("div",wr,[(D(!0),q(Oe,null,nt((R.video.seriesInfo?.starring||R.video.seriesActor||"").split(",").slice(0,2),ne=>(D(),q("span",{key:ne}," "+te(ne),1))),128))])):Te("",!0),k("div",Mr,[k("div",{ref_key:"textRef",ref:u,class:Ae(["text",{expanded:c.value}]),onClick:g},te(_e(L).length>160?_e(L).slice(0,160)+"":_e(L)),3),k("div",{class:"toggle",onClick:g},te(c.value?"":""),1)])],512),[[$e,!R.isCls]]),R.isSeries?(D(),q("div",{key:0,class:"eps-btn",ref_key:"epsBtn",ref:r,style:{width:"100% !important","padding-left":"5px"}},[B(O,{onClick:X,background:"rgba(77, 77, 77, 0.3)",color:"white",style:{"border-radius":"5px",width:"100%",height:"35px",padding:"0 10px"},text:`  ${R.video.updateStatus}`,mode:"link"},{"left-icon":He(()=>[(D(),q("svg",Tr,J[7]||(J[7]=[k("path",{d:"M802.133333 85.333333h-580.266666C98.986667 85.333333 0 184.32 0 307.2v409.6c0 122.88 98.986667 221.866667 221.866667 221.866667h580.266666c122.88 0 221.866667-98.986667 221.866667-221.866667V307.2c0-122.88-98.986667-221.866667-221.866667-221.866667z m-92.16 440.32l-307.2 204.8c-3.413333 3.413333-6.826667 3.413333-10.24 3.413334-3.413333 0-6.826667 0-6.826666-3.413334-6.826667 0-10.24-6.826667-10.24-13.653333V307.2c0-6.826667 3.413333-13.653333 10.24-13.653333s13.653333-3.413333 17.066666 0l307.2 204.8c3.413333 3.413333 6.826667 6.826667 6.826667 13.653333s-3.413333 10.24-6.826667 13.653333z",fill:""},null,-1)])))]),_:1},8,["text"]),k("div",{style:{margin:"3px 5px 0 14px"},onClick:J[5]||(J[5]=ne=>V("update:isCls",!R.isCls))},[Ee(k("img",Rr,null,512),[[$e,R.isCls]]),Ee(k("img",Ir,null,512),[[$e,!R.isCls]])])],512)):Te("",!0)],4)])])],2)}}}),Kr=Tt(Cr,[["__scopeId","data-v-766a7e8b"]]),kr={class:"cmt-box"},Hr={class:"cmt-img"},zr=["src"],Nr={class:"cmt-centent"},Pr={class:"cmt-title"},Fr={class:"cmt-text"},Jr={key:0},Ur={class:"reply-to-name"},Er={class:"cmt-reply"},jr={style:{"padding-right":"8px"}},Dr={class:"ctm-lick"},Br={style:{"padding-top":"5px"}},Qr=ht({__name:"ReplyBoxComp",props:{reply:{},nickname:{},startReply:{type:Function}},setup(s){const i=s,l=o=>{const r=new Date(o),c=new Date().getTime()-r.getTime(),u=Math.floor(c/1e3),m=Math.floor(u/60),p=Math.floor(m/60),h=Math.floor(p/24);return h>0?`${h}`:p>0?`${p}`:m>0?`${m}`:""},e=F(!1),t=F(i.reply.liked||!1),n=F(i.reply.likeCount||0),a=async o=>{t.value?n.value-=1:n.value+=1,t.value=!t.value,e.value=!0,setTimeout(()=>e.value=!1,300);try{await me.post("/api/video/comment/like",{commentId:o})}catch(r){console.error("",r)}};return(o,r)=>{const d=Zt;return D(),q("div",kr,[k("div",Hr,[k("img",{style:{width:"28px",height:"28px","border-radius":"50%"},src:o.reply.photoUrl||"https://static.656932.com/defaultavatar/5.png",alt:""},null,8,zr)]),k("div",Nr,[k("div",Pr,te(o.reply.nickname||o.reply.username||""),1),k("div",Fr,[o.nickname!=(o.reply.replyToNickname||o.reply.replyToUsername)?(D(),q("span",Jr,[r[2]||(r[2]=at("  ")),k("span",Ur,te(o.reply.replyToNickname||o.reply.replyToUsername||""),1),r[3]||(r[3]=at(" : "))])):Te("",!0),at(te(o.reply.content),1)]),k("div",Er,[k("span",jr,te(l(o.reply.createdAt)),1),k("span",{onClick:r[0]||(r[0]=c=>o.startReply(o.reply.id,o.reply.nickname||o.reply.username||""))},"  ")])]),k("div",Dr,[B(d,{name:t.value?"like":"like-o",class:Ae({liked:t.value,anim:e.value}),onClick:r[1]||(r[1]=c=>a(o.reply.id))},null,8,["name","class"]),k("span",Br,te(n.value),1)])])}}}),Or=Tt(Qr,[["__scopeId","data-v-05a1b8fd"]]),Ar={class:"cmt-item"},_r={class:"cmt-box"},$r={class:"cmt-img"},qr=["src"],eo={class:"cmt-centent"},to={class:"cmt-title"},io={class:"cmt-text"},so={class:"cmt-reply"},lo={style:{"padding-right":"8px"}},no={class:"ctm-lick"},ao={style:{"padding-top":"5px"}},ro={key:0},oo={class:"replies"},co={key:0,class:"loading"},uo={key:1,class:"divider-title"},mo={class:"chev",viewBox:"0 0 24 24","aria-hidden":"true",width:"18",height:"18",stroke:"currentColor",fill:"none","stroke-width":"2"},po=["d"],ho=ht({__name:"CmtBoxComp",props:{comment:{},index:{},replyLoading:{type:Boolean},startReply:{type:Function},loadReplies:{type:Function}},setup(s){const i=F(!1),l=s,e=F(l.comment.likeCount||0),t=F(l.comment.liked||!1),n=F(l.comment.isFake),a=F(l.comment.nickname||l.comment.username||""),o=u=>{const m=new Date(u),h=new Date().getTime()-m.getTime(),Z=Math.floor(h/1e3),v=Math.floor(Z/60),V=Math.floor(v/60),L=Math.floor(V/24);return L>0?`${L}`:V>0?`${V}`:v>0?`${v}`:""},r=u=>{i.value?u.replyCount==u.recentReplies.length?i.value=!i.value:l.loadReplies(u.id,l.index):i.value=!i.value},d=F(!1),c=async u=>{t.value?e.value-=1:e.value+=1,t.value=!t.value,d.value=!0,setTimeout(()=>d.value=!1,300);try{n.value||await me.post("/api/video/comment/like",{commentId:u})}catch(m){console.error("",m)}};return(u,m)=>{const p=Zt,h=ls;return D(),q("div",Ar,[k("div",_r,[k("div",$r,[k("img",{style:{width:"32px",height:"32px","border-radius":"50%"},src:u.comment.photoUrl||"https://static.656932.com/defaultavatar/5.png",alt:""},null,8,qr)]),k("div",eo,[k("div",to,te(a.value),1),k("div",io,te(u.comment.content),1),k("div",so,[k("span",lo,te(o(u.comment.createdAt)),1),n.value?Te("",!0):(D(),q("span",{key:0,onClick:m[0]||(m[0]=Z=>u.startReply(u.comment.id,a.value))},"  "))])]),k("div",no,[B(p,{name:t.value?"like":"like-o",class:Ae({liked:t.value,anim:d.value}),onClick:m[1]||(m[1]=Z=>c(u.comment.id))},null,8,["name","class"]),k("span",ao,te(e.value),1)])]),u.comment.recentReplies&&u.comment.recentReplies.length>0?(D(),q("div",ro,[Ee(k("div",oo,[(D(!0),q(Oe,null,nt(u.comment.recentReplies,Z=>(D(),q("div",{key:Z.id,class:"reply-item"},[B(Or,{reply:Z,nickname:a.value,animate:d.value,startReply:u.startReply,toggleLike:c},null,8,["reply","nickname","animate","startReply"])]))),128))],512),[[$e,i.value]]),k("div",{class:"divider-toggle",role:"button","aria-expanded":"false",tabindex:"0",onClick:m[2]||(m[2]=Z=>r(u.comment))},[m[5]||(m[5]=k("div",{class:"divider-line"},null,-1)),u.replyLoading?(D(),q("div",co,[m[3]||(m[3]=k("span",{style:{"padding-right":"3px"}},"",-1)),m[4]||(m[4]=at()),B(h,{size:"14px"})])):(D(),q("div",uo,[at(te(i.value?u.comment.replyCount-u.comment.recentReplies.length==0?"":`${u.comment.replyCount-u.comment.recentReplies.length}`:`${u.comment.replyCount}`)+" ",1),(D(),q("svg",mo,[k("path",{d:i.value&&u.comment.replyCount-u.comment.recentReplies.length==0?"M6 15l6-6 6 6":"M6 9l6 6 6-6","stroke-linecap":"round","stroke-linejoin":"round"},null,8,po)]))]))])])):Te("",!0)])}}}),Zo=Tt(ho,[["__scopeId","data-v-c08eb766"]]),bo={class:"player-container"},fo={key:0,class:"bottom-box"},yo={style:{width:"100%"}},Xo={src:ns,width:"25",style:{"margin-bottom":"11px","margin-right":"6px"},alt:""},Wo={src:as,width:"25",style:{"margin-bottom":"11px","margin-right":"6px"},alt:""},Lo={class:"cmt-popup"},So={class:"title-popup"},Go={class:"cmt-content"},Vo={key:0,class:"loading-center"},go={class:"input-wrapper"},vo={key:0,class:"reply-hint",style:{"font-size":"13px",padding:"4px 20px",color:"rgb(135 135 135)","background-color":"rgb(245 245 245)"}},Yo={class:"comment-input"},xo=["disabled"],wo=["onClick"],Mo={class:"eps-popup"},To={class:"eps-content"},Ro=ht({__name:"VertLayoutComp",props:{isSeries:{type:Boolean},seriesId:{}},setup(s){const i=s,l=F(1),e=F(!1),t=F(!1),n=F(!1),a=F(!1),o=F(0),r=F(0),d=F(null),c=ll([]),u=F(""),m=F(!1),p=F(!1),h=F(),Z=F(0),v=is(),V=F(null),L=F(!1),Y=F(!1),g=F([]),X=F(null),G=F(null),S=F(!1),b=[{name:"Telegram",icon:"/static/icon/tg.svg"},{name:"",icon:"link"}],H=async()=>{V.value=null},C=async()=>{const U="https://t.me/xgshort_bot/xgapp?startapp=__series__"+c[r.value].seriesShortId+"___eid="+c[r.value].shortId,N=new Date;N.setMonth(N.getMonth()+1);const fe=await me.post("/api/short-links",{originalURL:U,domain:"xgtv.short.gy",allowDuplicates:!1,ttl:N.toISOString()},{headers:{"Content-Type":"application/json"}});V.value=fe.data.data.shortURL},I=U=>{V.value&&(U.name=="Telegram"?window.open("https://t.me/share/url?url="+V.value,"_blank"):U.name==""&&(navigator.clipboard.writeText(V.value),Ne("")),S.value=!1)},f=(U,N)=>{o.value=N,t.value=!t.value},y=()=>{n.value=!n.value},W=()=>{S.value=!0},w=async U=>{Y.value=!1,g.value=[],r.value=U.activeIndex;const N=c.length-r.value-1;i.isSeries&&!e.value&&N<=2&&(l.value++,await M(l.value))},x=U=>{d.value=U},T=async U=>{const N=await me.get("/api/video/episodes",{params:{seriesShortId:U,page:1,size:200}}),fe=N.data.data||N.data,{list:ge,userProgress:Fe,...It}=fe;c.push(...ge.map(st=>({...st,...It}))),h.value?(Z.value=Math.max(0,c.findIndex(st=>st.shortId===h.value)),d.value?.slideTo(Z.value)):(Z.value=Fe.currentEpisode-1,d.value?.slideTo(Z.value))},M=async U=>{e.value=!0;try{const N=await me.get("/api/video/recommend",{params:{page:U,size:10}}),ge=(N.data.data||N.data).list||[];if(ge.length===0){Ne("");return}c.push(...ge)}catch(N){console.error(":",N),Ne(N.response?.data?.message||"")}e.value=!1};Mt(async()=>{h.value=v.query.eid;try{i.isSeries?await M(l.value):i.seriesId&&await T(i.seriesId)}catch(U){console.error(":",U),Ne("")}t.value=v.query.cmtShow=="true"});const P=()=>{d.value?.slideNext()},K=U=>{U!==-1&&(r.value=U),d.value?.slideTo(U),a.value=!1},E=()=>{p.value=!0,ee(c[r.value].shortId)},ee=async U=>{if(!Y.value){L.value=!0;try{const N=await me.get("/api/video/comments",{params:{episodeShortId:U,page:Math.floor(g.value.length/10)+1,size:10}}),fe=N.data.data||N.data,{comments:ge,total:Fe}=fe;g.value.push(...ge),L.value=!1,g.value.length>=Fe&&(Y.value=!0)}catch(N){console.error("",N),Ne(N.response?.data?.message||"")}}},R=F(!1),J=async(U,N)=>{if(R.value)return;R.value=!0;const fe=Math.floor(g.value[N].recentReplies.length/20)+1,ge=await me.get(`/api/video/episode/comments/${U}/replies`,{params:{page:fe,size:20}}),Fe=ge.data.data||ge.data;fe==1?g.value[N].recentReplies=Fe.replies:g.value[N].recentReplies.push(...Fe.replies),R.value=!1},_=()=>{ee(c[r.value].shortId)},ae=async()=>{if(!m.value&&u.value.trim()){m.value=!0;try{X.value?await me.post("/api/video/episode/comment/reply",{episodeShortId:c[r.value].shortId,parentId:X.value?.id,content:u.value.trim()}):await me.post("/api/video/episode/comment",{shortId:c[r.value].shortId,content:u.value.trim()}),Ne(""),u.value="",Y.value=!1,g.value=[],await ee(c[r.value].shortId),X.value=null}catch(U){console.error(":",U),Ne(U.response?.data?.message||"")}finally{m.value=!1}}},O=[{label:"3.0x",value:3},{label:"2.0x",value:2},{label:"1.5x",value:1.5},{label:"1.25x",value:1.25},{label:"1.0x ()",value:1},{label:"0.75x",value:.75}],ne=F(1),Re=U=>{ne.value=U,n.value=!1},De=U=>{d.value&&i.isSeries&&(d.value.allowTouchMove=!U)},Ie=(U,N)=>{X.value={id:U,nickname:N},oi(()=>{G.value?.focus()})},Be=()=>{X.value=null},Ns=()=>{};return(U,N)=>{const fe=ul,ge=ls,Fe=cl,It=dl,st=Zt,Ps=Tl,Ct=qi,Fs=Nl,Js=ol,Us=rl;return D(),q(Oe,null,[k("div",bo,[B(_e(pa),{direction:"vertical","initial-slide":Z.value,"slides-per-view":1,onSlideChange:w,speed:400,onSwiper:x,touchRatio:1,longSwipesRatio:.12,longSwipesMs:50,followFinger:!0,class:"player-swiper"},{default:He(()=>[(D(!0),q(Oe,null,nt(c,(Q,ve)=>(D(),Je(_e(ha),{key:Q.shortId},{default:He(()=>[Math.abs(r.value-ve)<=1?(D(),Je(Kr,{key:0,video:c[ve],"onUpdate:video":dt=>c[ve]=dt,active:r.value===ve,isSeries:U.isSeries,hdlCmtPopup:f,hdlSpdPopup:y,hdlFxPopup:W,currentRate:ne.value,isCls:p.value,"onUpdate:isCls":N[0]||(N[0]=dt=>p.value=dt),onGoNext:P,onFullscreenChange:De},null,8,["video","onUpdate:video","active","isSeries","currentRate","isCls"])):Te("",!0)]),_:2},1024))),128))]),_:1},8,["initial-slide"])]),!U.isSeries&&!_e(Qe).currentFull?(D(),q("div",fo,[k("div",yo,[B(fe,{class:"eps-list",title:c[0]?.seriesInfo.updateStatus==""?`  ${c.length}`:`  ${c.length}`,icon:"bars","is-link":"","arrow-direction":"up",onClick:N[1]||(N[1]=Q=>a.value=!a.value)},null,8,["title"])]),k("div",{onClick:N[2]||(N[2]=Q=>p.value=!p.value)},[Ee(k("img",Xo,null,512),[[$e,p.value]]),Ee(k("img",Wo,null,512),[[$e,!p.value]])])])):Te("",!0),B(Ct,{show:t.value,"onUpdate:show":N[5]||(N[5]=Q=>t.value=Q),closeable:"","close-icon-position":"top-left","close-icon":"arrow-down",round:"",position:"bottom",style:{height:"60%"},"overlay-style":{background:"none"},"teleport-to":"#app",onOpen:E,onClosed:N[6]||(N[6]=Q=>p.value=!1),duration:"0.05"},{default:He(()=>[k("div",Lo,[k("div",So,te(o.value)+"",1),k("div",Go,[L.value&&g.value.length===0?(D(),q("div",Vo,[B(ge)])):!L.value&&g.value.length===0?(D(),Je(Fe,{key:1,description:"~"})):(D(),Je(It,{key:2,loading:L.value,"onUpdate:loading":N[3]||(N[3]=Q=>L.value=Q),finished:Y.value,"finished-text":"",onLoad:_},{default:He(()=>[(D(!0),q(Oe,null,nt(g.value,(Q,ve)=>(D(),Je(Zo,{comment:Q,startReply:Ie,loadReplies:J,index:ve,replyLoading:R.value,key:Q.id},null,8,["comment","index","replyLoading"]))),128))]),_:1},8,["loading","finished"]))]),k("div",go,[X.value?(D(),q("div",vo,[k("span",null,": "+te(X.value.nickname),1),B(st,{name:"clear",onClick:Be,style:{"padding-left":"5px"}})])):Te("",!0),k("div",Yo,[Ee(k("input",{"onUpdate:modelValue":N[4]||(N[4]=Q=>u.value=Q),type:"text",placeholder:"...",onKeyup:nl(ae,["enter"]),disabled:m.value,ref_key:"inputEl",ref:G,onBlur:Ns},null,40,xo),[[al,u.value]]),B(Ps,{type:"primary",size:"small",loading:m.value,disabled:!u.value.trim()||m.value,onClick:ae},{default:He(()=>N[14]||(N[14]=[at("  ")])),_:1,__:[14]},8,["loading","disabled"])])])])]),_:1},8,["show"]),B(Ct,{show:n.value,"onUpdate:show":N[7]||(N[7]=Q=>n.value=Q),closeable:"","close-icon-position":"top-left","close-icon":"arrow-down",round:"",position:"bottom",style:{height:"60%"},"overlay-style":{background:"none"},"teleport-to":"#app",duration:"0.05",onOpen:N[8]||(N[8]=Q=>p.value=!0),onClosed:N[9]||(N[9]=Q=>p.value=!1)},{default:He(()=>[k("div",null,[N[15]||(N[15]=k("div",{class:"title-popup"},"",-1)),k("div",null,[(D(),q(Oe,null,nt(O,(Q,ve)=>k("div",{key:ve,class:"rate-item",onClick:dt=>Re(Q.value)},[k("span",{style:ss({color:Q.value===ne.value?"orange":"#333"})},te(Q.label),5),Q.value===ne.value?(D(),Je(st,{key:0,name:"success",color:"orange"})):Te("",!0)],8,wo)),64))])])]),_:1},8,["show"]),B(Fs,{show:S.value,"onUpdate:show":N[10]||(N[10]=Q=>S.value=Q),title:"",options:b,onSelect:I,onOpen:C,onClose:H},null,8,["show"]),B(Ct,{show:a.value,"onUpdate:show":N[11]||(N[11]=Q=>a.value=Q),closeable:"","close-icon":"arrow-down",round:"",position:"bottom",style:{height:"60%"},"overlay-style":{background:"none"},"teleport-to":"#app",duration:"0.05",onOpen:N[12]||(N[12]=Q=>p.value=!0),onClosed:N[13]||(N[13]=Q=>p.value=!1)},{default:He(()=>[k("div",Mo,[k("div",null,[B(fe,{title:"",label:`${c.length}`,"title-style":"font-weight: bold; font-size: 18px;"},null,8,["label"])]),k("div",To,[B(Us,{"column-num":5,square:"",gutter:10,clickable:"",style:{"margin-top":"10px"}},{default:He(()=>[(D(!0),q(Oe,null,nt(c,(Q,ve)=>(D(),Je(Js,{key:Q.shortId,text:Q.episodeTitle,onClick:dt=>K(ve),class:Ae(["episode-item",{epsActive:r.value===ve}]),bordered:!1},null,8,["text","onClick","class"]))),128))]),_:1})])])]),_:1},8,["show"])],64)}}}),Jo=Tt(Ro,[["__scopeId","data-v-2165b659"]]);export{Jo as V};
