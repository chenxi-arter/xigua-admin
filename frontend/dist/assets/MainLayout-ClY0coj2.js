import{d as g,r as k,c as r,g as F,a as M,m as N,b as C,w as p,F as V,e as j,o as _,f as A,t as E,_ as K,h as z,i as L,v as U,u as Y,j as I,k as Z,K as q}from"./index-l2XX-SN-.js";import{m as G,n as B,t as y,c as S,u as H,g as J,B as Q,a as W,w as T,e as X,b as ee,i as ae,d as te,I as ne}from"./index-C1umENPv.js";import{u as oe}from"./use-placeholder-Ci5mwoXf.js";import{u as ce,r as re}from"./use-route-DL4dGs0C.js";import{g as se}from"./counter-Cewkf3Xq.js";const[O,w]=S("tabbar"),le={route:Boolean,fixed:y,border:y,zIndex:B,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:G(0),safeAreaInsetBottom:{type:Boolean,default:null}},R=Symbol(O);var ie=g({name:O,props:le,emits:["change","update:modelValue"],setup(e,{emit:s,slots:o}){const u=k(),{linkChildren:c}=H(R),l=oe(u,w),d=()=>{var t;return(t=e.safeAreaInsetBottom)!=null?t:e.fixed},a=()=>{var t;const{fixed:n,zIndex:i,border:v}=e;return r("div",{ref:u,role:"tablist",style:J(i),class:[w({fixed:n}),{[Q]:v,"van-safe-area-bottom":d()}]},[(t=o.default)==null?void 0:t.call(o)])};return c({props:e,setActive:(t,n)=>{W(e.beforeChange,{args:[t],done(){s("update:modelValue",t),s("change",t),n()}})}}),()=>e.fixed&&e.placeholder?l(a):a()}});const ue=T(ie),[de,x]=S("tabbar-item"),me=X({},re,{dot:Boolean,icon:String,name:B,badge:B,badgeProps:Object,iconPrefix:String});var ve=g({name:de,props:me,emits:["click"],setup(e,{emit:s,slots:o}){const u=ce(),c=F().proxy,{parent:l,index:d}=ee(R);if(!l)return;const a=M(()=>{var n;const{route:i,modelValue:v}=l.props;if(i&&"$route"in c){const{$route:h}=c,{to:b}=e,m=ae(b)?b:{path:b};return h.matched.some(P=>{const $="path"in m&&m.path===P.path,D="name"in m&&m.name===P.name;return $||D})}return((n=e.name)!=null?n:d.value)===v}),f=n=>{var i;a.value||l.setActive((i=e.name)!=null?i:d.value,u),s("click",n)},t=()=>{if(o.icon)return o.icon({active:a.value});if(e.icon)return r(ne,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var n;const{dot:i,badge:v}=e,{activeColor:h,inactiveColor:b}=l.props,m=a.value?h:b;return r("div",{role:"tab",class:x({active:a.value}),style:{color:m},tabindex:0,"aria-selected":a.value,onClick:f},[r(te,N({dot:i,class:x("icon"),content:v},e.badgeProps),{default:t}),r("div",{class:x("text")},[(n=o.default)==null?void 0:n.call(o,{active:a.value})])])}}});const be=T(ve),_e={class:"tab-bar"},fe=["src"],pe={class:"tab-label"},ge=g({__name:"TabComp",setup(e){const s=k(0),o=[{label:"首页",name:"homelayout",icon:"/static/img/首页.png",iconActive:"/static/img/首页-ac.png"},{label:"发现",name:"discovery",icon:"/static/img/发现.png",iconActive:"/static/img/发现-ac.png"},{label:"追剧",name:"watch",icon:"/static/img/追剧.png",iconActive:"/static/img/追剧-ac.png"},{label:"我的",name:"user",icon:"/static/img/我的.png",iconActive:"/static/img/我的-ac.png"}];return(u,c)=>{const l=be,d=ue;return _(),C("div",_e,[r(d,{route:"",modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=a=>s.value=a),"active-color":"red","inactive-color":"#969699"},{default:p(()=>[(_(),C(V,null,j(o,a=>r(l,{key:a.name,replace:"",to:{name:a.name}},{icon:p(f=>[A("img",{src:f.active?a.iconActive:a.icon,style:{width:"5.4vw",height:"5.4vw"}},null,8,fe)]),default:p(()=>[A("span",pe,E(a.label),1)]),_:2},1032,["to"])),64))]),_:1},8,["modelValue"])])}}}),he=K(ge,[["__scopeId","data-v-d3e2df6b"]]),Ie=g({__name:"MainLayout",setup(e){return(s,o)=>{const u=L("RouterView");return _(),C(V,null,[r(u,null,{default:p(({Component:c})=>[(_(),I(q,null,[(_(),I(Z(c)))],1024))]),_:1}),z(r(he,null,null,512),[[U,!Y(se).currentFull]])],64)}}});export{Ie as default};
