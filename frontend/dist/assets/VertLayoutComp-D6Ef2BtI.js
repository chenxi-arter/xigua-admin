import{d as st,c as k,a as Kt,m as Is,r as U,L as Di,G as ht,n as Wt,M as At,N as Le,O as Cs,q as Bi,H as Qi,p as Ks,s as ks,P as Hs,l as zs,b as Ze,o as O,y as $e,f as J,h as ke,j as Te,x as He,u as ze,v as De,t as We,D as Oi,F as Ee,e as qe,w as Xe,_ as Ai,E as Ns,J as Fs,Q as Ps,z as ri}from"./index-D4OLzKmM.js";import{B as Js}from"./index-DgBuIB3h.js";import{L as Us}from"./index-BIBO59ai.js";import{C as Es}from"./index-CnztSMdV.js";import{B as oi,f as js,_ as Ds,M as ee,V as di,r as ci,A as ui,a as Bs,b as nt,c as Qs,d as Os,e as As,L as _s,g as mi,h as $s,E as $,i as D,j as hi,N as qs,k as pi,l as _t,m as Zi,F as el,n as tl,o as _e,p as xe,q as il,s as bi,S as St,W as fi,U as Gt,t as at,u as sl,D as ll,v as nl,P as al,H as rl,w as ol}from"./index.min-CNpSimoP.js";import{I as dl}from"./index-BuGwmY_9.js";import{s as ge,a as Ke,P as cl,L as ul}from"./request-D_OrmK6a.js";import{g as Ce}from"./counter-Lr9-FnKt.js";import{f as ml,c as $t,D as hl,w as qt,m as pl,n as kt,t as yi,u as Zl,o as Ht,E as bl,e as fl,b as yl,G as Xl,d as Wl,I as ei}from"./index-PD3_bNtL.js";import{u as Ll}from"./use-id-1Y7y4b6F.js";import{u as Sl,r as Gl}from"./use-route-CbJdgWHJ.js";const[Vl,rt]=$t("empty"),gl={image:ml("default"),imageSize:[Number,String,Array],description:String};var vl=st({name:Vl,props:gl,setup(t,{slots:i}){const l=()=>{const V=i.description?i.description():t.description;if(V)return k("p",{class:rt("description")},[V])},e=()=>{if(i.default)return k("div",{class:rt("bottom")},[i.default()])},s=Ll(),n=V=>`${s}-${V}`,a=V=>`url(#${n(V)})`,o=(V,L,v)=>k("stop",{"stop-color":V,offset:`${L}%`,"stop-opacity":v},null),r=(V,L)=>[o(V,0),o(L,100)],d=V=>[k("defs",null,[k("radialGradient",{id:n(V),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)","data-allow-mismatch":"attribute"},[o("#EBEDF0",0),o("#F2F3F5",100,.3)])]),k("ellipse",{fill:a(V),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8","data-allow-mismatch":"attribute"},null)],c=()=>[k("defs",null,[k("linearGradient",{id:n("a"),x1:"64%",y1:"100%",x2:"64%","data-allow-mismatch":"attribute"},[o("#FFF",0,.5),o("#F2F3F5",100)])]),k("g",{opacity:".8","data-allow-mismatch":"children"},[k("path",{d:"M36 131V53H16v20H2v58h34z",fill:a("a")},null),k("path",{d:"M123 15h22v14h9v77h-31V15z",fill:a("a")},null)])],u=()=>[k("defs",null,[k("linearGradient",{id:n("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%","data-allow-mismatch":"attribute"},[o("#F2F3F5",0,.3),o("#F2F3F5",100)])]),k("g",{opacity:".8","data-allow-mismatch":"children"},[k("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:a("b")},null),k("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:a("b")},null)])],h=()=>k("svg",{viewBox:"0 0 160 160"},[k("defs",{"data-allow-mismatch":"children"},[k("linearGradient",{id:n(1),x1:"64%",y1:"100%",x2:"64%"},[o("#FFF",0,.5),o("#F2F3F5",100)]),k("linearGradient",{id:n(2),x1:"50%",x2:"50%",y2:"84%"},[o("#EBEDF0",0),o("#DCDEE0",100,0)]),k("linearGradient",{id:n(3),x1:"100%",x2:"100%",y2:"100%"},[r("#EAEDF0","#DCDEE0")]),k("radialGradient",{id:n(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[o("#EBEDF0",0),o("#FFF",100,0)])]),k("g",{fill:"none"},[c(),k("path",{fill:a(4),d:"M0 139h160v21H0z","data-allow-mismatch":"attribute"},null),k("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:a(2),"data-allow-mismatch":"attribute"},null),k("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7","data-allow-mismatch":"children"},[k("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:a(3)},null),k("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:a(3)},null),k("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:a(3)},null),k("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:a(3)},null)]),k("g",{transform:"translate(31 105)"},[k("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),k("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),k("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),m=()=>k("svg",{viewBox:"0 0 160 160"},[k("defs",{"data-allow-mismatch":"children"},[k("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:n(5)},[r("#F2F3F5","#DCDEE0")]),k("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:n(6)},[r("#EAEDF1","#DCDEE0")]),k("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:n(7)},[r("#EAEDF1","#DCDEE0")])]),c(),u(),k("g",{transform:"translate(36 50)",fill:"none"},[k("g",{transform:"translate(8)"},[k("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),k("rect",{fill:a(5),width:"64",height:"66",rx:"2","data-allow-mismatch":"attribute"},null),k("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),k("g",{transform:"translate(15 17)",fill:a(6),"data-allow-mismatch":"attribute"},[k("rect",{width:"34",height:"6",rx:"1"},null),k("path",{d:"M0 14h34v6H0z"},null),k("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),k("rect",{fill:a(7),y:"61",width:"88",height:"28",rx:"1","data-allow-mismatch":"attribute"},null),k("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),p=()=>k("svg",{viewBox:"0 0 160 160"},[k("defs",null,[k("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:n(8),"data-allow-mismatch":"attribute"},[r("#EAEDF1","#DCDEE0")])]),c(),u(),d("c"),k("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:a(8),"data-allow-mismatch":"attribute"},null)]),y=()=>k("svg",{viewBox:"0 0 160 160"},[k("defs",{"data-allow-mismatch":"children"},[k("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:n(9)},[r("#EEE","#D8D8D8")]),k("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:n(10)},[r("#F2F3F5","#DCDEE0")]),k("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:n(11)},[r("#F2F3F5","#DCDEE0")]),k("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:n(12)},[r("#FFF","#F7F8FA")])]),c(),u(),d("d"),k("g",{transform:"rotate(-45 113 -4)",fill:"none","data-allow-mismatch":"children"},[k("rect",{fill:a(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),k("rect",{fill:a(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),k("circle",{stroke:a(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),k("circle",{fill:a(12),cx:"27",cy:"27",r:"16"},null),k("path",{d:"M37 7c-8 0-15 5-16 12",stroke:a(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),g=()=>{var V;if(i.image)return i.image();const L={error:p,search:y,network:h,default:m};return((V=L[t.image])==null?void 0:V.call(L))||k("img",{src:t.image},null)};return()=>k("div",{class:rt()},[k("div",{class:rt("image"),style:hl(t.imageSize)},[g()]),l(),e()])}});const xl=qt(vl),[_i,Yl]=$t("grid"),wl={square:Boolean,center:yi,border:yi,gutter:kt,reverse:Boolean,iconSize:kt,direction:String,clickable:Boolean,columnNum:pl(4)},$i=Symbol(_i);var Ml=st({name:_i,props:wl,setup(t,{slots:i}){const{linkChildren:l}=Zl($i);return l({props:t}),()=>{var e;return k("div",{style:{paddingLeft:Ht(t.gutter)},class:[Yl(),{[bl]:t.border&&!t.gutter}]},[(e=i.default)==null?void 0:e.call(i)])}}});const Tl=qt(Ml),[Rl,ot]=$t("grid-item"),Il=fl({},Gl,{dot:Boolean,text:String,icon:String,badge:kt,iconColor:String,iconPrefix:String,badgeProps:Object});var Cl=st({name:Rl,props:Il,setup(t,{slots:i}){const{parent:l,index:e}=yl($i),s=Sl();if(!l)return;const n=Kt(()=>{const{square:c,gutter:u,columnNum:h}=l.props,m=`${100/+h}%`,p={flexBasis:m};if(c)p.paddingTop=m;else if(u){const y=Ht(u);p.paddingRight=y,e.value>=+h&&(p.marginTop=y)}return p}),a=Kt(()=>{const{square:c,gutter:u}=l.props;if(c&&u){const h=Ht(u);return{right:h,bottom:h,height:"auto"}}}),o=()=>{if(i.icon)return k(Wl,Is({dot:t.dot,content:t.badge},t.badgeProps),{default:i.icon});if(t.icon)return k(ei,{dot:t.dot,name:t.icon,size:l.props.iconSize,badge:t.badge,class:ot("icon"),color:t.iconColor,badgeProps:t.badgeProps,classPrefix:t.iconPrefix},null)},r=()=>{if(i.text)return i.text();if(t.text)return k("span",{class:ot("text")},[t.text])},d=()=>i.default?i.default():[o(),r()];return()=>{const{center:c,border:u,square:h,gutter:m,reverse:p,direction:y,clickable:g}=l.props,V=[ot("content",[y,{center:c,square:h,reverse:p,clickable:g,surround:u&&m}]),{[Xl]:u}];return k("div",{class:[ot({square:h})],style:n.value},[k("div",{role:g?"button":void 0,class:V,style:a.value,tabindex:g?0:void 0,onClick:s},[d()])])}}});const Kl=qt(Cl),qi="/clear-up.png",es="/clear-on.png";function Xi(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function ti(t={},i={}){const l=["__proto__","constructor","prototype"];Object.keys(i).filter(e=>l.indexOf(e)<0).forEach(e=>{typeof t[e]>"u"?t[e]=i[e]:Xi(i[e])&&Xi(t[e])&&Object.keys(i[e]).length>0&&ti(t[e],i[e])})}const ts={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Fe(){const t=typeof document<"u"?document:{};return ti(t,ts),t}const kl={document:ts,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function ce(){const t=typeof window<"u"?window:{};return ti(t,kl),t}function Hl(t=""){return t.trim().split(" ").filter(i=>!!i.trim())}function zl(t){const i=t;Object.keys(i).forEach(l=>{try{i[l]=null}catch{}try{delete i[l]}catch{}})}function is(t,i=0){return setTimeout(t,i)}function bt(){return Date.now()}function Nl(t){const i=ce();let l;return i.getComputedStyle&&(l=i.getComputedStyle(t,null)),!l&&t.currentStyle&&(l=t.currentStyle),l||(l=t.style),l}function Fl(t,i="x"){const l=ce();let e,s,n;const a=Nl(t);return l.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(o=>o.replace(",",".")).join(", ")),n=new l.WebKitCSSMatrix(s==="none"?"":s)):(n=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),e=n.toString().split(",")),i==="x"&&(l.WebKitCSSMatrix?s=n.m41:e.length===16?s=parseFloat(e[12]):s=parseFloat(e[4])),i==="y"&&(l.WebKitCSSMatrix?s=n.m42:e.length===16?s=parseFloat(e[13]):s=parseFloat(e[5])),s||0}function dt(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Pl(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function ye(...t){const i=Object(t[0]),l=["__proto__","constructor","prototype"];for(let e=1;e<t.length;e+=1){const s=t[e];if(s!=null&&!Pl(s)){const n=Object.keys(Object(s)).filter(a=>l.indexOf(a)<0);for(let a=0,o=n.length;a<o;a+=1){const r=n[a],d=Object.getOwnPropertyDescriptor(s,r);d!==void 0&&d.enumerable&&(dt(i[r])&&dt(s[r])?s[r].__swiper__?i[r]=s[r]:ye(i[r],s[r]):!dt(i[r])&&dt(s[r])?(i[r]={},s[r].__swiper__?i[r]=s[r]:ye(i[r],s[r])):i[r]=s[r])}}}return i}function ct(t,i,l){t.style.setProperty(i,l)}function ss({swiper:t,targetPosition:i,side:l}){const e=ce(),s=-t.translate;let n=null,a;const o=t.params.speed;t.wrapperEl.style.scrollSnapType="none",e.cancelAnimationFrame(t.cssModeFrameID);const r=i>s?"next":"prev",d=(u,h)=>r==="next"&&u>=h||r==="prev"&&u<=h,c=()=>{a=new Date().getTime(),n===null&&(n=a);const u=Math.max(Math.min((a-n)/o,1),0),h=.5-Math.cos(u*Math.PI)/2;let m=s+h*(i-s);if(d(m,i)&&(m=i),t.wrapperEl.scrollTo({[l]:m}),d(m,i)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[l]:m})}),e.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=e.requestAnimationFrame(c)};c()}function Me(t,i=""){const l=ce(),e=[...t.children];return l.HTMLSlotElement&&t instanceof HTMLSlotElement&&e.push(...t.assignedElements()),i?e.filter(s=>s.matches(i)):e}function Jl(t,i){const l=[i];for(;l.length>0;){const e=l.shift();if(t===e)return!0;l.push(...e.children,...e.shadowRoot?e.shadowRoot.children:[],...e.assignedElements?e.assignedElements():[])}}function Ul(t,i){const l=ce();let e=i.contains(t);return!e&&l.HTMLSlotElement&&i instanceof HTMLSlotElement&&(e=[...i.assignedElements()].includes(t),e||(e=Jl(t,i))),e}function ft(t){try{console.warn(t);return}catch{}}function zt(t,i=[]){const l=document.createElement(t);return l.classList.add(...Array.isArray(i)?i:Hl(i)),l}function El(t,i){const l=[];for(;t.previousElementSibling;){const e=t.previousElementSibling;i?e.matches(i)&&l.push(e):l.push(e),t=e}return l}function jl(t,i){const l=[];for(;t.nextElementSibling;){const e=t.nextElementSibling;i?e.matches(i)&&l.push(e):l.push(e),t=e}return l}function Ie(t,i){return ce().getComputedStyle(t,null).getPropertyValue(i)}function Wi(t){let i=t,l;if(i){for(l=0;(i=i.previousSibling)!==null;)i.nodeType===1&&(l+=1);return l}}function Dl(t,i){const l=[];let e=t.parentElement;for(;e;)l.push(e),e=e.parentElement;return l}function Li(t,i,l){const e=ce();return t[i==="width"?"offsetWidth":"offsetHeight"]+parseFloat(e.getComputedStyle(t,null).getPropertyValue(i==="width"?"margin-right":"margin-top"))+parseFloat(e.getComputedStyle(t,null).getPropertyValue(i==="width"?"margin-left":"margin-bottom"))}function Si(t,i=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:l=>l}).createHTML(i):t.innerHTML=i}let Vt;function Bl(){const t=ce(),i=Fe();return{smoothScroll:i.documentElement&&i.documentElement.style&&"scrollBehavior"in i.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch)}}function ls(){return Vt||(Vt=Bl()),Vt}let gt;function Ql({userAgent:t}={}){const i=ls(),l=ce(),e=l.navigator.platform,s=t||l.navigator.userAgent,n={ios:!1,android:!1},a=l.screen.width,o=l.screen.height,r=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const c=s.match(/(iPod)(.*OS\s([\d_]+))?/),u=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=e==="Win32";let m=e==="MacIntel";const p=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&m&&i.touch&&p.indexOf(`${a}x${o}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),m=!1),r&&!h&&(n.os="android",n.android=!0),(d||u||c)&&(n.os="ios",n.ios=!0),n}function ns(t={}){return gt||(gt=Ql(t)),gt}let vt;function Ol(){const t=ce(),i=ns();let l=!1;function e(){const o=t.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(e()){const o=String(t.navigator.userAgent);if(o.includes("Version/")){const[r,d]=o.split("Version/")[1].split(" ")[0].split(".").map(c=>Number(c));l=r<16||r===16&&d<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),n=e(),a=n||s&&i.ios;return{isSafari:l||n,needPerspectiveFix:l,need3dFix:a,isWebView:s}}function as(){return vt||(vt=Ol()),vt}function Al({swiper:t,on:i,emit:l}){const e=ce();let s=null,n=null;const a=()=>{!t||t.destroyed||!t.initialized||(l("beforeResize"),l("resize"))},o=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(c=>{n=e.requestAnimationFrame(()=>{const{width:u,height:h}=t;let m=u,p=h;c.forEach(({contentBoxSize:y,contentRect:g,target:V})=>{V&&V!==t.el||(m=g?g.width:(y[0]||y).inlineSize,p=g?g.height:(y[0]||y).blockSize)}),(m!==u||p!==h)&&a()})}),s.observe(t.el))},r=()=>{n&&e.cancelAnimationFrame(n),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},d=()=>{!t||t.destroyed||!t.initialized||l("orientationchange")};i("init",()=>{if(t.params.resizeObserver&&typeof e.ResizeObserver<"u"){o();return}e.addEventListener("resize",a),e.addEventListener("orientationchange",d)}),i("destroy",()=>{r(),e.removeEventListener("resize",a),e.removeEventListener("orientationchange",d)})}function _l({swiper:t,extendParams:i,on:l,emit:e}){const s=[],n=ce(),a=(d,c={})=>{const u=n.MutationObserver||n.WebkitMutationObserver,h=new u(m=>{if(t.__preventObserver__)return;if(m.length===1){e("observerUpdate",m[0]);return}const p=function(){e("observerUpdate",m[0])};n.requestAnimationFrame?n.requestAnimationFrame(p):n.setTimeout(p,0)});h.observe(d,{attributes:typeof c.attributes>"u"?!0:c.attributes,childList:t.isElement||(typeof c.childList>"u"?!0:c).childList,characterData:typeof c.characterData>"u"?!0:c.characterData}),s.push(h)},o=()=>{if(t.params.observer){if(t.params.observeParents){const d=Dl(t.hostEl);for(let c=0;c<d.length;c+=1)a(d[c])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},r=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),l("init",o),l("destroy",r)}var $l={on(t,i,l){const e=this;if(!e.eventsListeners||e.destroyed||typeof i!="function")return e;const s=l?"unshift":"push";return t.split(" ").forEach(n=>{e.eventsListeners[n]||(e.eventsListeners[n]=[]),e.eventsListeners[n][s](i)}),e},once(t,i,l){const e=this;if(!e.eventsListeners||e.destroyed||typeof i!="function")return e;function s(...n){e.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,i.apply(e,n)}return s.__emitterProxy=i,e.on(t,s,l)},onAny(t,i){const l=this;if(!l.eventsListeners||l.destroyed||typeof t!="function")return l;const e=i?"unshift":"push";return l.eventsAnyListeners.indexOf(t)<0&&l.eventsAnyListeners[e](t),l},offAny(t){const i=this;if(!i.eventsListeners||i.destroyed||!i.eventsAnyListeners)return i;const l=i.eventsAnyListeners.indexOf(t);return l>=0&&i.eventsAnyListeners.splice(l,1),i},off(t,i){const l=this;return!l.eventsListeners||l.destroyed||!l.eventsListeners||t.split(" ").forEach(e=>{typeof i>"u"?l.eventsListeners[e]=[]:l.eventsListeners[e]&&l.eventsListeners[e].forEach((s,n)=>{(s===i||s.__emitterProxy&&s.__emitterProxy===i)&&l.eventsListeners[e].splice(n,1)})}),l},emit(...t){const i=this;if(!i.eventsListeners||i.destroyed||!i.eventsListeners)return i;let l,e,s;return typeof t[0]=="string"||Array.isArray(t[0])?(l=t[0],e=t.slice(1,t.length),s=i):(l=t[0].events,e=t[0].data,s=t[0].context||i),e.unshift(s),(Array.isArray(l)?l:l.split(" ")).forEach(a=>{i.eventsAnyListeners&&i.eventsAnyListeners.length&&i.eventsAnyListeners.forEach(o=>{o.apply(s,[a,...e])}),i.eventsListeners&&i.eventsListeners[a]&&i.eventsListeners[a].forEach(o=>{o.apply(s,e)})}),i}};function ql(){const t=this;let i,l;const e=t.el;typeof t.params.width<"u"&&t.params.width!==null?i=t.params.width:i=e.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?l=t.params.height:l=e.clientHeight,!(i===0&&t.isHorizontal()||l===0&&t.isVertical())&&(i=i-parseInt(Ie(e,"padding-left")||0,10)-parseInt(Ie(e,"padding-right")||0,10),l=l-parseInt(Ie(e,"padding-top")||0,10)-parseInt(Ie(e,"padding-bottom")||0,10),Number.isNaN(i)&&(i=0),Number.isNaN(l)&&(l=0),Object.assign(t,{width:i,height:l,size:t.isHorizontal()?i:l}))}function en(){const t=this;function i(K,I){return parseFloat(K.getPropertyValue(t.getDirectionLabel(I))||0)}const l=t.params,{wrapperEl:e,slidesEl:s,rtlTranslate:n,wrongRTL:a}=t,o=t.virtual&&l.virtual.enabled,r=o?t.virtual.slides.length:t.slides.length,d=Me(s,`.${t.params.slideClass}, swiper-slide`),c=o?t.virtual.slides.length:d.length;let u=[];const h=[],m=[];let p=l.slidesOffsetBefore;typeof p=="function"&&(p=l.slidesOffsetBefore.call(t));let y=l.slidesOffsetAfter;typeof y=="function"&&(y=l.slidesOffsetAfter.call(t));const g=t.snapGrid.length,V=t.slidesGrid.length,L=t.size-p-y;let v=l.spaceBetween,Y=-p,X=0,G=0;if(typeof L>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*L:typeof v=="string"&&(v=parseFloat(v)),t.virtualSize=-v-p-y,d.forEach(K=>{n?K.style.marginLeft="":K.style.marginRight="",K.style.marginBottom="",K.style.marginTop=""}),l.centeredSlides&&l.cssMode&&(ct(e,"--swiper-centered-offset-before",""),ct(e,"--swiper-centered-offset-after",""));const S=l.grid&&l.grid.rows>1&&t.grid;S?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let Z;const N=l.slidesPerView==="auto"&&l.breakpoints&&Object.keys(l.breakpoints).filter(K=>typeof l.breakpoints[K].slidesPerView<"u").length>0;for(let K=0;K<c;K+=1){Z=0;const I=d[K];if(!(I&&(S&&t.grid.updateSlide(K,I,d),Ie(I,"display")==="none"))){if(o&&l.slidesPerView==="auto")l.virtual.slidesPerViewAutoSlideSize&&(Z=l.virtual.slidesPerViewAutoSlideSize),Z&&I&&(l.roundLengths&&(Z=Math.floor(Z)),I.style[t.getDirectionLabel("width")]=`${Z}px`);else if(l.slidesPerView==="auto"){N&&(I.style[t.getDirectionLabel("width")]="");const b=getComputedStyle(I),f=I.style.transform,W=I.style.webkitTransform;if(f&&(I.style.transform="none"),W&&(I.style.webkitTransform="none"),l.roundLengths)Z=t.isHorizontal()?Li(I,"width"):Li(I,"height");else{const T=i(b,"width"),w=i(b,"padding-left"),C=i(b,"padding-right"),M=i(b,"margin-left"),R=i(b,"margin-right"),x=b.getPropertyValue("box-sizing");if(x&&x==="border-box")Z=T+M+R;else{const{clientWidth:H,offsetWidth:F}=I;Z=T+w+C+M+R+(F-H)}}f&&(I.style.transform=f),W&&(I.style.webkitTransform=W),l.roundLengths&&(Z=Math.floor(Z))}else Z=(L-(l.slidesPerView-1)*v)/l.slidesPerView,l.roundLengths&&(Z=Math.floor(Z)),I&&(I.style[t.getDirectionLabel("width")]=`${Z}px`);I&&(I.swiperSlideSize=Z),m.push(Z),l.centeredSlides?(Y=Y+Z/2+X/2+v,X===0&&K!==0&&(Y=Y-L/2-v),K===0&&(Y=Y-L/2-v),Math.abs(Y)<1/1e3&&(Y=0),l.roundLengths&&(Y=Math.floor(Y)),G%l.slidesPerGroup===0&&u.push(Y),h.push(Y)):(l.roundLengths&&(Y=Math.floor(Y)),(G-Math.min(t.params.slidesPerGroupSkip,G))%t.params.slidesPerGroup===0&&u.push(Y),h.push(Y),Y=Y+Z+v),t.virtualSize+=Z+v,X=Z,G+=1}}if(t.virtualSize=Math.max(t.virtualSize,L)+y,n&&a&&(l.effect==="slide"||l.effect==="coverflow")&&(e.style.width=`${t.virtualSize+v}px`),l.setWrapperSize&&(e.style[t.getDirectionLabel("width")]=`${t.virtualSize+v}px`),S&&t.grid.updateWrapperSize(Z,u),!l.centeredSlides){const K=[];for(let I=0;I<u.length;I+=1){let b=u[I];l.roundLengths&&(b=Math.floor(b)),u[I]<=t.virtualSize-L&&K.push(b)}u=K,Math.floor(t.virtualSize-L)-Math.floor(u[u.length-1])>1&&u.push(t.virtualSize-L)}if(o&&l.loop){const K=m[0]+v;if(l.slidesPerGroup>1){const I=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/l.slidesPerGroup),b=K*l.slidesPerGroup;for(let f=0;f<I;f+=1)u.push(u[u.length-1]+b)}for(let I=0;I<t.virtual.slidesBefore+t.virtual.slidesAfter;I+=1)l.slidesPerGroup===1&&u.push(u[u.length-1]+K),h.push(h[h.length-1]+K),t.virtualSize+=K}if(u.length===0&&(u=[0]),v!==0){const K=t.isHorizontal()&&n?"marginLeft":t.getDirectionLabel("marginRight");d.filter((I,b)=>!l.cssMode||l.loop?!0:b!==d.length-1).forEach(I=>{I.style[K]=`${v}px`})}if(l.centeredSlides&&l.centeredSlidesBounds){let K=0;m.forEach(b=>{K+=b+(v||0)}),K-=v;const I=K>L?K-L:0;u=u.map(b=>b<=0?-p:b>I?I+y:b)}if(l.centerInsufficientSlides){let K=0;m.forEach(b=>{K+=b+(v||0)}),K-=v;const I=(p||0)+(y||0);if(K+I<L){const b=(L-K-I)/2;u.forEach((f,W)=>{u[W]=f-b}),h.forEach((f,W)=>{h[W]=f+b})}}if(Object.assign(t,{slides:d,snapGrid:u,slidesGrid:h,slidesSizesGrid:m}),l.centeredSlides&&l.cssMode&&!l.centeredSlidesBounds){ct(e,"--swiper-centered-offset-before",`${-u[0]}px`),ct(e,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const K=-t.snapGrid[0],I=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(b=>b+K),t.slidesGrid=t.slidesGrid.map(b=>b+I)}if(c!==r&&t.emit("slidesLengthChange"),u.length!==g&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==V&&t.emit("slidesGridLengthChange"),l.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!o&&!l.cssMode&&(l.effect==="slide"||l.effect==="fade")){const K=`${l.containerModifierClass}backface-hidden`,I=t.el.classList.contains(K);c<=l.maxBackfaceHiddenSlides?I||t.el.classList.add(K):I&&t.el.classList.remove(K)}}function tn(t){const i=this,l=[],e=i.virtual&&i.params.virtual.enabled;let s=0,n;typeof t=="number"?i.setTransition(t):t===!0&&i.setTransition(i.params.speed);const a=o=>e?i.slides[i.getSlideIndexByData(o)]:i.slides[o];if(i.params.slidesPerView!=="auto"&&i.params.slidesPerView>1)if(i.params.centeredSlides)(i.visibleSlides||[]).forEach(o=>{l.push(o)});else for(n=0;n<Math.ceil(i.params.slidesPerView);n+=1){const o=i.activeIndex+n;if(o>i.slides.length&&!e)break;l.push(a(o))}else l.push(a(i.activeIndex));for(n=0;n<l.length;n+=1)if(typeof l[n]<"u"){const o=l[n].offsetHeight;s=o>s?o:s}(s||s===0)&&(i.wrapperEl.style.height=`${s}px`)}function sn(){const t=this,i=t.slides,l=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let e=0;e<i.length;e+=1)i[e].swiperSlideOffset=(t.isHorizontal()?i[e].offsetLeft:i[e].offsetTop)-l-t.cssOverflowAdjustment()}const Gi=(t,i,l)=>{i&&!t.classList.contains(l)?t.classList.add(l):!i&&t.classList.contains(l)&&t.classList.remove(l)};function ln(t=this&&this.translate||0){const i=this,l=i.params,{slides:e,rtlTranslate:s,snapGrid:n}=i;if(e.length===0)return;typeof e[0].swiperSlideOffset>"u"&&i.updateSlidesOffset();let a=-t;s&&(a=t),i.visibleSlidesIndexes=[],i.visibleSlides=[];let o=l.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*i.size:typeof o=="string"&&(o=parseFloat(o));for(let r=0;r<e.length;r+=1){const d=e[r];let c=d.swiperSlideOffset;l.cssMode&&l.centeredSlides&&(c-=e[0].swiperSlideOffset);const u=(a+(l.centeredSlides?i.minTranslate():0)-c)/(d.swiperSlideSize+o),h=(a-n[0]+(l.centeredSlides?i.minTranslate():0)-c)/(d.swiperSlideSize+o),m=-(a-c),p=m+i.slidesSizesGrid[r],y=m>=0&&m<=i.size-i.slidesSizesGrid[r],g=m>=0&&m<i.size-1||p>1&&p<=i.size||m<=0&&p>=i.size;g&&(i.visibleSlides.push(d),i.visibleSlidesIndexes.push(r)),Gi(d,g,l.slideVisibleClass),Gi(d,y,l.slideFullyVisibleClass),d.progress=s?-u:u,d.originalProgress=s?-h:h}}function nn(t){const i=this;if(typeof t>"u"){const c=i.rtlTranslate?-1:1;t=i&&i.translate&&i.translate*c||0}const l=i.params,e=i.maxTranslate()-i.minTranslate();let{progress:s,isBeginning:n,isEnd:a,progressLoop:o}=i;const r=n,d=a;if(e===0)s=0,n=!0,a=!0;else{s=(t-i.minTranslate())/e;const c=Math.abs(t-i.minTranslate())<1,u=Math.abs(t-i.maxTranslate())<1;n=c||s<=0,a=u||s>=1,c&&(s=0),u&&(s=1)}if(l.loop){const c=i.getSlideIndexByData(0),u=i.getSlideIndexByData(i.slides.length-1),h=i.slidesGrid[c],m=i.slidesGrid[u],p=i.slidesGrid[i.slidesGrid.length-1],y=Math.abs(t);y>=h?o=(y-h)/p:o=(y+p-m)/p,o>1&&(o-=1)}Object.assign(i,{progress:s,progressLoop:o,isBeginning:n,isEnd:a}),(l.watchSlidesProgress||l.centeredSlides&&l.autoHeight)&&i.updateSlidesProgress(t),n&&!r&&i.emit("reachBeginning toEdge"),a&&!d&&i.emit("reachEnd toEdge"),(r&&!n||d&&!a)&&i.emit("fromEdge"),i.emit("progress",s)}const xt=(t,i,l)=>{i&&!t.classList.contains(l)?t.classList.add(l):!i&&t.classList.contains(l)&&t.classList.remove(l)};function an(){const t=this,{slides:i,params:l,slidesEl:e,activeIndex:s}=t,n=t.virtual&&l.virtual.enabled,a=t.grid&&l.grid&&l.grid.rows>1,o=u=>Me(e,`.${l.slideClass}${u}, swiper-slide${u}`)[0];let r,d,c;if(n)if(l.loop){let u=s-t.virtual.slidesBefore;u<0&&(u=t.virtual.slides.length+u),u>=t.virtual.slides.length&&(u-=t.virtual.slides.length),r=o(`[data-swiper-slide-index="${u}"]`)}else r=o(`[data-swiper-slide-index="${s}"]`);else a?(r=i.find(u=>u.column===s),c=i.find(u=>u.column===s+1),d=i.find(u=>u.column===s-1)):r=i[s];r&&(a||(c=jl(r,`.${l.slideClass}, swiper-slide`)[0],l.loop&&!c&&(c=i[0]),d=El(r,`.${l.slideClass}, swiper-slide`)[0],l.loop&&!d===0&&(d=i[i.length-1]))),i.forEach(u=>{xt(u,u===r,l.slideActiveClass),xt(u,u===c,l.slideNextClass),xt(u,u===d,l.slidePrevClass)}),t.emitSlidesClasses()}const pt=(t,i)=>{if(!t||t.destroyed||!t.params)return;const l=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,e=i.closest(l());if(e){let s=e.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(e.shadowRoot?s=e.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{e.shadowRoot&&(s=e.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Yt=(t,i)=>{if(!t.slides[i])return;const l=t.slides[i].querySelector('[loading="lazy"]');l&&l.removeAttribute("loading")},Nt=t=>{if(!t||t.destroyed||!t.params)return;let i=t.params.lazyPreloadPrevNext;const l=t.slides.length;if(!l||!i||i<0)return;i=Math.min(i,l);const e=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=s,o=[a-i];o.push(...Array.from({length:i}).map((r,d)=>a+e+d)),t.slides.forEach((r,d)=>{o.includes(r.column)&&Yt(t,d)});return}const n=s+e-1;if(t.params.rewind||t.params.loop)for(let a=s-i;a<=n+i;a+=1){const o=(a%l+l)%l;(o<s||o>n)&&Yt(t,o)}else for(let a=Math.max(s-i,0);a<=Math.min(n+i,l-1);a+=1)a!==s&&(a>n||a<s)&&Yt(t,a)};function rn(t){const{slidesGrid:i,params:l}=t,e=t.rtlTranslate?t.translate:-t.translate;let s;for(let n=0;n<i.length;n+=1)typeof i[n+1]<"u"?e>=i[n]&&e<i[n+1]-(i[n+1]-i[n])/2?s=n:e>=i[n]&&e<i[n+1]&&(s=n+1):e>=i[n]&&(s=n);return l.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function on(t){const i=this,l=i.rtlTranslate?i.translate:-i.translate,{snapGrid:e,params:s,activeIndex:n,realIndex:a,snapIndex:o}=i;let r=t,d;const c=m=>{let p=m-i.virtual.slidesBefore;return p<0&&(p=i.virtual.slides.length+p),p>=i.virtual.slides.length&&(p-=i.virtual.slides.length),p};if(typeof r>"u"&&(r=rn(i)),e.indexOf(l)>=0)d=e.indexOf(l);else{const m=Math.min(s.slidesPerGroupSkip,r);d=m+Math.floor((r-m)/s.slidesPerGroup)}if(d>=e.length&&(d=e.length-1),r===n&&!i.params.loop){d!==o&&(i.snapIndex=d,i.emit("snapIndexChange"));return}if(r===n&&i.params.loop&&i.virtual&&i.params.virtual.enabled){i.realIndex=c(r);return}const u=i.grid&&s.grid&&s.grid.rows>1;let h;if(i.virtual&&s.virtual.enabled&&s.loop)h=c(r);else if(u){const m=i.slides.find(y=>y.column===r);let p=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(i.slides.indexOf(m),0)),h=Math.floor(p/s.grid.rows)}else if(i.slides[r]){const m=i.slides[r].getAttribute("data-swiper-slide-index");m?h=parseInt(m,10):h=r}else h=r;Object.assign(i,{previousSnapIndex:o,snapIndex:d,previousRealIndex:a,realIndex:h,previousIndex:n,activeIndex:r}),i.initialized&&Nt(i),i.emit("activeIndexChange"),i.emit("snapIndexChange"),(i.initialized||i.params.runCallbacksOnInit)&&(a!==h&&i.emit("realIndexChange"),i.emit("slideChange"))}function dn(t,i){const l=this,e=l.params;let s=t.closest(`.${e.slideClass}, swiper-slide`);!s&&l.isElement&&i&&i.length>1&&i.includes(t)&&[...i.slice(i.indexOf(t)+1,i.length)].forEach(o=>{!s&&o.matches&&o.matches(`.${e.slideClass}, swiper-slide`)&&(s=o)});let n=!1,a;if(s){for(let o=0;o<l.slides.length;o+=1)if(l.slides[o]===s){n=!0,a=o;break}}if(s&&n)l.clickedSlide=s,l.virtual&&l.params.virtual.enabled?l.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):l.clickedIndex=a;else{l.clickedSlide=void 0,l.clickedIndex=void 0;return}e.slideToClickedSlide&&l.clickedIndex!==void 0&&l.clickedIndex!==l.activeIndex&&l.slideToClickedSlide()}var cn={updateSize:ql,updateSlides:en,updateAutoHeight:tn,updateSlidesOffset:sn,updateSlidesProgress:ln,updateProgress:nn,updateSlidesClasses:an,updateActiveIndex:on,updateClickedSlide:dn};function un(t=this.isHorizontal()?"x":"y"){const i=this,{params:l,rtlTranslate:e,translate:s,wrapperEl:n}=i;if(l.virtualTranslate)return e?-s:s;if(l.cssMode)return s;let a=Fl(n,t);return a+=i.cssOverflowAdjustment(),e&&(a=-a),a||0}function mn(t,i){const l=this,{rtlTranslate:e,params:s,wrapperEl:n,progress:a}=l;let o=0,r=0;const d=0;l.isHorizontal()?o=e?-t:t:r=t,s.roundLengths&&(o=Math.floor(o),r=Math.floor(r)),l.previousTranslate=l.translate,l.translate=l.isHorizontal()?o:r,s.cssMode?n[l.isHorizontal()?"scrollLeft":"scrollTop"]=l.isHorizontal()?-o:-r:s.virtualTranslate||(l.isHorizontal()?o-=l.cssOverflowAdjustment():r-=l.cssOverflowAdjustment(),n.style.transform=`translate3d(${o}px, ${r}px, ${d}px)`);let c;const u=l.maxTranslate()-l.minTranslate();u===0?c=0:c=(t-l.minTranslate())/u,c!==a&&l.updateProgress(t),l.emit("setTranslate",l.translate,i)}function hn(){return-this.snapGrid[0]}function pn(){return-this.snapGrid[this.snapGrid.length-1]}function Zn(t=0,i=this.params.speed,l=!0,e=!0,s){const n=this,{params:a,wrapperEl:o}=n;if(n.animating&&a.preventInteractionOnTransition)return!1;const r=n.minTranslate(),d=n.maxTranslate();let c;if(e&&t>r?c=r:e&&t<d?c=d:c=t,n.updateProgress(c),a.cssMode){const u=n.isHorizontal();if(i===0)o[u?"scrollLeft":"scrollTop"]=-c;else{if(!n.support.smoothScroll)return ss({swiper:n,targetPosition:-c,side:u?"left":"top"}),!0;o.scrollTo({[u?"left":"top"]:-c,behavior:"smooth"})}return!0}return i===0?(n.setTransition(0),n.setTranslate(c),l&&(n.emit("beforeTransitionStart",i,s),n.emit("transitionEnd"))):(n.setTransition(i),n.setTranslate(c),l&&(n.emit("beforeTransitionStart",i,s),n.emit("transitionStart")),n.animating||(n.animating=!0,n.onTranslateToWrapperTransitionEnd||(n.onTranslateToWrapperTransitionEnd=function(h){!n||n.destroyed||h.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.onTranslateToWrapperTransitionEnd=null,delete n.onTranslateToWrapperTransitionEnd,n.animating=!1,l&&n.emit("transitionEnd"))}),n.wrapperEl.addEventListener("transitionend",n.onTranslateToWrapperTransitionEnd))),!0}var bn={getTranslate:un,setTranslate:mn,minTranslate:hn,maxTranslate:pn,translateTo:Zn};function fn(t,i){const l=this;l.params.cssMode||(l.wrapperEl.style.transitionDuration=`${t}ms`,l.wrapperEl.style.transitionDelay=t===0?"0ms":""),l.emit("setTransition",t,i)}function rs({swiper:t,runCallbacks:i,direction:l,step:e}){const{activeIndex:s,previousIndex:n}=t;let a=l;a||(s>n?a="next":s<n?a="prev":a="reset"),t.emit(`transition${e}`),i&&a==="reset"?t.emit(`slideResetTransition${e}`):i&&s!==n&&(t.emit(`slideChangeTransition${e}`),a==="next"?t.emit(`slideNextTransition${e}`):t.emit(`slidePrevTransition${e}`))}function yn(t=!0,i){const l=this,{params:e}=l;e.cssMode||(e.autoHeight&&l.updateAutoHeight(),rs({swiper:l,runCallbacks:t,direction:i,step:"Start"}))}function Xn(t=!0,i){const l=this,{params:e}=l;l.animating=!1,!e.cssMode&&(l.setTransition(0),rs({swiper:l,runCallbacks:t,direction:i,step:"End"}))}var Wn={setTransition:fn,transitionStart:yn,transitionEnd:Xn};function Ln(t=0,i,l=!0,e,s){typeof t=="string"&&(t=parseInt(t,10));const n=this;let a=t;a<0&&(a=0);const{params:o,snapGrid:r,slidesGrid:d,previousIndex:c,activeIndex:u,rtlTranslate:h,wrapperEl:m,enabled:p}=n;if(!p&&!e&&!s||n.destroyed||n.animating&&o.preventInteractionOnTransition)return!1;typeof i>"u"&&(i=n.params.speed);const y=Math.min(n.params.slidesPerGroupSkip,a);let g=y+Math.floor((a-y)/n.params.slidesPerGroup);g>=r.length&&(g=r.length-1);const V=-r[g];if(o.normalizeSlideIndex)for(let S=0;S<d.length;S+=1){const Z=-Math.floor(V*100),N=Math.floor(d[S]*100),K=Math.floor(d[S+1]*100);typeof d[S+1]<"u"?Z>=N&&Z<K-(K-N)/2?a=S:Z>=N&&Z<K&&(a=S+1):Z>=N&&(a=S)}if(n.initialized&&a!==u&&(!n.allowSlideNext&&(h?V>n.translate&&V>n.minTranslate():V<n.translate&&V<n.minTranslate())||!n.allowSlidePrev&&V>n.translate&&V>n.maxTranslate()&&(u||0)!==a))return!1;a!==(c||0)&&l&&n.emit("beforeSlideChangeStart"),n.updateProgress(V);let L;a>u?L="next":a<u?L="prev":L="reset";const v=n.virtual&&n.params.virtual.enabled;if(!(v&&s)&&(h&&-V===n.translate||!h&&V===n.translate))return n.updateActiveIndex(a),o.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),o.effect!=="slide"&&n.setTranslate(V),L!=="reset"&&(n.transitionStart(l,L),n.transitionEnd(l,L)),!1;if(o.cssMode){const S=n.isHorizontal(),Z=h?V:-V;if(i===0)v&&(n.wrapperEl.style.scrollSnapType="none",n._immediateVirtual=!0),v&&!n._cssModeVirtualInitialSet&&n.params.initialSlide>0?(n._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[S?"scrollLeft":"scrollTop"]=Z})):m[S?"scrollLeft":"scrollTop"]=Z,v&&requestAnimationFrame(()=>{n.wrapperEl.style.scrollSnapType="",n._immediateVirtual=!1});else{if(!n.support.smoothScroll)return ss({swiper:n,targetPosition:Z,side:S?"left":"top"}),!0;m.scrollTo({[S?"left":"top"]:Z,behavior:"smooth"})}return!0}const G=as().isSafari;return v&&!s&&G&&n.isElement&&n.virtual.update(!1,!1,a),n.setTransition(i),n.setTranslate(V),n.updateActiveIndex(a),n.updateSlidesClasses(),n.emit("beforeTransitionStart",i,e),n.transitionStart(l,L),i===0?n.transitionEnd(l,L):n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(Z){!n||n.destroyed||Z.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(l,L))}),n.wrapperEl.addEventListener("transitionend",n.onSlideToWrapperTransitionEnd)),!0}function Sn(t=0,i,l=!0,e){typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof i>"u"&&(i=s.params.speed);const n=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let o;if(n){const y=a*s.params.grid.rows;o=s.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===y).column}else o=s.getSlideIndexByData(a);const r=n?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:d,slidesOffsetBefore:c,slidesOffsetAfter:u}=s.params,h=d||!!c||!!u;let m=s.params.slidesPerView;m==="auto"?m=s.slidesPerViewDynamic():(m=Math.ceil(parseFloat(s.params.slidesPerView,10)),h&&m%2===0&&(m=m+1));let p=r-o<m;if(h&&(p=p||o<Math.ceil(m/2)),e&&h&&s.params.slidesPerView!=="auto"&&!n&&(p=!1),p){const y=h?o<s.activeIndex?"prev":"next":o-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:y,slideTo:!0,activeSlideIndex:y==="next"?o+1:o-r+1,slideRealIndex:y==="next"?s.realIndex:void 0})}if(n){const y=a*s.params.grid.rows;a=s.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===y).column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,i,l,e)}),s}function Gn(t,i=!0,l){const e=this,{enabled:s,params:n,animating:a}=e;if(!s||e.destroyed)return e;typeof t>"u"&&(t=e.params.speed);let o=n.slidesPerGroup;n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(o=Math.max(e.slidesPerViewDynamic("current",!0),1));const r=e.activeIndex<n.slidesPerGroupSkip?1:o,d=e.virtual&&n.virtual.enabled;if(n.loop){if(a&&!d&&n.loopPreventsSliding)return!1;if(e.loopFix({direction:"next"}),e._clientLeft=e.wrapperEl.clientLeft,e.activeIndex===e.slides.length-1&&n.cssMode)return requestAnimationFrame(()=>{e.slideTo(e.activeIndex+r,t,i,l)}),!0}return n.rewind&&e.isEnd?e.slideTo(0,t,i,l):e.slideTo(e.activeIndex+r,t,i,l)}function Vn(t,i=!0,l){const e=this,{params:s,snapGrid:n,slidesGrid:a,rtlTranslate:o,enabled:r,animating:d}=e;if(!r||e.destroyed)return e;typeof t>"u"&&(t=e.params.speed);const c=e.virtual&&s.virtual.enabled;if(s.loop){if(d&&!c&&s.loopPreventsSliding)return!1;e.loopFix({direction:"prev"}),e._clientLeft=e.wrapperEl.clientLeft}const u=o?e.translate:-e.translate;function h(L){return L<0?-Math.floor(Math.abs(L)):Math.floor(L)}const m=h(u),p=n.map(L=>h(L)),y=s.freeMode&&s.freeMode.enabled;let g=n[p.indexOf(m)-1];if(typeof g>"u"&&(s.cssMode||y)){let L;n.forEach((v,Y)=>{m>=v&&(L=Y)}),typeof L<"u"&&(g=y?n[L]:n[L>0?L-1:L])}let V=0;if(typeof g<"u"&&(V=a.indexOf(g),V<0&&(V=e.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(V=V-e.slidesPerViewDynamic("previous",!0)+1,V=Math.max(V,0))),s.rewind&&e.isBeginning){const L=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1;return e.slideTo(L,t,i,l)}else if(s.loop&&e.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{e.slideTo(V,t,i,l)}),!0;return e.slideTo(V,t,i,l)}function gn(t,i=!0,l){const e=this;if(!e.destroyed)return typeof t>"u"&&(t=e.params.speed),e.slideTo(e.activeIndex,t,i,l)}function vn(t,i=!0,l,e=.5){const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let n=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,n),o=a+Math.floor((n-a)/s.params.slidesPerGroup),r=s.rtlTranslate?s.translate:-s.translate;if(r>=s.snapGrid[o]){const d=s.snapGrid[o],c=s.snapGrid[o+1];r-d>(c-d)*e&&(n+=s.params.slidesPerGroup)}else{const d=s.snapGrid[o-1],c=s.snapGrid[o];r-d<=(c-d)*e&&(n-=s.params.slidesPerGroup)}return n=Math.max(n,0),n=Math.min(n,s.slidesGrid.length-1),s.slideTo(n,t,i,l)}function xn(){const t=this;if(t.destroyed)return;const{params:i,slidesEl:l}=t,e=i.slidesPerView==="auto"?t.slidesPerViewDynamic():i.slidesPerView;let s=t.getSlideIndexWhenGrid(t.clickedIndex),n;const a=t.isElement?"swiper-slide":`.${i.slideClass}`,o=t.grid&&t.params.grid&&t.params.grid.rows>1;if(i.loop){if(t.animating)return;n=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),i.centeredSlides?t.slideToLoop(n):s>(o?(t.slides.length-e)/2-(t.params.grid.rows-1):t.slides.length-e)?(t.loopFix(),s=t.getSlideIndex(Me(l,`${a}[data-swiper-slide-index="${n}"]`)[0]),is(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var Yn={slideTo:Ln,slideToLoop:Sn,slideNext:Gn,slidePrev:Vn,slideReset:gn,slideToClosest:vn,slideToClickedSlide:xn};function wn(t,i){const l=this,{params:e,slidesEl:s}=l;if(!e.loop||l.virtual&&l.params.virtual.enabled)return;const n=()=>{Me(s,`.${e.slideClass}, swiper-slide`).forEach((p,y)=>{p.setAttribute("data-swiper-slide-index",y)})},a=()=>{const m=Me(s,`.${e.slideBlankClass}`);m.forEach(p=>{p.remove()}),m.length>0&&(l.recalcSlides(),l.updateSlides())},o=l.grid&&e.grid&&e.grid.rows>1;e.loopAddBlankSlides&&(e.slidesPerGroup>1||o)&&a();const r=e.slidesPerGroup*(o?e.grid.rows:1),d=l.slides.length%r!==0,c=o&&l.slides.length%e.grid.rows!==0,u=m=>{for(let p=0;p<m;p+=1){const y=l.isElement?zt("swiper-slide",[e.slideBlankClass]):zt("div",[e.slideClass,e.slideBlankClass]);l.slidesEl.append(y)}};if(d){if(e.loopAddBlankSlides){const m=r-l.slides.length%r;u(m),l.recalcSlides(),l.updateSlides()}else ft("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else if(c){if(e.loopAddBlankSlides){const m=e.grid.rows-l.slides.length%e.grid.rows;u(m),l.recalcSlides(),l.updateSlides()}else ft("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else n();const h=e.centeredSlides||!!e.slidesOffsetBefore||!!e.slidesOffsetAfter;l.loopFix({slideRealIndex:t,direction:h?void 0:"next",initial:i})}function Mn({slideRealIndex:t,slideTo:i=!0,direction:l,setTranslate:e,activeSlideIndex:s,initial:n,byController:a,byMousewheel:o}={}){const r=this;if(!r.params.loop)return;r.emit("beforeLoopFix");const{slides:d,allowSlidePrev:c,allowSlideNext:u,slidesEl:h,params:m}=r,{centeredSlides:p,slidesOffsetBefore:y,slidesOffsetAfter:g,initialSlide:V}=m,L=p||!!y||!!g;if(r.allowSlidePrev=!0,r.allowSlideNext=!0,r.virtual&&m.virtual.enabled){i&&(!L&&r.snapIndex===0?r.slideTo(r.virtual.slides.length,0,!1,!0):L&&r.snapIndex<m.slidesPerView?r.slideTo(r.virtual.slides.length+r.snapIndex,0,!1,!0):r.snapIndex===r.snapGrid.length-1&&r.slideTo(r.virtual.slidesBefore,0,!1,!0)),r.allowSlidePrev=c,r.allowSlideNext=u,r.emit("loopFix");return}let v=m.slidesPerView;v==="auto"?v=r.slidesPerViewDynamic():(v=Math.ceil(parseFloat(m.slidesPerView,10)),L&&v%2===0&&(v=v+1));const Y=m.slidesPerGroupAuto?v:m.slidesPerGroup;let X=L?Math.max(Y,Math.ceil(v/2)):Y;X%Y!==0&&(X+=Y-X%Y),X+=m.loopAdditionalSlides,r.loopedSlides=X;const G=r.grid&&m.grid&&m.grid.rows>1;d.length<v+X||r.params.effect==="cards"&&d.length<v+X*2?ft("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):G&&m.grid.fill==="row"&&ft("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const S=[],Z=[],N=G?Math.ceil(d.length/m.grid.rows):d.length,K=n&&N-V<v&&!L;let I=K?V:r.activeIndex;typeof s>"u"?s=r.getSlideIndex(d.find(M=>M.classList.contains(m.slideActiveClass))):I=s;const b=l==="next"||!l,f=l==="prev"||!l;let W=0,T=0;const C=(G?d[s].column:s)+(L&&typeof e>"u"?-v/2+.5:0);if(C<X){W=Math.max(X-C,Y);for(let M=0;M<X-C;M+=1){const R=M-Math.floor(M/N)*N;if(G){const x=N-R-1;for(let H=d.length-1;H>=0;H-=1)d[H].column===x&&S.push(H)}else S.push(N-R-1)}}else if(C+v>N-X){T=Math.max(C-(N-X*2),Y),K&&(T=Math.max(T,v-N+V+1));for(let M=0;M<T;M+=1){const R=M-Math.floor(M/N)*N;G?d.forEach((x,H)=>{x.column===R&&Z.push(H)}):Z.push(R)}}if(r.__preventObserver__=!0,requestAnimationFrame(()=>{r.__preventObserver__=!1}),r.params.effect==="cards"&&d.length<v+X*2&&(Z.includes(s)&&Z.splice(Z.indexOf(s),1),S.includes(s)&&S.splice(S.indexOf(s),1)),f&&S.forEach(M=>{d[M].swiperLoopMoveDOM=!0,h.prepend(d[M]),d[M].swiperLoopMoveDOM=!1}),b&&Z.forEach(M=>{d[M].swiperLoopMoveDOM=!0,h.append(d[M]),d[M].swiperLoopMoveDOM=!1}),r.recalcSlides(),m.slidesPerView==="auto"?r.updateSlides():G&&(S.length>0&&f||Z.length>0&&b)&&r.slides.forEach((M,R)=>{r.grid.updateSlide(R,M,r.slides)}),m.watchSlidesProgress&&r.updateSlidesOffset(),i){if(S.length>0&&f){if(typeof t>"u"){const M=r.slidesGrid[I],x=r.slidesGrid[I+W]-M;o?r.setTranslate(r.translate-x):(r.slideTo(I+Math.ceil(W),0,!1,!0),e&&(r.touchEventsData.startTranslate=r.touchEventsData.startTranslate-x,r.touchEventsData.currentTranslate=r.touchEventsData.currentTranslate-x))}else if(e){const M=G?S.length/m.grid.rows:S.length;r.slideTo(r.activeIndex+M,0,!1,!0),r.touchEventsData.currentTranslate=r.translate}}else if(Z.length>0&&b)if(typeof t>"u"){const M=r.slidesGrid[I],x=r.slidesGrid[I-T]-M;o?r.setTranslate(r.translate-x):(r.slideTo(I-T,0,!1,!0),e&&(r.touchEventsData.startTranslate=r.touchEventsData.startTranslate-x,r.touchEventsData.currentTranslate=r.touchEventsData.currentTranslate-x))}else{const M=G?Z.length/m.grid.rows:Z.length;r.slideTo(r.activeIndex-M,0,!1,!0)}}if(r.allowSlidePrev=c,r.allowSlideNext=u,r.controller&&r.controller.control&&!a){const M={slideRealIndex:t,direction:l,setTranslate:e,activeSlideIndex:s,byController:!0};Array.isArray(r.controller.control)?r.controller.control.forEach(R=>{!R.destroyed&&R.params.loop&&R.loopFix({...M,slideTo:R.params.slidesPerView===m.slidesPerView?i:!1})}):r.controller.control instanceof r.constructor&&r.controller.control.params.loop&&r.controller.control.loopFix({...M,slideTo:r.controller.control.params.slidesPerView===m.slidesPerView?i:!1})}r.emit("loopFix")}function Tn(){const t=this,{params:i,slidesEl:l}=t;if(!i.loop||!l||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const e=[];t.slides.forEach(s=>{const n=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;e[n]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),e.forEach(s=>{l.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Rn={loopCreate:wn,loopFix:Mn,loopDestroy:Tn};function In(t){const i=this;if(!i.params.simulateTouch||i.params.watchOverflow&&i.isLocked||i.params.cssMode)return;const l=i.params.touchEventsTarget==="container"?i.el:i.wrapperEl;i.isElement&&(i.__preventObserver__=!0),l.style.cursor="move",l.style.cursor=t?"grabbing":"grab",i.isElement&&requestAnimationFrame(()=>{i.__preventObserver__=!1})}function Cn(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Kn={setGrabCursor:In,unsetGrabCursor:Cn};function kn(t,i=this){function l(e){if(!e||e===Fe()||e===ce())return null;e.assignedSlot&&(e=e.assignedSlot);const s=e.closest(t);return!s&&!e.getRootNode?null:s||l(e.getRootNode().host)}return l(i)}function Vi(t,i,l){const e=ce(),{params:s}=t,n=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return n&&(l<=a||l>=e.innerWidth-a)?n==="prevent"?(i.preventDefault(),!0):!1:!0}function Hn(t){const i=this,l=Fe();let e=t;e.originalEvent&&(e=e.originalEvent);const s=i.touchEventsData;if(e.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==e.pointerId)return;s.pointerId=e.pointerId}else e.type==="touchstart"&&e.targetTouches.length===1&&(s.touchId=e.targetTouches[0].identifier);if(e.type==="touchstart"){Vi(i,e,e.targetTouches[0].pageX);return}const{params:n,touches:a,enabled:o}=i;if(!o||!n.simulateTouch&&e.pointerType==="mouse"||i.animating&&n.preventInteractionOnTransition)return;!i.animating&&n.cssMode&&n.loop&&i.loopFix();let r=e.target;if(n.touchEventsTarget==="wrapper"&&!Ul(r,i.wrapperEl)||"which"in e&&e.which===3||"button"in e&&e.button>0||s.isTouched&&s.isMoved)return;const d=!!n.noSwipingClass&&n.noSwipingClass!=="",c=e.composedPath?e.composedPath():e.path;d&&e.target&&e.target.shadowRoot&&c&&(r=c[0]);const u=n.noSwipingSelector?n.noSwipingSelector:`.${n.noSwipingClass}`,h=!!(e.target&&e.target.shadowRoot);if(n.noSwiping&&(h?kn(u,r):r.closest(u))){i.allowClick=!0;return}if(n.swipeHandler&&!r.closest(n.swipeHandler))return;a.currentX=e.pageX,a.currentY=e.pageY;const m=a.currentX,p=a.currentY;if(!Vi(i,e,m))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=m,a.startY=p,s.touchStartTime=bt(),i.allowClick=!0,i.updateSize(),i.swipeDirection=void 0,n.threshold>0&&(s.allowThresholdMove=!1);let y=!0;r.matches(s.focusableElements)&&(y=!1,r.nodeName==="SELECT"&&(s.isTouched=!1)),l.activeElement&&l.activeElement.matches(s.focusableElements)&&l.activeElement!==r&&(e.pointerType==="mouse"||e.pointerType!=="mouse"&&!r.matches(s.focusableElements))&&l.activeElement.blur();const g=y&&i.allowTouchMove&&n.touchStartPreventDefault;(n.touchStartForcePreventDefault||g)&&!r.isContentEditable&&e.preventDefault(),n.freeMode&&n.freeMode.enabled&&i.freeMode&&i.animating&&!n.cssMode&&i.freeMode.onTouchStart(),i.emit("touchStart",e)}function zn(t){const i=Fe(),l=this,e=l.touchEventsData,{params:s,touches:n,rtlTranslate:a,enabled:o}=l;if(!o||!s.simulateTouch&&t.pointerType==="mouse")return;let r=t;if(r.originalEvent&&(r=r.originalEvent),r.type==="pointermove"&&(e.touchId!==null||r.pointerId!==e.pointerId))return;let d;if(r.type==="touchmove"){if(d=[...r.changedTouches].find(X=>X.identifier===e.touchId),!d||d.identifier!==e.touchId)return}else d=r;if(!e.isTouched){e.startMoving&&e.isScrolling&&l.emit("touchMoveOpposite",r);return}const c=d.pageX,u=d.pageY;if(r.preventedByNestedSwiper){n.startX=c,n.startY=u;return}if(!l.allowTouchMove){r.target.matches(e.focusableElements)||(l.allowClick=!1),e.isTouched&&(Object.assign(n,{startX:c,startY:u,currentX:c,currentY:u}),e.touchStartTime=bt());return}if(s.touchReleaseOnEdges&&!s.loop)if(l.isVertical()){if(u<n.startY&&l.translate<=l.maxTranslate()||u>n.startY&&l.translate>=l.minTranslate()){e.isTouched=!1,e.isMoved=!1;return}}else{if(a&&(c>n.startX&&-l.translate<=l.maxTranslate()||c<n.startX&&-l.translate>=l.minTranslate()))return;if(!a&&(c<n.startX&&l.translate<=l.maxTranslate()||c>n.startX&&l.translate>=l.minTranslate()))return}if(i.activeElement&&i.activeElement.matches(e.focusableElements)&&i.activeElement!==r.target&&r.pointerType!=="mouse"&&i.activeElement.blur(),i.activeElement&&r.target===i.activeElement&&r.target.matches(e.focusableElements)){e.isMoved=!0,l.allowClick=!1;return}e.allowTouchCallbacks&&l.emit("touchMove",r),n.previousX=n.currentX,n.previousY=n.currentY,n.currentX=c,n.currentY=u;const h=n.currentX-n.startX,m=n.currentY-n.startY;if(l.params.threshold&&Math.sqrt(h**2+m**2)<l.params.threshold)return;if(typeof e.isScrolling>"u"){let X;l.isHorizontal()&&n.currentY===n.startY||l.isVertical()&&n.currentX===n.startX?e.isScrolling=!1:h*h+m*m>=25&&(X=Math.atan2(Math.abs(m),Math.abs(h))*180/Math.PI,e.isScrolling=l.isHorizontal()?X>s.touchAngle:90-X>s.touchAngle)}if(e.isScrolling&&l.emit("touchMoveOpposite",r),typeof e.startMoving>"u"&&(n.currentX!==n.startX||n.currentY!==n.startY)&&(e.startMoving=!0),e.isScrolling||r.type==="touchmove"&&e.preventTouchMoveFromPointerMove){e.isTouched=!1;return}if(!e.startMoving)return;l.allowClick=!1,!s.cssMode&&r.cancelable&&r.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&r.stopPropagation();let p=l.isHorizontal()?h:m,y=l.isHorizontal()?n.currentX-n.previousX:n.currentY-n.previousY;s.oneWayMovement&&(p=Math.abs(p)*(a?1:-1),y=Math.abs(y)*(a?1:-1)),n.diff=p,p*=s.touchRatio,a&&(p=-p,y=-y);const g=l.touchesDirection;l.swipeDirection=p>0?"prev":"next",l.touchesDirection=y>0?"prev":"next";const V=l.params.loop&&!s.cssMode,L=l.touchesDirection==="next"&&l.allowSlideNext||l.touchesDirection==="prev"&&l.allowSlidePrev;if(!e.isMoved){if(V&&L&&l.loopFix({direction:l.swipeDirection}),e.startTranslate=l.getTranslate(),l.setTransition(0),l.animating){const X=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});l.wrapperEl.dispatchEvent(X)}e.allowMomentumBounce=!1,s.grabCursor&&(l.allowSlideNext===!0||l.allowSlidePrev===!0)&&l.setGrabCursor(!0),l.emit("sliderFirstMove",r)}if(new Date().getTime(),s._loopSwapReset!==!1&&e.isMoved&&e.allowThresholdMove&&g!==l.touchesDirection&&V&&L&&Math.abs(p)>=1){Object.assign(n,{startX:c,startY:u,currentX:c,currentY:u,startTranslate:e.currentTranslate}),e.loopSwapReset=!0,e.startTranslate=e.currentTranslate;return}l.emit("sliderMove",r),e.isMoved=!0,e.currentTranslate=p+e.startTranslate;let v=!0,Y=s.resistanceRatio;if(s.touchReleaseOnEdges&&(Y=0),p>0?(V&&L&&e.allowThresholdMove&&e.currentTranslate>(s.centeredSlides?l.minTranslate()-l.slidesSizesGrid[l.activeIndex+1]-(s.slidesPerView!=="auto"&&l.slides.length-s.slidesPerView>=2?l.slidesSizesGrid[l.activeIndex+1]+l.params.spaceBetween:0)-l.params.spaceBetween:l.minTranslate())&&l.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),e.currentTranslate>l.minTranslate()&&(v=!1,s.resistance&&(e.currentTranslate=l.minTranslate()-1+(-l.minTranslate()+e.startTranslate+p)**Y))):p<0&&(V&&L&&e.allowThresholdMove&&e.currentTranslate<(s.centeredSlides?l.maxTranslate()+l.slidesSizesGrid[l.slidesSizesGrid.length-1]+l.params.spaceBetween+(s.slidesPerView!=="auto"&&l.slides.length-s.slidesPerView>=2?l.slidesSizesGrid[l.slidesSizesGrid.length-1]+l.params.spaceBetween:0):l.maxTranslate())&&l.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:l.slides.length-(s.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),e.currentTranslate<l.maxTranslate()&&(v=!1,s.resistance&&(e.currentTranslate=l.maxTranslate()+1-(l.maxTranslate()-e.startTranslate-p)**Y))),v&&(r.preventedByNestedSwiper=!0),!l.allowSlideNext&&l.swipeDirection==="next"&&e.currentTranslate<e.startTranslate&&(e.currentTranslate=e.startTranslate),!l.allowSlidePrev&&l.swipeDirection==="prev"&&e.currentTranslate>e.startTranslate&&(e.currentTranslate=e.startTranslate),!l.allowSlidePrev&&!l.allowSlideNext&&(e.currentTranslate=e.startTranslate),s.threshold>0)if(Math.abs(p)>s.threshold||e.allowThresholdMove){if(!e.allowThresholdMove){e.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,e.currentTranslate=e.startTranslate,n.diff=l.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY;return}}else{e.currentTranslate=e.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&l.freeMode||s.watchSlidesProgress)&&(l.updateActiveIndex(),l.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&l.freeMode&&l.freeMode.onTouchMove(),l.updateProgress(e.currentTranslate),l.setTranslate(e.currentTranslate))}function Nn(t){const i=this,l=i.touchEventsData;let e=t;e.originalEvent&&(e=e.originalEvent);let s;if(e.type==="touchend"||e.type==="touchcancel"){if(s=[...e.changedTouches].find(X=>X.identifier===l.touchId),!s||s.identifier!==l.touchId)return}else{if(l.touchId!==null||e.pointerId!==l.pointerId)return;s=e}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(e.type)&&!(["pointercancel","contextmenu"].includes(e.type)&&(i.browser.isSafari||i.browser.isWebView)))return;l.pointerId=null,l.touchId=null;const{params:a,touches:o,rtlTranslate:r,slidesGrid:d,enabled:c}=i;if(!c||!a.simulateTouch&&e.pointerType==="mouse")return;if(l.allowTouchCallbacks&&i.emit("touchEnd",e),l.allowTouchCallbacks=!1,!l.isTouched){l.isMoved&&a.grabCursor&&i.setGrabCursor(!1),l.isMoved=!1,l.startMoving=!1;return}a.grabCursor&&l.isMoved&&l.isTouched&&(i.allowSlideNext===!0||i.allowSlidePrev===!0)&&i.setGrabCursor(!1);const u=bt(),h=u-l.touchStartTime;if(i.allowClick){const X=e.path||e.composedPath&&e.composedPath();i.updateClickedSlide(X&&X[0]||e.target,X),i.emit("tap click",e),h<300&&u-l.lastClickTime<300&&i.emit("doubleTap doubleClick",e)}if(l.lastClickTime=bt(),is(()=>{i.destroyed||(i.allowClick=!0)}),!l.isTouched||!l.isMoved||!i.swipeDirection||o.diff===0&&!l.loopSwapReset||l.currentTranslate===l.startTranslate&&!l.loopSwapReset){l.isTouched=!1,l.isMoved=!1,l.startMoving=!1;return}l.isTouched=!1,l.isMoved=!1,l.startMoving=!1;let m;if(a.followFinger?m=r?i.translate:-i.translate:m=-l.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){i.freeMode.onTouchEnd({currentPos:m});return}const p=m>=-i.maxTranslate()&&!i.params.loop;let y=0,g=i.slidesSizesGrid[0];for(let X=0;X<d.length;X+=X<a.slidesPerGroupSkip?1:a.slidesPerGroup){const G=X<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof d[X+G]<"u"?(p||m>=d[X]&&m<d[X+G])&&(y=X,g=d[X+G]-d[X]):(p||m>=d[X])&&(y=X,g=d[d.length-1]-d[d.length-2])}let V=null,L=null;a.rewind&&(i.isBeginning?L=a.virtual&&a.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1:i.isEnd&&(V=0));const v=(m-d[y])/g,Y=y<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(h>a.longSwipesMs){if(!a.longSwipes){i.slideTo(i.activeIndex);return}i.swipeDirection==="next"&&(v>=a.longSwipesRatio?i.slideTo(a.rewind&&i.isEnd?V:y+Y):i.slideTo(y)),i.swipeDirection==="prev"&&(v>1-a.longSwipesRatio?i.slideTo(y+Y):L!==null&&v<0&&Math.abs(v)>a.longSwipesRatio?i.slideTo(L):i.slideTo(y))}else{if(!a.shortSwipes){i.slideTo(i.activeIndex);return}i.navigation&&(e.target===i.navigation.nextEl||e.target===i.navigation.prevEl)?e.target===i.navigation.nextEl?i.slideTo(y+Y):i.slideTo(y):(i.swipeDirection==="next"&&i.slideTo(V!==null?V:y+Y),i.swipeDirection==="prev"&&i.slideTo(L!==null?L:y))}}function gi(){const t=this,{params:i,el:l}=t;if(l&&l.offsetWidth===0)return;i.breakpoints&&t.setBreakpoint();const{allowSlideNext:e,allowSlidePrev:s,snapGrid:n}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const o=a&&i.loop;(i.slidesPerView==="auto"||i.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!o?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=e,t.params.watchOverflow&&n!==t.snapGrid&&t.checkOverflow()}function Fn(t){const i=this;i.enabled&&(i.allowClick||(i.params.preventClicks&&t.preventDefault(),i.params.preventClicksPropagation&&i.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Pn(){const t=this,{wrapperEl:i,rtlTranslate:l,enabled:e}=t;if(!e)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-i.scrollLeft:t.translate=-i.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const n=t.maxTranslate()-t.minTranslate();n===0?s=0:s=(t.translate-t.minTranslate())/n,s!==t.progress&&t.updateProgress(l?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Jn(t){const i=this;pt(i,t.target),!(i.params.cssMode||i.params.slidesPerView!=="auto"&&!i.params.autoHeight)&&i.update()}function Un(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const os=(t,i)=>{const l=Fe(),{params:e,el:s,wrapperEl:n,device:a}=t,o=!!e.nested,r=i==="on"?"addEventListener":"removeEventListener",d=i;!s||typeof s=="string"||(l[r]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:o}),s[r]("touchstart",t.onTouchStart,{passive:!1}),s[r]("pointerdown",t.onTouchStart,{passive:!1}),l[r]("touchmove",t.onTouchMove,{passive:!1,capture:o}),l[r]("pointermove",t.onTouchMove,{passive:!1,capture:o}),l[r]("touchend",t.onTouchEnd,{passive:!0}),l[r]("pointerup",t.onTouchEnd,{passive:!0}),l[r]("pointercancel",t.onTouchEnd,{passive:!0}),l[r]("touchcancel",t.onTouchEnd,{passive:!0}),l[r]("pointerout",t.onTouchEnd,{passive:!0}),l[r]("pointerleave",t.onTouchEnd,{passive:!0}),l[r]("contextmenu",t.onTouchEnd,{passive:!0}),(e.preventClicks||e.preventClicksPropagation)&&s[r]("click",t.onClick,!0),e.cssMode&&n[r]("scroll",t.onScroll),e.updateOnWindowResize?t[d](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",gi,!0):t[d]("observerUpdate",gi,!0),s[r]("load",t.onLoad,{capture:!0}))};function En(){const t=this,{params:i}=t;t.onTouchStart=Hn.bind(t),t.onTouchMove=zn.bind(t),t.onTouchEnd=Nn.bind(t),t.onDocumentTouchStart=Un.bind(t),i.cssMode&&(t.onScroll=Pn.bind(t)),t.onClick=Fn.bind(t),t.onLoad=Jn.bind(t),os(t,"on")}function jn(){os(this,"off")}var Dn={attachEvents:En,detachEvents:jn};const vi=(t,i)=>t.grid&&i.grid&&i.grid.rows>1;function Bn(){const t=this,{realIndex:i,initialized:l,params:e,el:s}=t,n=e.breakpoints;if(!n||n&&Object.keys(n).length===0)return;const a=Fe(),o=e.breakpointsBase==="window"||!e.breakpointsBase?e.breakpointsBase:"container",r=["window","container"].includes(e.breakpointsBase)||!e.breakpointsBase?t.el:a.querySelector(e.breakpointsBase),d=t.getBreakpoint(n,o,r);if(!d||t.currentBreakpoint===d)return;const u=(d in n?n[d]:void 0)||t.originalParams,h=vi(t,e),m=vi(t,u),p=t.params.grabCursor,y=u.grabCursor,g=e.enabled;h&&!m?(s.classList.remove(`${e.containerModifierClass}grid`,`${e.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&m&&(s.classList.add(`${e.containerModifierClass}grid`),(u.grid.fill&&u.grid.fill==="column"||!u.grid.fill&&e.grid.fill==="column")&&s.classList.add(`${e.containerModifierClass}grid-column`),t.emitContainerClasses()),p&&!y?t.unsetGrabCursor():!p&&y&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(G=>{if(typeof u[G]>"u")return;const S=e[G]&&e[G].enabled,Z=u[G]&&u[G].enabled;S&&!Z&&t[G].disable(),!S&&Z&&t[G].enable()});const V=u.direction&&u.direction!==e.direction,L=e.loop&&(u.slidesPerView!==e.slidesPerView||V),v=e.loop;V&&l&&t.changeDirection(),ye(t.params,u);const Y=t.params.enabled,X=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),g&&!Y?t.disable():!g&&Y&&t.enable(),t.currentBreakpoint=d,t.emit("_beforeBreakpoint",u),l&&(L?(t.loopDestroy(),t.loopCreate(i),t.updateSlides()):!v&&X?(t.loopCreate(i),t.updateSlides()):v&&!X&&t.loopDestroy()),t.emit("breakpoint",u)}function Qn(t,i="window",l){if(!t||i==="container"&&!l)return;let e=!1;const s=ce(),n=i==="window"?s.innerHeight:l.clientHeight,a=Object.keys(t).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const r=parseFloat(o.substr(1));return{value:n*r,point:o}}return{value:o,point:o}});a.sort((o,r)=>parseInt(o.value,10)-parseInt(r.value,10));for(let o=0;o<a.length;o+=1){const{point:r,value:d}=a[o];i==="window"?s.matchMedia(`(min-width: ${d}px)`).matches&&(e=r):d<=l.clientWidth&&(e=r)}return e||"max"}var On={setBreakpoint:Bn,getBreakpoint:Qn};function An(t,i){const l=[];return t.forEach(e=>{typeof e=="object"?Object.keys(e).forEach(s=>{e[s]&&l.push(i+s)}):typeof e=="string"&&l.push(i+e)}),l}function _n(){const t=this,{classNames:i,params:l,rtl:e,el:s,device:n}=t,a=An(["initialized",l.direction,{"free-mode":t.params.freeMode&&l.freeMode.enabled},{autoheight:l.autoHeight},{rtl:e},{grid:l.grid&&l.grid.rows>1},{"grid-column":l.grid&&l.grid.rows>1&&l.grid.fill==="column"},{android:n.android},{ios:n.ios},{"css-mode":l.cssMode},{centered:l.cssMode&&l.centeredSlides},{"watch-progress":l.watchSlidesProgress}],l.containerModifierClass);i.push(...a),s.classList.add(...i),t.emitContainerClasses()}function $n(){const t=this,{el:i,classNames:l}=t;!i||typeof i=="string"||(i.classList.remove(...l),t.emitContainerClasses())}var qn={addClasses:_n,removeClasses:$n};function ea(){const t=this,{isLocked:i,params:l}=t,{slidesOffsetBefore:e}=l;if(e){const s=t.slides.length-1,n=t.slidesGrid[s]+t.slidesSizesGrid[s]+e*2;t.isLocked=t.size>n}else t.isLocked=t.snapGrid.length===1;l.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),l.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),i&&i!==t.isLocked&&(t.isEnd=!1),i!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var ta={checkOverflow:ea},Ft={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ia(t,i){return function(e={}){const s=Object.keys(e)[0],n=e[s];if(typeof n!="object"||n===null){ye(i,e);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in n)){ye(i,e);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),ye(i,e)}}const wt={eventsEmitter:$l,update:cn,translate:bn,transition:Wn,slide:Yn,loop:Rn,grabCursor:Kn,events:Dn,breakpoints:On,checkOverflow:ta,classes:qn},Mt={};let ii=class we{constructor(...i){let l,e;i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?e=i[0]:[l,e]=i,e||(e={}),e=ye({},e),l&&!e.el&&(e.el=l);const s=Fe();if(e.el&&typeof e.el=="string"&&s.querySelectorAll(e.el).length>1){const r=[];return s.querySelectorAll(e.el).forEach(d=>{const c=ye({},e,{el:d});r.push(new we(c))}),r}const n=this;n.__swiper__=!0,n.support=ls(),n.device=ns({userAgent:e.userAgent}),n.browser=as(),n.eventsListeners={},n.eventsAnyListeners=[],n.modules=[...n.__modules__],e.modules&&Array.isArray(e.modules)&&n.modules.push(...e.modules);const a={};n.modules.forEach(r=>{r({params:e,swiper:n,extendParams:ia(e,a),on:n.on.bind(n),once:n.once.bind(n),off:n.off.bind(n),emit:n.emit.bind(n)})});const o=ye({},Ft,a);return n.params=ye({},o,Mt,e),n.originalParams=ye({},n.params),n.passedParams=ye({},e),n.params&&n.params.on&&Object.keys(n.params.on).forEach(r=>{n.on(r,n.params.on[r])}),n.params&&n.params.onAny&&n.onAny(n.params.onAny),Object.assign(n,{enabled:n.params.enabled,el:l,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return n.params.direction==="horizontal"},isVertical(){return n.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:n.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:n.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),n.emit("_swiper"),n.params.init&&n.init(),n}getDirectionLabel(i){return this.isHorizontal()?i:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[i]}getSlideIndex(i){const{slidesEl:l,params:e}=this,s=Me(l,`.${e.slideClass}, swiper-slide`),n=Wi(s[0]);return Wi(i)-n}getSlideIndexByData(i){return this.getSlideIndex(this.slides.find(l=>l.getAttribute("data-swiper-slide-index")*1===i))}getSlideIndexWhenGrid(i){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?i=Math.floor(i/this.params.grid.rows):this.params.grid.fill==="row"&&(i=i%Math.ceil(this.slides.length/this.params.grid.rows))),i}recalcSlides(){const i=this,{slidesEl:l,params:e}=i;i.slides=Me(l,`.${e.slideClass}, swiper-slide`)}enable(){const i=this;i.enabled||(i.enabled=!0,i.params.grabCursor&&i.setGrabCursor(),i.emit("enable"))}disable(){const i=this;i.enabled&&(i.enabled=!1,i.params.grabCursor&&i.unsetGrabCursor(),i.emit("disable"))}setProgress(i,l){const e=this;i=Math.min(Math.max(i,0),1);const s=e.minTranslate(),a=(e.maxTranslate()-s)*i+s;e.translateTo(a,typeof l>"u"?0:l),e.updateActiveIndex(),e.updateSlidesClasses()}emitContainerClasses(){const i=this;if(!i.params._emitClasses||!i.el)return;const l=i.el.className.split(" ").filter(e=>e.indexOf("swiper")===0||e.indexOf(i.params.containerModifierClass)===0);i.emit("_containerClasses",l.join(" "))}getSlideClasses(i){const l=this;return l.destroyed?"":i.className.split(" ").filter(e=>e.indexOf("swiper-slide")===0||e.indexOf(l.params.slideClass)===0).join(" ")}emitSlidesClasses(){const i=this;if(!i.params._emitClasses||!i.el)return;const l=[];i.slides.forEach(e=>{const s=i.getSlideClasses(e);l.push({slideEl:e,classNames:s}),i.emit("_slideClass",e,s)}),i.emit("_slideClasses",l)}slidesPerViewDynamic(i="current",l=!1){const e=this,{params:s,slides:n,slidesGrid:a,slidesSizesGrid:o,size:r,activeIndex:d}=e;let c=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let u=n[d]?Math.ceil(n[d].swiperSlideSize):0,h;for(let m=d+1;m<n.length;m+=1)n[m]&&!h&&(u+=Math.ceil(n[m].swiperSlideSize),c+=1,u>r&&(h=!0));for(let m=d-1;m>=0;m-=1)n[m]&&!h&&(u+=n[m].swiperSlideSize,c+=1,u>r&&(h=!0))}else if(i==="current")for(let u=d+1;u<n.length;u+=1)(l?a[u]+o[u]-a[d]<r:a[u]-a[d]<r)&&(c+=1);else for(let u=d-1;u>=0;u-=1)a[d]-a[u]<r&&(c+=1);return c}update(){const i=this;if(!i||i.destroyed)return;const{snapGrid:l,params:e}=i;e.breakpoints&&i.setBreakpoint(),[...i.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&pt(i,a)}),i.updateSize(),i.updateSlides(),i.updateProgress(),i.updateSlidesClasses();function s(){const a=i.rtlTranslate?i.translate*-1:i.translate,o=Math.min(Math.max(a,i.maxTranslate()),i.minTranslate());i.setTranslate(o),i.updateActiveIndex(),i.updateSlidesClasses()}let n;if(e.freeMode&&e.freeMode.enabled&&!e.cssMode)s(),e.autoHeight&&i.updateAutoHeight();else{if((e.slidesPerView==="auto"||e.slidesPerView>1)&&i.isEnd&&!e.centeredSlides){const a=i.virtual&&e.virtual.enabled?i.virtual.slides:i.slides;n=i.slideTo(a.length-1,0,!1,!0)}else n=i.slideTo(i.activeIndex,0,!1,!0);n||s()}e.watchOverflow&&l!==i.snapGrid&&i.checkOverflow(),i.emit("update")}changeDirection(i,l=!0){const e=this,s=e.params.direction;return i||(i=s==="horizontal"?"vertical":"horizontal"),i===s||i!=="horizontal"&&i!=="vertical"||(e.el.classList.remove(`${e.params.containerModifierClass}${s}`),e.el.classList.add(`${e.params.containerModifierClass}${i}`),e.emitContainerClasses(),e.params.direction=i,e.slides.forEach(n=>{i==="vertical"?n.style.width="":n.style.height=""}),e.emit("changeDirection"),l&&e.update()),e}changeLanguageDirection(i){const l=this;l.rtl&&i==="rtl"||!l.rtl&&i==="ltr"||(l.rtl=i==="rtl",l.rtlTranslate=l.params.direction==="horizontal"&&l.rtl,l.rtl?(l.el.classList.add(`${l.params.containerModifierClass}rtl`),l.el.dir="rtl"):(l.el.classList.remove(`${l.params.containerModifierClass}rtl`),l.el.dir="ltr"),l.update())}mount(i){const l=this;if(l.mounted)return!0;let e=i||l.params.el;if(typeof e=="string"&&(e=document.querySelector(e)),!e)return!1;e.swiper=l,e.parentNode&&e.parentNode.host&&e.parentNode.host.nodeName===l.params.swiperElementNodeName.toUpperCase()&&(l.isElement=!0);const s=()=>`.${(l.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=e&&e.shadowRoot&&e.shadowRoot.querySelector?e.shadowRoot.querySelector(s()):Me(e,s())[0];return!a&&l.params.createElements&&(a=zt("div",l.params.wrapperClass),e.append(a),Me(e,`.${l.params.slideClass}`).forEach(o=>{a.append(o)})),Object.assign(l,{el:e,wrapperEl:a,slidesEl:l.isElement&&!e.parentNode.host.slideSlots?e.parentNode.host:a,hostEl:l.isElement?e.parentNode.host:e,mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||Ie(e,"direction")==="rtl",rtlTranslate:l.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||Ie(e,"direction")==="rtl"),wrongRTL:Ie(a,"display")==="-webkit-box"}),!0}init(i){const l=this;if(l.initialized||l.mount(i)===!1)return l;l.emit("beforeInit"),l.params.breakpoints&&l.setBreakpoint(),l.addClasses(),l.updateSize(),l.updateSlides(),l.params.watchOverflow&&l.checkOverflow(),l.params.grabCursor&&l.enabled&&l.setGrabCursor(),l.params.loop&&l.virtual&&l.params.virtual.enabled?l.slideTo(l.params.initialSlide+l.virtual.slidesBefore,0,l.params.runCallbacksOnInit,!1,!0):l.slideTo(l.params.initialSlide,0,l.params.runCallbacksOnInit,!1,!0),l.params.loop&&l.loopCreate(void 0,!0),l.attachEvents();const s=[...l.el.querySelectorAll('[loading="lazy"]')];return l.isElement&&s.push(...l.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(n=>{n.complete?pt(l,n):n.addEventListener("load",a=>{pt(l,a.target)})}),Nt(l),l.initialized=!0,Nt(l),l.emit("init"),l.emit("afterInit"),l}destroy(i=!0,l=!0){const e=this,{params:s,el:n,wrapperEl:a,slides:o}=e;return typeof e.params>"u"||e.destroyed||(e.emit("beforeDestroy"),e.initialized=!1,e.detachEvents(),s.loop&&e.loopDestroy(),l&&(e.removeClasses(),n&&typeof n!="string"&&n.removeAttribute("style"),a&&a.removeAttribute("style"),o&&o.length&&o.forEach(r=>{r.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),r.removeAttribute("style"),r.removeAttribute("data-swiper-slide-index")})),e.emit("destroy"),Object.keys(e.eventsListeners).forEach(r=>{e.off(r)}),i!==!1&&(e.el&&typeof e.el!="string"&&(e.el.swiper=null),zl(e)),e.destroyed=!0),null}static extendDefaults(i){ye(Mt,i)}static get extendedDefaults(){return Mt}static get defaults(){return Ft}static installModule(i){we.prototype.__modules__||(we.prototype.__modules__=[]);const l=we.prototype.__modules__;typeof i=="function"&&l.indexOf(i)<0&&l.push(i)}static use(i){return Array.isArray(i)?(i.forEach(l=>we.installModule(l)),we):(we.installModule(i),we)}};Object.keys(wt).forEach(t=>{Object.keys(wt[t]).forEach(i=>{ii.prototype[i]=wt[t][i]})});ii.use([Al,_l]);const ds=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ne(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Be(t,i){const l=["__proto__","constructor","prototype"];Object.keys(i).filter(e=>l.indexOf(e)<0).forEach(e=>{typeof t[e]>"u"?t[e]=i[e]:Ne(i[e])&&Ne(t[e])&&Object.keys(i[e]).length>0?i[e].__swiper__?t[e]=i[e]:Be(t[e],i[e]):t[e]=i[e]})}function cs(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function us(t={}){return t.pagination&&typeof t.pagination.el>"u"}function ms(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function hs(t=""){const i=t.split(" ").map(e=>e.trim()).filter(e=>!!e),l=[];return i.forEach(e=>{l.indexOf(e)<0&&l.push(e)}),l.join(" ")}function sa(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function la({swiper:t,slides:i,passedParams:l,changedParams:e,nextEl:s,prevEl:n,scrollbarEl:a,paginationEl:o}){const r=e.filter(Z=>Z!=="children"&&Z!=="direction"&&Z!=="wrapperClass"),{params:d,pagination:c,navigation:u,scrollbar:h,virtual:m,thumbs:p}=t;let y,g,V,L,v,Y,X,G;e.includes("thumbs")&&l.thumbs&&l.thumbs.swiper&&!l.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(y=!0),e.includes("controller")&&l.controller&&l.controller.control&&d.controller&&!d.controller.control&&(g=!0),e.includes("pagination")&&l.pagination&&(l.pagination.el||o)&&(d.pagination||d.pagination===!1)&&c&&!c.el&&(V=!0),e.includes("scrollbar")&&l.scrollbar&&(l.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&h&&!h.el&&(L=!0),e.includes("navigation")&&l.navigation&&(l.navigation.prevEl||n)&&(l.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&u&&!u.prevEl&&!u.nextEl&&(v=!0);const S=Z=>{t[Z]&&(t[Z].destroy(),Z==="navigation"?(t.isElement&&(t[Z].prevEl.remove(),t[Z].nextEl.remove()),d[Z].prevEl=void 0,d[Z].nextEl=void 0,t[Z].prevEl=void 0,t[Z].nextEl=void 0):(t.isElement&&t[Z].el.remove(),d[Z].el=void 0,t[Z].el=void 0))};e.includes("loop")&&t.isElement&&(d.loop&&!l.loop?Y=!0:!d.loop&&l.loop?X=!0:G=!0),r.forEach(Z=>{if(Ne(d[Z])&&Ne(l[Z]))Object.assign(d[Z],l[Z]),(Z==="navigation"||Z==="pagination"||Z==="scrollbar")&&"enabled"in l[Z]&&!l[Z].enabled&&S(Z);else{const N=l[Z];(N===!0||N===!1)&&(Z==="navigation"||Z==="pagination"||Z==="scrollbar")?N===!1&&S(Z):d[Z]=l[Z]}}),r.includes("controller")&&!g&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),e.includes("children")&&i&&m&&d.virtual.enabled?(m.slides=i,m.update(!0)):e.includes("virtual")&&m&&d.virtual.enabled&&(i&&(m.slides=i),m.update(!0)),e.includes("children")&&i&&d.loop&&(G=!0),y&&p.init()&&p.update(!0),g&&(t.controller.control=d.controller.control),V&&(t.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-pagination"),o.part.add("pagination"),t.el.appendChild(o)),o&&(d.pagination.el=o),c.init(),c.render(),c.update()),L&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(d.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),v&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),Si(s,t.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),t.el.appendChild(s)),(!n||typeof n=="string")&&(n=document.createElement("div"),n.classList.add("swiper-button-prev"),Si(n,t.hostEl.constructor.prevButtonSvg),n.part.add("button-prev"),t.el.appendChild(n))),s&&(d.navigation.nextEl=s),n&&(d.navigation.prevEl=n),u.init(),u.update()),e.includes("allowSlideNext")&&(t.allowSlideNext=l.allowSlideNext),e.includes("allowSlidePrev")&&(t.allowSlidePrev=l.allowSlidePrev),e.includes("direction")&&t.changeDirection(l.direction,!1),(Y||G)&&t.loopDestroy(),(X||G)&&t.loopCreate(),t.update()}function xi(t={},i=!0){const l={on:{}},e={},s={};Be(l,Ft),l._emitClasses=!0,l.init=!1;const n={},a=ds.map(r=>r.replace(/_/,"")),o=Object.assign({},t);return Object.keys(o).forEach(r=>{typeof t[r]>"u"||(a.indexOf(r)>=0?Ne(t[r])?(l[r]={},s[r]={},Be(l[r],t[r]),Be(s[r],t[r])):(l[r]=t[r],s[r]=t[r]):r.search(/on[A-Z]/)===0&&typeof t[r]=="function"?i?e[`${r[2].toLowerCase()}${r.substr(3)}`]=t[r]:l.on[`${r[2].toLowerCase()}${r.substr(3)}`]=t[r]:n[r]=t[r])}),["navigation","pagination","scrollbar"].forEach(r=>{l[r]===!0&&(l[r]={}),l[r]===!1&&delete l[r]}),{params:l,passedParams:s,rest:n,events:e}}function na({el:t,nextEl:i,prevEl:l,paginationEl:e,scrollbarEl:s,swiper:n},a){cs(a)&&i&&l&&(n.params.navigation.nextEl=i,n.originalParams.navigation.nextEl=i,n.params.navigation.prevEl=l,n.originalParams.navigation.prevEl=l),us(a)&&e&&(n.params.pagination.el=e,n.originalParams.pagination.el=e),ms(a)&&s&&(n.params.scrollbar.el=s,n.originalParams.scrollbar.el=s),n.init(t)}function aa(t,i,l,e,s){const n=[];if(!i)return n;const a=r=>{n.indexOf(r)<0&&n.push(r)};if(l&&e){const r=e.map(s),d=l.map(s);r.join("")!==d.join("")&&a("children"),e.length!==l.length&&a("children")}return ds.filter(r=>r[0]==="_").map(r=>r.replace(/_/,"")).forEach(r=>{if(r in t&&r in i)if(Ne(t[r])&&Ne(i[r])){const d=Object.keys(t[r]),c=Object.keys(i[r]);d.length!==c.length?a(r):(d.forEach(u=>{t[r][u]!==i[r][u]&&a(r)}),c.forEach(u=>{t[r][u]!==i[r][u]&&a(r)}))}else t[r]!==i[r]&&a(r)}),n}const ra=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Tt(t={},i,l){const e=[],s={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},n=(a,o)=>{Array.isArray(a)&&a.forEach(r=>{const d=typeof r.type=="symbol";o==="default"&&(o="container-end"),d&&r.children?n(r.children,o):r.type&&(r.type.name==="SwiperSlide"||r.type.name==="AsyncComponentWrapper")||r.componentOptions&&r.componentOptions.tag==="SwiperSlide"?e.push(r):s[o]&&s[o].push(r)})};return Object.keys(t).forEach(a=>{if(typeof t[a]!="function")return;const o=t[a]();n(o,a)}),l.value=i.value,i.value=e,{slides:e,slots:s}}function oa(t,i,l){if(!l)return null;const e=c=>{let u=c;return c<0?u=i.length+c:u>=i.length&&(u=u-i.length),u},s=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${l.offset}px`}:{top:`${l.offset}px`},{from:n,to:a}=l,o=t.value.params.loop?-i.length:0,r=t.value.params.loop?i.length*2:i.length,d=[];for(let c=o;c<r;c+=1)c>=n&&c<=a&&d.length<i.length&&d.push(i[e(c)]);return d.map(c=>{if(c.props||(c.props={}),c.props.style||(c.props.style={}),c.props.swiperRef=t,c.props.style=s,c.type)return Le(c.type,{...c.props},c.children);if(c.componentOptions)return Le(c.componentOptions.Ctor,{...c.props},c.componentOptions.children)})}const da={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},loopAdditionalSlides:{type:Number,default:void 0},loopAddBlankSlides:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","_virtualUpdated","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,{slots:i,emit:l}){const{tag:e,wrapperTag:s}=t,n=U("swiper"),a=U(null),o=U(!1),r=U(!1),d=U(null),c=U(null),u=U(null),h={value:[]},m={value:[]},p=U(null),y=U(null),g=U(null),V=U(null),{params:L,passedParams:v}=xi(t,!1);Tt(i,h,m),u.value=v,m.value=h.value;const Y=()=>{Tt(i,h,m),o.value=!0};L.onAny=(S,...Z)=>{l(S,...Z)},Object.assign(L.on,{_beforeBreakpoint:Y,_containerClasses(S,Z){n.value=Z}});const X={...L};if(delete X.wrapperClass,c.value=new ii(X),c.value.virtual&&c.value.params.virtual.enabled){c.value.virtual.slides=h.value;const S={cache:!1,slides:h.value,renderExternal:Z=>{a.value=Z},renderExternalUpdate:!1};Be(c.value.params.virtual,S),Be(c.value.originalParams.virtual,S)}Di(()=>{!r.value&&c.value&&(c.value.emitSlidesClasses(),r.value=!0);const{passedParams:S}=xi(t,!1),Z=aa(S,u.value,h.value,m.value,N=>N.props&&N.props.key);u.value=S,(Z.length||o.value)&&c.value&&!c.value.destroyed&&la({swiper:c.value,slides:h.value,passedParams:S,changedParams:Z,nextEl:p.value,prevEl:y.value,scrollbarEl:V.value,paginationEl:g.value}),o.value=!1}),Qi("swiper",c),ht(a,()=>{Bi(()=>{ra(c.value)})}),Wt(()=>{d.value&&(na({el:d.value,nextEl:p.value,prevEl:y.value,paginationEl:g.value,scrollbarEl:V.value,swiper:c.value},L),l("swiper",c.value))}),At(()=>{c.value&&!c.value.destroyed&&c.value.destroy(!0,!1)});function G(S){return L.virtual?oa(c,S,a.value):(S.forEach((Z,N)=>{Z.props||(Z.props={}),Z.props.swiperRef=c,Z.props.swiperSlideIndex=N}),S)}return()=>{const{slides:S,slots:Z}=Tt(i,h,m);return Le(e,{ref:d,class:hs(n.value)},[Z["container-start"],Le(s,{class:sa(L.wrapperClass)},[Z["wrapper-start"],G(S),Z["wrapper-end"]]),cs(t)&&[Le("div",{ref:y,class:"swiper-button-prev"}),Le("div",{ref:p,class:"swiper-button-next"})],ms(t)&&Le("div",{ref:V,class:"swiper-scrollbar"}),us(t)&&Le("div",{ref:g,class:"swiper-pagination"}),Z["container-end"]])}}},ca={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,{slots:i}){let l=!1;const{swiperRef:e}=t,s=U(null),n=U("swiper-slide"),a=U(!1);function o(c,u,h){u===s.value&&(n.value=h)}Wt(()=>{!e||!e.value||(e.value.on("_slideClass",o),l=!0)}),Cs(()=>{l||!e||!e.value||(e.value.on("_slideClass",o),l=!0)}),Di(()=>{!s.value||!e||!e.value||(typeof t.swiperSlideIndex<"u"&&(s.value.swiperSlideIndex=t.swiperSlideIndex),e.value.destroyed&&n.value!=="swiper-slide"&&(n.value="swiper-slide"))}),At(()=>{!e||!e.value||e.value.off("_slideClass",o)});const r=Kt(()=>({isActive:n.value.indexOf("swiper-slide-active")>=0,isVisible:n.value.indexOf("swiper-slide-visible")>=0,isPrev:n.value.indexOf("swiper-slide-prev")>=0,isNext:n.value.indexOf("swiper-slide-next")>=0}));Qi("swiperSlide",r);const d=()=>{a.value=!0};return()=>Le(t.tag,{class:hs(`${n.value}`),ref:s,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&e&&e.value&&e.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:d},t.zoom?Le("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[i.default&&i.default(r.value),t.lazy&&!a.value&&Le("div",{class:"swiper-lazy-preloader"})]):[i.default&&i.default(r.value),t.lazy&&!a.value&&Le("div",{class:"swiper-lazy-preloader"})])}},ua="/rotate.png";class oe{static create(...i){return new this(...i)}mixIn(i){return Object.assign(this,i)}clone(){const i=new this.constructor;return Object.assign(i,this),i}}class de extends oe{constructor(i=[],l=i.length*4){super();let e=i;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){const s=e.byteLength,n=[];for(let a=0;a<s;a+=1)n[a>>>2]|=e[a]<<24-a%4*8;this.words=n,this.sigBytes=s}else this.words=i,this.sigBytes=l}static random(i){const l=[],e=s=>{let n=s,a=987654321;const o=4294967295;return()=>{a=36969*(a&65535)+(a>>16)&o,n=18e3*(n&65535)+(n>>16)&o;let r=(a<<16)+n&o;return r/=4294967296,r+=.5,r*(Math.random()>.5?1:-1)}};for(let s=0,n;s<i;s+=4){const a=e((n||Math.random())*4294967296);n=a()*987654071,l.push(a()*4294967296|0)}return new de(l,i)}toString(i=Pt){return i.stringify(this)}concat(i){const l=this.words,e=i.words,s=this.sigBytes,n=i.sigBytes;if(this.clamp(),s%4)for(let a=0;a<n;a+=1){const o=e[a>>>2]>>>24-a%4*8&255;l[s+a>>>2]|=o<<24-(s+a)%4*8}else for(let a=0;a<n;a+=4)l[s+a>>>2]=e[a>>>2];return this.sigBytes+=n,this}clamp(){const{words:i,sigBytes:l}=this;i[l>>>2]&=4294967295<<32-l%4*8,i.length=Math.ceil(l/4)}clone(){const i=super.clone.call(this);return i.words=this.words.slice(0),i}}const Pt={stringify(t){const{words:i,sigBytes:l}=t,e=[];for(let s=0;s<l;s+=1){const n=i[s>>>2]>>>24-s%4*8&255;e.push((n>>>4).toString(16)),e.push((n&15).toString(16))}return e.join("")},parse(t){const i=t.length,l=[];for(let e=0;e<i;e+=2)l[e>>>3]|=parseInt(t.substr(e,2),16)<<24-e%8*4;return new de(l,i/2)}},Yi={stringify(t){const{words:i,sigBytes:l}=t,e=[];for(let s=0;s<l;s+=1){const n=i[s>>>2]>>>24-s%4*8&255;e.push(String.fromCharCode(n))}return e.join("")},parse(t){const i=t.length,l=[];for(let e=0;e<i;e+=1)l[e>>>2]|=(t.charCodeAt(e)&255)<<24-e%4*8;return new de(l,i)}},ps={stringify(t){try{return decodeURIComponent(escape(Yi.stringify(t)))}catch{throw new Error("Malformed UTF-8 data")}},parse(t){return Yi.parse(unescape(encodeURIComponent(t)))}};class Zs extends oe{constructor(){super(),this._minBufferSize=0}reset(){this._data=new de,this._nDataBytes=0}_append(i){let l=i;typeof l=="string"&&(l=ps.parse(l)),this._data.concat(l),this._nDataBytes+=l.sigBytes}_process(i){let l;const{_data:e,blockSize:s}=this,n=e.words,a=e.sigBytes,o=s*4;let r=a/o;i?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);const d=r*s,c=Math.min(d*4,a);if(d){for(let u=0;u<d;u+=s)this._doProcessBlock(n,u);l=n.splice(0,d),e.sigBytes-=c}return new de(l,c)}clone(){const i=super.clone.call(this);return i._data=this._data.clone(),i}}class ma extends Zs{constructor(i){super(),this.blockSize=512/32,this.cfg=Object.assign(new oe,i),this.reset()}static _createHelper(i){return(l,e)=>new i(e).finalize(l)}static _createHmacHelper(i){return(l,e)=>new ha(i,e).finalize(l)}reset(){super.reset.call(this),this._doReset()}update(i){return this._append(i),this._process(),this}finalize(i){return i&&this._append(i),this._doFinalize()}}class ha extends oe{constructor(i,l){super();const e=new i;this._hasher=e;let s=l;typeof s=="string"&&(s=ps.parse(s));const n=e.blockSize,a=n*4;s.sigBytes>a&&(s=e.finalize(l)),s.clamp();const o=s.clone();this._oKey=o;const r=s.clone();this._iKey=r;const d=o.words,c=r.words;for(let u=0;u<n;u+=1)d[u]^=1549556828,c[u]^=909522486;o.sigBytes=a,r.sigBytes=a,this.reset()}reset(){const i=this._hasher;i.reset(),i.update(this._iKey)}update(i){return this._hasher.update(i),this}finalize(i){const l=this._hasher,e=l.finalize(i);return l.reset(),l.finalize(this._oKey.clone().concat(e))}}const pa=(t,i,l)=>{const e=[];let s=0;for(let n=0;n<i;n+=1)if(n%4){const a=l[t.charCodeAt(n-1)]<<n%4*2,o=l[t.charCodeAt(n)]>>>6-n%4*2,r=a|o;e[s>>>2]|=r<<24-s%4*8,s+=1}return de.create(e,s)},wi={stringify(t){const{words:i,sigBytes:l}=t,e=this._map;t.clamp();const s=[];for(let a=0;a<l;a+=3){const o=i[a>>>2]>>>24-a%4*8&255,r=i[a+1>>>2]>>>24-(a+1)%4*8&255,d=i[a+2>>>2]>>>24-(a+2)%4*8&255,c=o<<16|r<<8|d;for(let u=0;u<4&&a+u*.75<l;u+=1)s.push(e.charAt(c>>>6*(3-u)&63))}const n=e.charAt(64);if(n)for(;s.length%4;)s.push(n);return s.join("")},parse(t){let i=t.length;const l=this._map;let e=this._reverseMap;if(!e){this._reverseMap=[],e=this._reverseMap;for(let n=0;n<l.length;n+=1)e[l.charCodeAt(n)]=n}const s=l.charAt(64);if(s){const n=t.indexOf(s);n!==-1&&(i=n)}return pa(t,i,e)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},z=[];for(let t=0;t<64;t+=1)z[t]=Math.abs(Math.sin(t+1))*4294967296|0;const te=(t,i,l,e,s,n,a)=>{const o=t+(i&l|~i&e)+s+a;return(o<<n|o>>>32-n)+i},ie=(t,i,l,e,s,n,a)=>{const o=t+(i&e|l&~e)+s+a;return(o<<n|o>>>32-n)+i},se=(t,i,l,e,s,n,a)=>{const o=t+(i^l^e)+s+a;return(o<<n|o>>>32-n)+i},le=(t,i,l,e,s,n,a)=>{const o=t+(l^(i|~e))+s+a;return(o<<n|o>>>32-n)+i};class Za extends ma{_doReset(){this._hash=new de([1732584193,4023233417,2562383102,271733878])}_doProcessBlock(i,l){const e=i;for(let N=0;N<16;N+=1){const K=l+N,I=i[K];e[K]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}const s=this._hash.words,n=e[l+0],a=e[l+1],o=e[l+2],r=e[l+3],d=e[l+4],c=e[l+5],u=e[l+6],h=e[l+7],m=e[l+8],p=e[l+9],y=e[l+10],g=e[l+11],V=e[l+12],L=e[l+13],v=e[l+14],Y=e[l+15];let X=s[0],G=s[1],S=s[2],Z=s[3];X=te(X,G,S,Z,n,7,z[0]),Z=te(Z,X,G,S,a,12,z[1]),S=te(S,Z,X,G,o,17,z[2]),G=te(G,S,Z,X,r,22,z[3]),X=te(X,G,S,Z,d,7,z[4]),Z=te(Z,X,G,S,c,12,z[5]),S=te(S,Z,X,G,u,17,z[6]),G=te(G,S,Z,X,h,22,z[7]),X=te(X,G,S,Z,m,7,z[8]),Z=te(Z,X,G,S,p,12,z[9]),S=te(S,Z,X,G,y,17,z[10]),G=te(G,S,Z,X,g,22,z[11]),X=te(X,G,S,Z,V,7,z[12]),Z=te(Z,X,G,S,L,12,z[13]),S=te(S,Z,X,G,v,17,z[14]),G=te(G,S,Z,X,Y,22,z[15]),X=ie(X,G,S,Z,a,5,z[16]),Z=ie(Z,X,G,S,u,9,z[17]),S=ie(S,Z,X,G,g,14,z[18]),G=ie(G,S,Z,X,n,20,z[19]),X=ie(X,G,S,Z,c,5,z[20]),Z=ie(Z,X,G,S,y,9,z[21]),S=ie(S,Z,X,G,Y,14,z[22]),G=ie(G,S,Z,X,d,20,z[23]),X=ie(X,G,S,Z,p,5,z[24]),Z=ie(Z,X,G,S,v,9,z[25]),S=ie(S,Z,X,G,r,14,z[26]),G=ie(G,S,Z,X,m,20,z[27]),X=ie(X,G,S,Z,L,5,z[28]),Z=ie(Z,X,G,S,o,9,z[29]),S=ie(S,Z,X,G,h,14,z[30]),G=ie(G,S,Z,X,V,20,z[31]),X=se(X,G,S,Z,c,4,z[32]),Z=se(Z,X,G,S,m,11,z[33]),S=se(S,Z,X,G,g,16,z[34]),G=se(G,S,Z,X,v,23,z[35]),X=se(X,G,S,Z,a,4,z[36]),Z=se(Z,X,G,S,d,11,z[37]),S=se(S,Z,X,G,h,16,z[38]),G=se(G,S,Z,X,y,23,z[39]),X=se(X,G,S,Z,L,4,z[40]),Z=se(Z,X,G,S,n,11,z[41]),S=se(S,Z,X,G,r,16,z[42]),G=se(G,S,Z,X,u,23,z[43]),X=se(X,G,S,Z,p,4,z[44]),Z=se(Z,X,G,S,V,11,z[45]),S=se(S,Z,X,G,Y,16,z[46]),G=se(G,S,Z,X,o,23,z[47]),X=le(X,G,S,Z,n,6,z[48]),Z=le(Z,X,G,S,h,10,z[49]),S=le(S,Z,X,G,v,15,z[50]),G=le(G,S,Z,X,c,21,z[51]),X=le(X,G,S,Z,V,6,z[52]),Z=le(Z,X,G,S,r,10,z[53]),S=le(S,Z,X,G,y,15,z[54]),G=le(G,S,Z,X,a,21,z[55]),X=le(X,G,S,Z,m,6,z[56]),Z=le(Z,X,G,S,Y,10,z[57]),S=le(S,Z,X,G,u,15,z[58]),G=le(G,S,Z,X,L,21,z[59]),X=le(X,G,S,Z,d,6,z[60]),Z=le(Z,X,G,S,g,10,z[61]),S=le(S,Z,X,G,o,15,z[62]),G=le(G,S,Z,X,p,21,z[63]),s[0]=s[0]+X|0,s[1]=s[1]+G|0,s[2]=s[2]+S|0,s[3]=s[3]+Z|0}_doFinalize(){const i=this._data,l=i.words,e=this._nDataBytes*8,s=i.sigBytes*8;l[s>>>5]|=128<<24-s%32;const n=Math.floor(e/4294967296),a=e;l[(s+64>>>9<<4)+15]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360,l[(s+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360,i.sigBytes=(l.length+1)*4,this._process();const o=this._hash,r=o.words;for(let d=0;d<4;d+=1){const c=r[d];r[d]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360}return o}clone(){const i=super.clone.call(this);return i._hash=this._hash.clone(),i}}class ba extends oe{constructor(i){super(),this.cfg=Object.assign(new oe,{keySize:128/32,hasher:Za,iterations:1},i)}compute(i,l){let e;const{cfg:s}=this,n=s.hasher.create(),a=de.create(),o=a.words,{keySize:r,iterations:d}=s;for(;o.length<r;){e&&n.update(e),e=n.update(i).finalize(l),n.reset();for(let c=1;c<d;c+=1)e=n.finalize(e),n.reset();a.concat(e)}return a.sigBytes=r*4,a}}class lt extends Zs{constructor(i,l,e){super(),this.cfg=Object.assign(new oe,e),this._xformMode=i,this._key=l,this.reset()}static createEncryptor(i,l){return this.create(this._ENC_XFORM_MODE,i,l)}static createDecryptor(i,l){return this.create(this._DEC_XFORM_MODE,i,l)}static _createHelper(i){const l=e=>typeof e=="string"?Xs:Qe;return{encrypt(e,s,n){return l(s).encrypt(i,e,s,n)},decrypt(e,s,n){return l(s).decrypt(i,e,s,n)}}}reset(){super.reset.call(this),this._doReset()}process(i){return this._append(i),this._process()}finalize(i){return i&&this._append(i),this._doFinalize()}}lt._ENC_XFORM_MODE=1;lt._DEC_XFORM_MODE=2;lt.keySize=128/32;lt.ivSize=128/32;class bs extends oe{constructor(i,l){super(),this._cipher=i,this._iv=l}static createEncryptor(i,l){return this.Encryptor.create(i,l)}static createDecryptor(i,l){return this.Decryptor.create(i,l)}}function fs(t,i,l){const e=t;let s;const n=this._iv;n?(s=n,this._iv=void 0):s=this._prevBlock;for(let a=0;a<l;a+=1)e[i+a]^=s[a]}class tt extends bs{}tt.Encryptor=class extends tt{processBlock(t,i){const l=this._cipher,{blockSize:e}=l;fs.call(this,t,i,e),l.encryptBlock(t,i),this._prevBlock=t.slice(i,i+e)}};tt.Decryptor=class extends tt{processBlock(t,i){const l=this._cipher,{blockSize:e}=l,s=t.slice(i,i+e);l.decryptBlock(t,i),fs.call(this,t,i,e),this._prevBlock=s}};const fa={pad(t,i){const l=i*4,e=l-t.sigBytes%l,s=e<<24|e<<16|e<<8|e,n=[];for(let o=0;o<e;o+=4)n.push(s);const a=de.create(n,e);t.concat(a)},unpad(t){const i=t,l=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=l}};class ys extends lt{constructor(i,l,e){super(i,l,Object.assign({mode:tt,padding:fa},e)),this.blockSize=128/32}reset(){let i;super.reset.call(this);const{cfg:l}=this,{iv:e,mode:s}=l;this._xformMode===this.constructor._ENC_XFORM_MODE?i=s.createEncryptor:(i=s.createDecryptor,this._minBufferSize=1),this._mode=i.call(s,this,e&&e.words),this._mode.__creator=i}_doProcessBlock(i,l){this._mode.processBlock(i,l)}_doFinalize(){let i;const{padding:l}=this.cfg;return this._xformMode===this.constructor._ENC_XFORM_MODE?(l.pad(this._data,this.blockSize),i=this._process(!0)):(i=this._process(!0),l.unpad(i)),i}}class Lt extends oe{constructor(i){super(),this.mixIn(i)}toString(i){return(i||this.formatter).stringify(this)}}const ya={stringify(t){let i;const{ciphertext:l,salt:e}=t;return e?i=de.create([1398893684,1701076831]).concat(e).concat(l):i=l,i.toString(wi)},parse(t){let i;const l=wi.parse(t),e=l.words;return e[0]===1398893684&&e[1]===1701076831&&(i=de.create(e.slice(2,4)),e.splice(0,4),l.sigBytes-=16),Lt.create({ciphertext:l,salt:i})}};class Qe extends oe{static encrypt(i,l,e,s){const n=Object.assign(new oe,this.cfg,s),a=i.createEncryptor(e,n),o=a.finalize(l),r=a.cfg;return Lt.create({ciphertext:o,key:e,iv:r.iv,algorithm:i,mode:r.mode,padding:r.padding,blockSize:a.blockSize,formatter:n.format})}static decrypt(i,l,e,s){let n=l;const a=Object.assign(new oe,this.cfg,s);return n=this._parse(n,a.format),i.createDecryptor(e,a).finalize(n.ciphertext)}static _parse(i,l){return typeof i=="string"?l.parse(i,this):i}}Qe.cfg=Object.assign(new oe,{format:ya});const Xa={execute(t,i,l,e){let s=e;s||(s=de.random(64/8));const n=ba.create({keySize:i+l}).compute(t,s),a=de.create(n.words.slice(i),l*4);return n.sigBytes=i*4,Lt.create({key:n,iv:a,salt:s})}};class Xs extends Qe{static encrypt(i,l,e,s){const n=Object.assign(new oe,this.cfg,s),a=n.kdf.execute(e,i.keySize,i.ivSize);n.iv=a.iv;const o=Qe.encrypt.call(this,i,l,a.key,n);return o.mixIn(a),o}static decrypt(i,l,e,s){let n=l;const a=Object.assign(new oe,this.cfg,s);n=this._parse(n,a.format);const o=a.kdf.execute(e,i.keySize,i.ivSize,n.salt);return a.iv=o.iv,Qe.decrypt.call(this,i,n,o.key,a)}}Xs.cfg=Object.assign(Qe.cfg,{kdf:Xa});const he=[],Ws=[],Ls=[],Ss=[],Gs=[],Vs=[],Jt=[],Ut=[],Et=[],jt=[],Ge=[];for(let t=0;t<256;t+=1)t<128?Ge[t]=t<<1:Ge[t]=t<<1^283;let Se=0,Ye=0;for(let t=0;t<256;t+=1){let i=Ye^Ye<<1^Ye<<2^Ye<<3^Ye<<4;i=i>>>8^i&255^99,he[Se]=i,Ws[i]=Se;const l=Ge[Se],e=Ge[l],s=Ge[e];let n=Ge[i]*257^i*16843008;Ls[Se]=n<<24|n>>>8,Ss[Se]=n<<16|n>>>16,Gs[Se]=n<<8|n>>>24,Vs[Se]=n,n=s*16843009^e*65537^l*257^Se*16843008,Jt[i]=n<<24|n>>>8,Ut[i]=n<<16|n>>>16,Et[i]=n<<8|n>>>24,jt[i]=n,Se?(Se=l^Ge[Ge[Ge[s^l]]],Ye^=Ge[Ge[Ye]]):(Ye=1,Se=Ye)}const Wa=[0,1,2,4,8,16,32,64,128,27,54];class gs extends ys{_doReset(){let i;if(this._nRounds&&this._keyPriorReset===this._key)return;this._keyPriorReset=this._key;const l=this._keyPriorReset,e=l.words,s=l.sigBytes/4;this._nRounds=s+6;const a=(this._nRounds+1)*4;this._keySchedule=[];const o=this._keySchedule;for(let d=0;d<a;d+=1)d<s?o[d]=e[d]:(i=o[d-1],d%s?s>6&&d%s===4&&(i=he[i>>>24]<<24|he[i>>>16&255]<<16|he[i>>>8&255]<<8|he[i&255]):(i=i<<8|i>>>24,i=he[i>>>24]<<24|he[i>>>16&255]<<16|he[i>>>8&255]<<8|he[i&255],i^=Wa[d/s|0]<<24),o[d]=o[d-s]^i);this._invKeySchedule=[];const r=this._invKeySchedule;for(let d=0;d<a;d+=1){const c=a-d;d%4?i=o[c]:i=o[c-4],d<4||c<=4?r[d]=i:r[d]=Jt[he[i>>>24]]^Ut[he[i>>>16&255]]^Et[he[i>>>8&255]]^jt[he[i&255]]}}encryptBlock(i,l){this._doCryptBlock(i,l,this._keySchedule,Ls,Ss,Gs,Vs,he)}decryptBlock(i,l){const e=i;let s=e[l+1];e[l+1]=e[l+3],e[l+3]=s,this._doCryptBlock(e,l,this._invKeySchedule,Jt,Ut,Et,jt,Ws),s=e[l+1],e[l+1]=e[l+3],e[l+3]=s}_doCryptBlock(i,l,e,s,n,a,o,r){const d=i,c=this._nRounds;let u=d[l]^e[0],h=d[l+1]^e[1],m=d[l+2]^e[2],p=d[l+3]^e[3],y=4;for(let Y=1;Y<c;Y+=1){const X=s[u>>>24]^n[h>>>16&255]^a[m>>>8&255]^o[p&255]^e[y];y+=1;const G=s[h>>>24]^n[m>>>16&255]^a[p>>>8&255]^o[u&255]^e[y];y+=1;const S=s[m>>>24]^n[p>>>16&255]^a[u>>>8&255]^o[h&255]^e[y];y+=1;const Z=s[p>>>24]^n[u>>>16&255]^a[h>>>8&255]^o[m&255]^e[y];y+=1,u=X,h=G,m=S,p=Z}const g=(r[u>>>24]<<24|r[h>>>16&255]<<16|r[m>>>8&255]<<8|r[p&255])^e[y];y+=1;const V=(r[h>>>24]<<24|r[m>>>16&255]<<16|r[p>>>8&255]<<8|r[u&255])^e[y];y+=1;const L=(r[m>>>24]<<24|r[p>>>16&255]<<16|r[u>>>8&255]<<8|r[h&255])^e[y];y+=1;const v=(r[p>>>24]<<24|r[u>>>16&255]<<16|r[h>>>8&255]<<8|r[m&255])^e[y];y+=1,d[l]=g,d[l+1]=V,d[l+2]=L,d[l+3]=v}}gs.keySize=256/32;const La=ys._createHelper(gs);class it extends bs{}it.Encryptor=class extends it{processBlock(t,i){const l=t,e=this._cipher,{blockSize:s}=e,n=this._iv;let a=this._counter;n&&(this._counter=n.slice(0),a=this._counter,this._iv=void 0);const o=a.slice(0);e.encryptBlock(o,0),a[s-1]=a[s-1]+1|0;for(let r=0;r<s;r+=1)l[i+r]^=o[r]}};it.Decryptor=it.Encryptor;const Sa={pad(){},unpad(){}};var Zt={decryptWordArray:function(i,l,e){var s=Pt.parse(l),n=Pt.parse(js(e)),a=de.create(new Uint8Array(i)),o=La.decrypt(Lt.create({ciphertext:a}),s,{iv:n,mode:it,padding:Sa});return Zt.wordArrayToUint8Array(o)},wordArrayToUint8Array:function(i){for(var l=i.sigBytes,e=i.words,s=new Uint8Array(l),n=0,a=0;n!==l;){var o=e[a++];if(s[n++]=(o&4278190080)>>>24,n===l||(s[n++]=(o&16711680)>>>16,n===l)||(s[n++]=(o&65280)>>>8,n===l))break;s[n++]=o&255}return s},decoderAESCTRData:function(i,l,e){if(i.videoSenc){var s=i.kidValue,n=i.videoSenc;i.samples.forEach(function(r,d){var c=n[d],u=r.data,h=[],m=[],p=c.InitializationVector;if(c.subsamples&&c.subsamples.length)c.subsamples.forEach(function(v){var Y=v.BytesOfClearData+v.BytesOfProtectedData,X=u.slice(0,Y);h.push(X.slice(0,v.BytesOfClearData)),m.push(X.slice(v.BytesOfClearData)),u=u.slice(Y)});else{var y=r.size;h.push(u.slice(0,0)),m.push(u.slice(0,y)),u=u.slice(y)}var g=new oi;g.write.apply(g,m);var V=e?e(g.buffer,s,p):Zt.decryptWordArray(g.buffer,s,p),L=new oi;h.forEach(function(v,Y){var X=m[Y].length,G=V.slice(0,X);L.write(v),L.write(G),V=V.slice(X)}),i.samples[d].data=L.buffer})}if(l.audioSenc){var a=l.kidValue,o=l.audioSenc;l.samples.forEach(function(r,d){var c=o[d],u=e?e(r.data,a,c.InitializationVector):Zt.decryptWordArray(r.data,a,c.InitializationVector);l.samples[d].data=u})}}},Mi=20,Ga=function(){function t(i,l,e,s){var n=this;Bs(this,t),nt(this,"_videoSamples",[]),nt(this,"_audioSamples",[]),nt(this,"_lastRemainBuffer",[]),nt(this,"_lastRemainBufferStartPos",0),this.videoTrack=new Qs,this.audioTrack=new Os,this.metadataTrack=e||new As,this.log=new _s("MP4Demuxer",s&&s.openLog?!s.openLog:!0),i&&i.forEach(function(a){var o;(o=n._videoSamples).push.apply(o,mi(a.frames))}),l&&l.forEach(function(a){var o;(o=n._audioSamples).push.apply(o,mi(a.frames))})}return Ds(t,[{key:"parseSamples",value:function(l){if(!l)throw new Error("moov is required");if(!this.videoTrack.codec&&!this.audioTrack.codec&&(ee.moovToTrack(l,this.videoTrack,this.audioTrack),this.videoSenc=this.videoTrack.videoSenc,this.audioSenc=this.audioTrack.audioSenc),!this._audioSamples.length&&!this._videoSamples.length){var e=ee.moovToSamples(l);if(!e)throw new Error("cannot parse samples from moov box");this._videoSamples=e.videoSamples||[],this._audioSamples=e.audioSamples||[]}}},{key:"demux",value:function(l,e,s,n,a){this.parseSamples(a);var o=this.videoTrack,r=this.audioTrack;o.samples=[],r.samples=[];var d,c,u;if(s){for(var h,m=0,p=s[0],y=s[1];p<=y;p++){if(d=this._videoSamples[p],!d)throw new Error("cannot found video frame #".concat(p));u=d.offset-e,c=l.subarray(u,u+d.size),h=new di(d.pts||d.dts,d.dts),h.duration=d.duration,h.gopId=d.gopId,d.keyframe&&h.setToKeyframe();for(var g=0,V=c.length-1;g<V;)m=ci(c,g),g+=4,h.units.push(c.subarray(g,g+m)),g+=m;o.samples.push(h)}o.baseMediaDecodeTime=o.samples[0].dts}if(n){for(var L=n[0],v=n[1];L<=v;L++){if(d=this._audioSamples[L],!d)throw new Error("cannot found video frame #".concat(L));u=d.offset-e,c=l.subarray(u,u+d.size),r.samples.push(new ui(d.dts,c,d.duration))}r.baseMediaDecodeTime=r.samples[0].dts}return{videoTrack:o,audioTrack:r,metadataTrack:this.metadataTrack}}},{key:"demuxPart",value:function(l,e,s,n,a,o,r,d){if(this.parseSamples(a),this.videoTrack.useEME=o,this.audioTrack.useEME=o,this._lastRemainBuffer&&this._lastRemainBuffer.byteLength>0&&e>this._lastRemainBufferStartPos&&e<=this._lastRemainBufferStartPos+this._lastRemainBuffer.byteLength)for(var c=0;c<Mi;)try{var u=this._lastRemainBuffer.subarray(0,e-this._lastRemainBufferStartPos),h=new Uint8Array(l.byteLength+u.byteLength);h.set(u,0),h.set(new Uint8Array(l),u.byteLength),l=h,e-=u.byteLength,this._lastRemainBuffer=null,this._lastRemainBufferStartPos=0;break}catch(f){if(c<Mi)c++;else throw new Error("new Uint8Array error:,"+f.errorMessage)}var m=this.videoTrack,p=this.audioTrack;m.samples=[],p.samples=[],m.videoSenc=null,p.audioSenc=null;var y,g,V,L=0,v=0;if(this._videoSamples.length>0&&s.length>0){for(var Y,X=l.byteLength+e,G=s[0];G<=s[1];G++){if(y=this._videoSamples[G],!y)throw new Error("cannot found video frame #".concat(G));y.offset>=e&&y.offset+y.size<=X&&(V=y.offset-e,L=V+y.size,g=l.subarray(V,L),Y=new di(y.pts||y.dts,y.dts),Y.duration=y.duration,Y.gopId=y.gopId,Y.sampleOffset=y.index,y.keyframe&&Y.setToKeyframe(),Y.data=g,Y.size=y.size,m.samples.push(Y))}m.samples.length>0&&(m.gopId=m.samples[0].gopId,m.baseMediaDecodeTime=m.samples[0].dts,m.startPts=m.samples[0].pts/m.timescale,m.endPts=m.samples[m.samples.length-1].pts/m.timescale,this.videoSenc&&(m.videoSenc=this.videoSenc.slice(m.samples[0].sampleOffset,m.samples[0].sampleOffset+m.samples.length),m.kidValue=r))}if(this._audioSamples.length>0&&n.length>0){for(var S=n[0];S<=n[1];S++){if(y=this._audioSamples[S],!y)throw new Error("cannot found video frame #".concat(S));y.offset>=e&&y.offset+y.size<=l.byteLength+e&&(V=y.offset-e,v=V+y.size,g=l.subarray(V,v),p.samples.push(new ui(y.dts,g,y.duration,y.index)))}p.samples.length>0&&(p.gopId=p.samples[0].gopId||m.gopId,p.baseMediaDecodeTime=p.samples[0].dts,p.startPts=p.samples[0].pts/p.timescale,p.endPts=p.samples[p.samples.length-1].pts/p.timescale,this.audioSenc&&(p.audioSenc=this.audioSenc.slice(p.samples[0].sampleOffset,p.samples[0].sampleOffset+p.samples.length),p.kidValue=r))}this.decoderData(m,p,d);for(var Z=0,N=0;N<m.samples.length;N++)for(var K=0,I=m.samples[N].data,b=I.length-1;K<b;)Z=ci(I,K),K+=4,m.samples[N].units.push(I.subarray(K,K+Z)),K+=Z;return this._lastRemainBuffer=l.subarray(Math.max(L,v)),this._lastRemainBuffer.byteLength>0?this._lastRemainBufferStartPos=e+l.byteLength-this._lastRemainBuffer.byteLength:this._lastRemainBufferStartPos=0,{videoTrack:m,audioTrack:p,metadataTrack:this.metadataTrack}}},{key:"reset",value:function(){this._videoSamples=[],this._audioSamples=[],this._lastRemainBuffer=null,this._lastRemainBufferStartPos=0,this.videoTrack.reset(),this.audioTrack.reset(),this.metadataTrack.reset()}},{key:"decoderData",value:function(l,e,s){l.useEME||e.useEME||Zt.decoderAESCTRData(l,e,s)}}],[{key:"probe",value:function(l){return ee.probe(l)}}]),t}();function Ti(t,i){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);i&&(e=e.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),l.push.apply(l,e)}return l}function Re(t){for(var i=1;i<arguments.length;i++){var l=arguments[i]!=null?arguments[i]:{};i%2?Ti(Object(l),!0).forEach(function(e){fe(t,e,l[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):Ti(Object(l)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(l,e))})}return t}function j(){j=function(){return t};var t={},i=Object.prototype,l=i.hasOwnProperty,e=Object.defineProperty||function(b,f,W){b[f]=W.value},s=typeof Symbol=="function"?Symbol:{},n=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function r(b,f,W){return Object.defineProperty(b,f,{value:W,enumerable:!0,configurable:!0,writable:!0}),b[f]}try{r({},"")}catch{r=function(f,W,T){return f[W]=T}}function d(b,f,W,T){var w=f&&f.prototype instanceof h?f:h,C=Object.create(w.prototype),M=new N(T||[]);return e(C,"_invoke",{value:X(b,W,M)}),C}function c(b,f,W){try{return{type:"normal",arg:b.call(f,W)}}catch(T){return{type:"throw",arg:T}}}t.wrap=d;var u={};function h(){}function m(){}function p(){}var y={};r(y,n,function(){return this});var g=Object.getPrototypeOf,V=g&&g(g(K([])));V&&V!==i&&l.call(V,n)&&(y=V);var L=p.prototype=h.prototype=Object.create(y);function v(b){["next","throw","return"].forEach(function(f){r(b,f,function(W){return this._invoke(f,W)})})}function Y(b,f){function W(w,C,M,R){var x=c(b[w],b,C);if(x.type!=="throw"){var H=x.arg,F=H.value;return F&&typeof F=="object"&&l.call(F,"__await")?f.resolve(F.__await).then(function(P){W("next",P,M,R)},function(P){W("throw",P,M,R)}):f.resolve(F).then(function(P){H.value=P,M(H)},function(P){return W("throw",P,M,R)})}R(x.arg)}var T;e(this,"_invoke",{value:function(w,C){function M(){return new f(function(R,x){W(w,C,R,x)})}return T=T?T.then(M,M):M()}})}function X(b,f,W){var T="suspendedStart";return function(w,C){if(T==="executing")throw new Error("Generator is already running");if(T==="completed"){if(w==="throw")throw C;return I()}for(W.method=w,W.arg=C;;){var M=W.delegate;if(M){var R=G(M,W);if(R){if(R===u)continue;return R}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(T==="suspendedStart")throw T="completed",W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);T="executing";var x=c(b,f,W);if(x.type==="normal"){if(T=W.done?"completed":"suspendedYield",x.arg===u)continue;return{value:x.arg,done:W.done}}x.type==="throw"&&(T="completed",W.method="throw",W.arg=x.arg)}}}function G(b,f){var W=f.method,T=b.iterator[W];if(T===void 0)return f.delegate=null,W==="throw"&&b.iterator.return&&(f.method="return",f.arg=void 0,G(b,f),f.method==="throw")||W!=="return"&&(f.method="throw",f.arg=new TypeError("The iterator does not provide a '"+W+"' method")),u;var w=c(T,b.iterator,f.arg);if(w.type==="throw")return f.method="throw",f.arg=w.arg,f.delegate=null,u;var C=w.arg;return C?C.done?(f[b.resultName]=C.value,f.next=b.nextLoc,f.method!=="return"&&(f.method="next",f.arg=void 0),f.delegate=null,u):C:(f.method="throw",f.arg=new TypeError("iterator result is not an object"),f.delegate=null,u)}function S(b){var f={tryLoc:b[0]};1 in b&&(f.catchLoc=b[1]),2 in b&&(f.finallyLoc=b[2],f.afterLoc=b[3]),this.tryEntries.push(f)}function Z(b){var f=b.completion||{};f.type="normal",delete f.arg,b.completion=f}function N(b){this.tryEntries=[{tryLoc:"root"}],b.forEach(S,this),this.reset(!0)}function K(b){if(b){var f=b[n];if(f)return f.call(b);if(typeof b.next=="function")return b;if(!isNaN(b.length)){var W=-1,T=function w(){for(;++W<b.length;)if(l.call(b,W))return w.value=b[W],w.done=!1,w;return w.value=void 0,w.done=!0,w};return T.next=T}}return{next:I}}function I(){return{value:void 0,done:!0}}return m.prototype=p,e(L,"constructor",{value:p,configurable:!0}),e(p,"constructor",{value:m,configurable:!0}),m.displayName=r(p,o,"GeneratorFunction"),t.isGeneratorFunction=function(b){var f=typeof b=="function"&&b.constructor;return!!f&&(f===m||(f.displayName||f.name)==="GeneratorFunction")},t.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,p):(b.__proto__=p,r(b,o,"GeneratorFunction")),b.prototype=Object.create(L),b},t.awrap=function(b){return{__await:b}},v(Y.prototype),r(Y.prototype,a,function(){return this}),t.AsyncIterator=Y,t.async=function(b,f,W,T,w){w===void 0&&(w=Promise);var C=new Y(d(b,f,W,T),w);return t.isGeneratorFunction(f)?C:C.next().then(function(M){return M.done?M.value:C.next()})},v(L),r(L,o,"Generator"),r(L,n,function(){return this}),r(L,"toString",function(){return"[object Generator]"}),t.keys=function(b){var f=Object(b),W=[];for(var T in f)W.push(T);return W.reverse(),function w(){for(;W.length;){var C=W.pop();if(C in f)return w.value=C,w.done=!1,w}return w.done=!0,w}},t.values=K,N.prototype={constructor:N,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Z),!b)for(var f in this)f.charAt(0)==="t"&&l.call(this,f)&&!isNaN(+f.slice(1))&&(this[f]=void 0)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(b){if(this.done)throw b;var f=this;function W(x,H){return C.type="throw",C.arg=b,f.next=x,H&&(f.method="next",f.arg=void 0),!!H}for(var T=this.tryEntries.length-1;T>=0;--T){var w=this.tryEntries[T],C=w.completion;if(w.tryLoc==="root")return W("end");if(w.tryLoc<=this.prev){var M=l.call(w,"catchLoc"),R=l.call(w,"finallyLoc");if(M&&R){if(this.prev<w.catchLoc)return W(w.catchLoc,!0);if(this.prev<w.finallyLoc)return W(w.finallyLoc)}else if(M){if(this.prev<w.catchLoc)return W(w.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return W(w.finallyLoc)}}}},abrupt:function(b,f){for(var W=this.tryEntries.length-1;W>=0;--W){var T=this.tryEntries[W];if(T.tryLoc<=this.prev&&l.call(T,"finallyLoc")&&this.prev<T.finallyLoc){var w=T;break}}w&&(b==="break"||b==="continue")&&w.tryLoc<=f&&f<=w.finallyLoc&&(w=null);var C=w?w.completion:{};return C.type=b,C.arg=f,w?(this.method="next",this.next=w.finallyLoc,u):this.complete(C)},complete:function(b,f){if(b.type==="throw")throw b.arg;return b.type==="break"||b.type==="continue"?this.next=b.arg:b.type==="return"?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):b.type==="normal"&&f&&(this.next=f),u},finish:function(b){for(var f=this.tryEntries.length-1;f>=0;--f){var W=this.tryEntries[f];if(W.finallyLoc===b)return this.complete(W.completion,W.afterLoc),Z(W),u}},catch:function(b){for(var f=this.tryEntries.length-1;f>=0;--f){var W=this.tryEntries[f];if(W.tryLoc===b){var T=W.completion;if(T.type==="throw"){var w=T.arg;Z(W)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(b,f,W){return this.delegate={iterator:K(b),resultName:f,nextLoc:W},this.method==="next"&&(this.arg=void 0),u}},t}function Ri(t,i,l,e,s,n,a){try{var o=t[n](a),r=o.value}catch(d){l(d);return}o.done?i(r):Promise.resolve(r).then(e,s)}function ne(t){return function(){var i=this,l=arguments;return new Promise(function(e,s){var n=t.apply(i,l);function a(r){Ri(n,e,s,a,o,"next",r)}function o(r){Ri(n,e,s,a,o,"throw",r)}a(void 0)})}}function Pe(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function Ii(t,i){for(var l=0;l<i.length;l++){var e=i[l];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,vs(e.key),e)}}function Je(t,i,l){return i&&Ii(t.prototype,i),l&&Ii(t,l),Object.defineProperty(t,"prototype",{writable:!1}),t}function fe(t,i,l){return i=vs(i),i in t?Object.defineProperty(t,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[i]=l,t}function si(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Dt(t,i)}function yt(t){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},yt(t)}function Dt(t,i){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},Dt(t,i)}function Va(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ga(t,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(t)}function li(t){var i=Va();return function(){var e=yt(t),s;if(i){var n=yt(this).constructor;s=Reflect.construct(e,arguments,n)}else s=e.apply(this,arguments);return ga(this,s)}}function va(t,i){if(typeof t!="object"||t===null)return t;var l=t[Symbol.toPrimitive];if(l!==void 0){var e=l.call(t,i);if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function vs(t){var i=va(t,"string");return typeof i=="symbol"?i:String(i)}var ut={},Ci;function xa(){return Ci||(Ci=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.default=function(t){for(var i=0,l=arguments.length,e=Array(l>1?l-1:0),s=1;s<l;s++)e[s-1]=arguments[s];var n=!0,a=!1,o=void 0;try{for(var r=e[Symbol.iterator](),d;!(n=(d=r.next()).done);n=!0){var c=d.value;i+=c.length}}catch(v){a=!0,o=v}finally{try{!n&&r.return&&r.return()}finally{if(a)throw o}}var u=new t(i),h=0,m=!0,p=!1,y=void 0;try{for(var g=e[Symbol.iterator](),V;!(m=(V=g.next()).done);m=!0){var L=V.value;u.set(L,h),h+=L.length}}catch(v){p=!0,y=v}finally{try{!m&&g.return&&g.return()}finally{if(p)throw y}}return u}),ut}var Rt,Ki;function Ya(){if(Ki)return Rt;Ki=1;var t=xa(),i=l(t);function l(e){return e&&e.__esModule?e:{default:e}}return Rt=i.default,Rt}var wa=Ya();const Ma=$s(wa);var xs="3.0.23",Ve={416:$[D.NETWROK_RANGE_NOT_SATISFIABLE],403:$[D.NETWORK_FORBIDDEN],404:$[D.NETWORK_NOTFOUND],timeout:$[D.NETWORK_TIMEOUT],"4xx":"".concat($[D.NETWORK],"4XX"),"5xx":"".concat($[D.NETWORK],"5XX"),networkError:$[D.NETWORK],contentError:"".concat($[D.NETWORK],"contentError"),mse:$[D.MEDIA][D.SUB_TYPES.MSE_OTHER],mseOpen:$[D.MEDIA][D.SUB_TYPES.MSE_ADD_SB],mseAppend:$[D.MEDIA][D.SUB_TYPES.MSE_APPEND_BUFFER],mse_hijack:$[D.MEDIA][D.SUB_TYPES.MSE_HIJACK],eme_hijack:$[D.MEDIA][D.SUB_TYPES.EME_HIJACK],metaError:$[D.DEMUX][D.SUB_TYPES.MP4],muxError:$[D.REMUX][D.SUB_TYPES.FMP4],other:$[D.OTHER],waitTimeout:$[D.RUNTIME][D.SUB_TYPES.BUFFERBREAK_ERROR],waitTimeoutWithHidden:$[D.RUNTIME][D.SUB_TYPES.WAITING_TIMEOUT_ERROR],drm:$[D.DRM][D.SUB_TYPES.LICENSE]},je=D;function Ta(t){return Ve[t]||t}var Ra=Je(function t(i,l,e){Pe(this,t);var s=0,n=0;e&&e.range&&e.range.length>1&&(s=e.range[0],n=e.range[1]);var a=Ta(l);return{errorCode:a,errorType:i,errorMessage:e?.httpText||e?.message,url:e?.url,httpCode:l,version:xs,rangeStart:s,rangeEnd:n,ext:e,mediaError:{code:a,message:e?.httpText||e?.message}}}),Ia=Je(function t(i,l,e){return Pe(this,t),{errorCode:l,errorType:i,version:xs,errorMessage:e.msg,ext:e,mediaError:{code:l,message:e.msg}}}),ve={};ve.nowTime=function(){try{return parseInt(performance.now(),10)}catch{return new Date().getTime()}};ve.concatData=function(t,i){var l=[],e=0;t&&l.push(t),i&&l.push(i),l.every(function(a){return a&&(e+=a.byteLength),!0});var s=new Uint8Array(e),n=0;return l.every(function(a){return a&&(s.set(a,n),n+=a.byteLength),!0}),s};function Ca(t,i){var l=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(l!=null){var e,s,n,a,o=[],r=!0,d=!1;try{if(n=(l=l.call(t)).next,i!==0)for(;!(r=(e=n.call(l)).done)&&(o.push(e.value),o.length!==i);r=!0);}catch(c){d=!0,s=c}finally{try{if(!r&&l.return!=null&&(a=l.return(),Object(a)!==a))return}finally{if(d)throw s}}return o}}function ki(t,i){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);i&&(e=e.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),l.push.apply(l,e)}return l}function Bt(t){for(var i=1;i<arguments.length;i++){var l=arguments[i]!=null?arguments[i]:{};i%2?ki(Object(l),!0).forEach(function(e){pe(t,e,l[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):ki(Object(l)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(l,e))})}return t}function B(){B=function(){return t};var t={},i=Object.prototype,l=i.hasOwnProperty,e=Object.defineProperty||function(b,f,W){b[f]=W.value},s=typeof Symbol=="function"?Symbol:{},n=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function r(b,f,W){return Object.defineProperty(b,f,{value:W,enumerable:!0,configurable:!0,writable:!0}),b[f]}try{r({},"")}catch{r=function(f,W,T){return f[W]=T}}function d(b,f,W,T){var w=f&&f.prototype instanceof h?f:h,C=Object.create(w.prototype),M=new N(T||[]);return e(C,"_invoke",{value:X(b,W,M)}),C}function c(b,f,W){try{return{type:"normal",arg:b.call(f,W)}}catch(T){return{type:"throw",arg:T}}}t.wrap=d;var u={};function h(){}function m(){}function p(){}var y={};r(y,n,function(){return this});var g=Object.getPrototypeOf,V=g&&g(g(K([])));V&&V!==i&&l.call(V,n)&&(y=V);var L=p.prototype=h.prototype=Object.create(y);function v(b){["next","throw","return"].forEach(function(f){r(b,f,function(W){return this._invoke(f,W)})})}function Y(b,f){function W(w,C,M,R){var x=c(b[w],b,C);if(x.type!=="throw"){var H=x.arg,F=H.value;return F&&typeof F=="object"&&l.call(F,"__await")?f.resolve(F.__await).then(function(P){W("next",P,M,R)},function(P){W("throw",P,M,R)}):f.resolve(F).then(function(P){H.value=P,M(H)},function(P){return W("throw",P,M,R)})}R(x.arg)}var T;e(this,"_invoke",{value:function(w,C){function M(){return new f(function(R,x){W(w,C,R,x)})}return T=T?T.then(M,M):M()}})}function X(b,f,W){var T="suspendedStart";return function(w,C){if(T==="executing")throw new Error("Generator is already running");if(T==="completed"){if(w==="throw")throw C;return I()}for(W.method=w,W.arg=C;;){var M=W.delegate;if(M){var R=G(M,W);if(R){if(R===u)continue;return R}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(T==="suspendedStart")throw T="completed",W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);T="executing";var x=c(b,f,W);if(x.type==="normal"){if(T=W.done?"completed":"suspendedYield",x.arg===u)continue;return{value:x.arg,done:W.done}}x.type==="throw"&&(T="completed",W.method="throw",W.arg=x.arg)}}}function G(b,f){var W=f.method,T=b.iterator[W];if(T===void 0)return f.delegate=null,W==="throw"&&b.iterator.return&&(f.method="return",f.arg=void 0,G(b,f),f.method==="throw")||W!=="return"&&(f.method="throw",f.arg=new TypeError("The iterator does not provide a '"+W+"' method")),u;var w=c(T,b.iterator,f.arg);if(w.type==="throw")return f.method="throw",f.arg=w.arg,f.delegate=null,u;var C=w.arg;return C?C.done?(f[b.resultName]=C.value,f.next=b.nextLoc,f.method!=="return"&&(f.method="next",f.arg=void 0),f.delegate=null,u):C:(f.method="throw",f.arg=new TypeError("iterator result is not an object"),f.delegate=null,u)}function S(b){var f={tryLoc:b[0]};1 in b&&(f.catchLoc=b[1]),2 in b&&(f.finallyLoc=b[2],f.afterLoc=b[3]),this.tryEntries.push(f)}function Z(b){var f=b.completion||{};f.type="normal",delete f.arg,b.completion=f}function N(b){this.tryEntries=[{tryLoc:"root"}],b.forEach(S,this),this.reset(!0)}function K(b){if(b){var f=b[n];if(f)return f.call(b);if(typeof b.next=="function")return b;if(!isNaN(b.length)){var W=-1,T=function w(){for(;++W<b.length;)if(l.call(b,W))return w.value=b[W],w.done=!1,w;return w.value=void 0,w.done=!0,w};return T.next=T}}return{next:I}}function I(){return{value:void 0,done:!0}}return m.prototype=p,e(L,"constructor",{value:p,configurable:!0}),e(p,"constructor",{value:m,configurable:!0}),m.displayName=r(p,o,"GeneratorFunction"),t.isGeneratorFunction=function(b){var f=typeof b=="function"&&b.constructor;return!!f&&(f===m||(f.displayName||f.name)==="GeneratorFunction")},t.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,p):(b.__proto__=p,r(b,o,"GeneratorFunction")),b.prototype=Object.create(L),b},t.awrap=function(b){return{__await:b}},v(Y.prototype),r(Y.prototype,a,function(){return this}),t.AsyncIterator=Y,t.async=function(b,f,W,T,w){w===void 0&&(w=Promise);var C=new Y(d(b,f,W,T),w);return t.isGeneratorFunction(f)?C:C.next().then(function(M){return M.done?M.value:C.next()})},v(L),r(L,o,"Generator"),r(L,n,function(){return this}),r(L,"toString",function(){return"[object Generator]"}),t.keys=function(b){var f=Object(b),W=[];for(var T in f)W.push(T);return W.reverse(),function w(){for(;W.length;){var C=W.pop();if(C in f)return w.value=C,w.done=!1,w}return w.done=!0,w}},t.values=K,N.prototype={constructor:N,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Z),!b)for(var f in this)f.charAt(0)==="t"&&l.call(this,f)&&!isNaN(+f.slice(1))&&(this[f]=void 0)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(b){if(this.done)throw b;var f=this;function W(x,H){return C.type="throw",C.arg=b,f.next=x,H&&(f.method="next",f.arg=void 0),!!H}for(var T=this.tryEntries.length-1;T>=0;--T){var w=this.tryEntries[T],C=w.completion;if(w.tryLoc==="root")return W("end");if(w.tryLoc<=this.prev){var M=l.call(w,"catchLoc"),R=l.call(w,"finallyLoc");if(M&&R){if(this.prev<w.catchLoc)return W(w.catchLoc,!0);if(this.prev<w.finallyLoc)return W(w.finallyLoc)}else if(M){if(this.prev<w.catchLoc)return W(w.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return W(w.finallyLoc)}}}},abrupt:function(b,f){for(var W=this.tryEntries.length-1;W>=0;--W){var T=this.tryEntries[W];if(T.tryLoc<=this.prev&&l.call(T,"finallyLoc")&&this.prev<T.finallyLoc){var w=T;break}}w&&(b==="break"||b==="continue")&&w.tryLoc<=f&&f<=w.finallyLoc&&(w=null);var C=w?w.completion:{};return C.type=b,C.arg=f,w?(this.method="next",this.next=w.finallyLoc,u):this.complete(C)},complete:function(b,f){if(b.type==="throw")throw b.arg;return b.type==="break"||b.type==="continue"?this.next=b.arg:b.type==="return"?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):b.type==="normal"&&f&&(this.next=f),u},finish:function(b){for(var f=this.tryEntries.length-1;f>=0;--f){var W=this.tryEntries[f];if(W.finallyLoc===b)return this.complete(W.completion,W.afterLoc),Z(W),u}},catch:function(b){for(var f=this.tryEntries.length-1;f>=0;--f){var W=this.tryEntries[f];if(W.tryLoc===b){var T=W.completion;if(T.type==="throw"){var w=T.arg;Z(W)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(b,f,W){return this.delegate={iterator:K(b),resultName:f,nextLoc:W},this.method==="next"&&(this.arg=void 0),u}},t}function Hi(t,i,l,e,s,n,a){try{var o=t[n](a),r=o.value}catch(d){l(d);return}o.done?i(r):Promise.resolve(r).then(e,s)}function me(t){return function(){var i=this,l=arguments;return new Promise(function(e,s){var n=t.apply(i,l);function a(r){Hi(n,e,s,a,o,"next",r)}function o(r){Hi(n,e,s,a,o,"throw",r)}a(void 0)})}}function ni(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function Ka(t,i){for(var l=0;l<i.length;l++){var e=i[l];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,ws(e.key),e)}}function ai(t,i,l){return i&&Ka(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function pe(t,i,l){return i=ws(i),i in t?Object.defineProperty(t,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[i]=l,t}function ka(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Qt(t,i)}function Xt(t){return Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},Xt(t)}function Qt(t,i){return Qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},Qt(t,i)}function Ha(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function za(t,i){if(t==null)return{};var l={},e=Object.keys(t),s,n;for(n=0;n<e.length;n++)s=e[n],!(i.indexOf(s)>=0)&&(l[s]=t[s]);return l}function Na(t,i){if(t==null)return{};var l=za(t,i),e,s;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(s=0;s<n.length;s++)e=n[s],!(i.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,e)&&(l[e]=t[e])}return l}function be(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fa(t,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return be(t)}function Pa(t){var i=Ha();return function(){var e=Xt(t),s;if(i){var n=Xt(this).constructor;s=Reflect.construct(e,arguments,n)}else s=e.apply(this,arguments);return Fa(this,s)}}function Ja(t,i){return ja(t)||Ca(t,i)||Ys(t,i)||Qa()}function Ua(t){return Ea(t)||Da(t)||Ys(t)||Ba()}function Ea(t){if(Array.isArray(t))return Ot(t)}function ja(t){if(Array.isArray(t))return t}function Da(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ys(t,i){if(t){if(typeof t=="string")return Ot(t,i);var l=Object.prototype.toString.call(t).slice(8,-1);if(l==="Object"&&t.constructor&&(l=t.constructor.name),l==="Map"||l==="Set")return Array.from(t);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Ot(t,i)}}function Ot(t,i){(i==null||i>t.length)&&(i=t.length);for(var l=0,e=new Array(i);l<i;l++)e[l]=t[l];return e}function Ba(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oa(t,i){if(typeof t!="object"||t===null)return t;var l=t[Symbol.toPrimitive];if(l!==void 0){var e=l.call(t,i);if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function ws(t){var i=Oa(t,"string");return typeof i=="symbol"?i:String(i)}function Aa(t){return Bt({vid:"",moovEnd:8e4,segmentDuration:2,maxDownloadInfoSize:30,responseType:"arraybuffer",cache:null},t)}var mt=ai(function t(i,l){ni(this,t),this.type="file",this.message=i,this.data=l}),_a=function(){function t(){ni(this,t),pe(this,"_data",Object.create(null))}return ai(t,[{key:"set",value:function(l,e){this._data[l]=e}},{key:"get",value:function(l){return this._data[l]}},{key:"clear",value:function(){this._data=Object.create(null)}}]),t}();function zi(t,i){var l=t.trak;if(!(!l||!l.length)){var e=l.find(function(m){var p,y;return((p=m.mdia)===null||p===void 0||(y=p.hdlr)===null||y===void 0?void 0:y.handlerType)==="vide"}),s=l.find(function(m){var p,y;return((p=m.mdia)===null||p===void 0||(y=p.hdlr)===null||y===void 0?void 0:y.handlerType)==="soun"});if(!(!e&&!s)){var n=[],a=[];if(i){var o=[],r=0,d=i.start+i.size;i.references.forEach(function(m,p){o.push({index:p,startTime:r,endTime:r+m.subsegment_duration/i.timescale,duration:m.subsegment_duration/i.timescale,range:[d,d+m.referenced_size],frames:[]}),r+=m.subsegment_duration/i.timescale,d+=m.referenced_size}),n=o,a=o}else{var c,u,h=function(p){return p?[{index:0,startTime:0,endTime:p.duration/p.timescale,duration:p.duration/p.timescale,range:[t.start+t.size,""],frames:[]}]:[]};a=h(t.mvhd.duration?t.mvhd:(c=e.mdia)===null||c===void 0?void 0:c.mdhd),n=h(t.mvhd.duration?t.mvhd:(u=s.mdia)===null||u===void 0?void 0:u.mdhd)}return{videoSegments:a,audioSegments:n}}}}function It(t,i){var l=t.trak;if(!(!l||!l.length)){var e=l.find(function(b){var f,W;return((f=b.mdia)===null||f===void 0||(W=f.hdlr)===null||W===void 0?void 0:W.handlerType)==="vide"}),s=l.find(function(b){var f,W;return((f=b.mdia)===null||f===void 0||(W=f.hdlr)===null||W===void 0?void 0:W.handlerType)==="soun"});if(!(!e&&!s)){var n=[],a=[],o;if(e){var r,d,c,u=(r=e.mdia)===null||r===void 0||(d=r.minf)===null||d===void 0?void 0:d.stbl;if(!u)return;var h=(c=e.mdia.mdhd)===null||c===void 0?void 0:c.timescale,m=u.stts,p=u.stsc,y=u.stsz,g=u.stco,V=u.stss,L=u.ctts;if(!h||!m||!p||!y||!g||!V)return;n=Ni(i,h,m,p,y,g,V,L),o=n.map(function(b){return b.duration})}if(s){var v,Y,X,G=(v=s.mdia)===null||v===void 0||(Y=v.minf)===null||Y===void 0?void 0:Y.stbl;if(!G)return;var S=(X=s.mdia.mdhd)===null||X===void 0?void 0:X.timescale,Z=G.stts,N=G.stsc,K=G.stsz,I=G.stco;if(!S||!Z||!N||!K||!I)return;a=Ni(i,S,Z,N,K,I,null,null,o)}return{videoSegments:n,audioSegments:a}}}}function Ni(t,i,l,e,s,n,a,o,r){var d,c=[],u=[],h=[],m=e.entries,p=n.entries,y=s.entrySizes,g=a?.entries,V=o?.entries,L;V&&(L=[],V.forEach(function(E){for(var ae=E.count,ue=E.offset,Ae=0;Ae<ae;Ae++)L.push(ue)}));var v;g&&(v={},g.forEach(function(E){v[E-1]=!0}));var Y,X,G=0,S=0,Z=0,N=0,K=0,I=(d=m[0])===null||d===void 0?void 0:d.samplesPerChunk,b=m[1]?m[1].firstChunk-1:1/0,f=0,W=-1;l.entries.forEach(function(E){var ae=E.count,ue=E.delta;X=ue;for(var Ae=0;Ae<ae;Ae++)Y={dts:f,startTime:G,duration:X,size:y[S]||s.sampleSize,offset:p[Z]+K,index:S},g&&(Y.keyframe=v[S],Y.keyframe?(W++,u.push([Y]),h.push(Y.duration)):(u[u.length-1].push(Y),h[u.length-1]+=Y.duration),Y.gopId=W),L&&S<L.length&&(Y.pts=f+L[S]),S===0&&(Y.pts=0),c.push(Y),G+=X,f+=ue,S++,S<I?K+=Y.size:(Z++,K=0,Z>=b&&(N++,b=m[N+1]?m[N+1].firstChunk-1:1/0),I+=m[N].samplesPerChunk)});var T=c.length;if(!T||a&&!c[0].keyframe)return[];var w=[],C=[],M=0,R,x=0,H=function(ae){var ue;R=C[C.length-1],w.push({index:w.length,startTime:((ue=w[w.length-1])===null||ue===void 0?void 0:ue.endTime)||C[0].startTime/i,endTime:(R.startTime+R.duration)/i,duration:ae,range:[C[0].offset,R.offset+R.size],frames:C}),M=0,C=[]};if(a)for(var F=t*i,P=0,Q=u.length;P<Q;P++){var A;M+=h[P],(A=C).push.apply(A,Ua(u[P])),P+1<Q?(P===0||M>F)&&H(M/i):H(M/i)}else{r=r||[];for(var Ue=r[0]||t,_=0;_<T;_++){C.push(c[_]),M+=c[_].duration;var Oe=M/i;(_+1>=T||Oe+x>=Ue)&&(x+=Oe-Ue,H(Oe),Ue=r[w.length]||t)}}return w}function Fi(t,i){var l="",e="",s=0,n=0,a=0,o=0,r=0,d=0,c=0;t.mvhd&&(r=t.mvhd.duration/t.mvhd.timescale);var u=t.trak;if(u){var h=u.find(function(w){var C,M;return((C=w.mdia)===null||C===void 0||(M=C.hdlr)===null||M===void 0?void 0:M.handlerType)==="vide"}),m=u.find(function(w){var C,M;return((C=w.mdia)===null||C===void 0||(M=C.hdlr)===null||M===void 0?void 0:M.handlerType)==="soun"}),p=null,y;if(h){var g,V,L;if(p=(g=h.mdia)===null||g===void 0||(V=g.minf)===null||V===void 0||(L=V.stbl)===null||L===void 0?void 0:L.stsd.entries[0],p){var v,Y,X;if(s=p.width,n=p.height,d=(v=h.mdia)===null||v===void 0||(Y=v.mdhd)===null||Y===void 0?void 0:Y.timescale,l=(X=p.avcC||p.hvcC||p.av1C)===null||X===void 0?void 0:X.codec,p.type==="encv"){var G,S;y=(G=p.sinf)===null||G===void 0||(S=G.schi)===null||S===void 0?void 0:S.tenc.default_KID}}}if(m){var Z,N,K;if(p=(Z=m.mdia)===null||Z===void 0||(N=Z.minf)===null||N===void 0||(K=N.stbl)===null||K===void 0?void 0:K.stsd.entries[0],p){var I,b,f;if(a=p.channelCount,o=p.sampleRate,e=(I=p.esds)===null||I===void 0?void 0:I.codec,c=(b=m.mdia)===null||b===void 0||(f=b.mdhd)===null||f===void 0?void 0:f.timescale,p.type==="enca"){var W,T;y=y||((W=p.sinf)===null||W===void 0||(T=W.schi)===null||T===void 0?void 0:T.tenc.default_KID)}}}return{kid:y?y.join(""):null,videoCodec:l,audioCodec:e,width:s,height:n,videoTimescale:d,audioChannelCount:a,audioSampleRate:o,duration:r,audioTimescale:c,moov:t,isFragmentMP4:i}}}function Pi(t){return typeof t=="number"&&!Number.isNaN(t)}var $a=["vid","cache"],qa=function(t){ka(l,t);var i=Pa(l);function l(e){var s;ni(this,l),s=i.call(this),pe(be(s),"vid",""),pe(be(s),"url",""),pe(be(s),"meta",{}),pe(be(s),"downloadInfo",[]),pe(be(s),"videoSegments",[]),pe(be(s),"audioSegments",[]),pe(be(s),"cache",null),pe(be(s),"_currentSegmentIndex",-1),pe(be(s),"_currentLoadingSegmentIndex",-1),pe(be(s),"buffer",void 0),pe(be(s),"_error",void 0),pe(be(s),"_transformError",function(d){return d}),s._config=Aa(e);var n=s._config,a=n.vid,o=n.cache,r=Na(n,$a);return s.cache=o||new _a,s.vid=a||r.url,s.url=r.url,r.transformError=s._transformError,s.logger=new hi("MP4Loader_"+s.vid),e.openLog&&hi.enable(),r.logger=s.logger,s._loader=new qs(r),s._loader.on(pi.REAL_TIME_SPEED,function(d){s.emit(pi.REAL_TIME_SPEED,d)}),s}return ai(l,[{key:"isMetaLoaded",get:function(){return this.videoSegments.length||this.audioSegments.length}},{key:"setCurrentSegment",value:function(s){Pi(s)&&(this._currentSegmentIndex=s)}},{key:"isLastSegment",value:function(s){if(Pi(s)){var n,a,o=((n=this.videoSegments[this.videoSegments.length-1])===null||n===void 0?void 0:n.index)||((a=this.audioSegments[this.audioSegments.length-1])===null||a===void 0?void 0:a.index)||0;return s>=o}return!1}},{key:"isSegmentLoading",value:function(s){return s===this._currentLoadingSegmentIndex}},{key:"changeUrl",value:function(){var e=me(B().mark(function n(a){var o,r,d,c=arguments;return B().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return o=c.length>1&&c[1]!==void 0?c[1]:a,r=c.length>2?c[2]:void 0,d=c.length>3?c[3]:void 0,h.next=5,this.reset(d);case 5:a&&(this.url=a),o&&(this.vid=o),r&&(this._config.moovEnd=r);case 8:case"end":return h.stop()}},n,this)}));function s(n){return e.apply(this,arguments)}return s}()},{key:"getOrLoadMeta",value:function(){var e=me(B().mark(function n(a){return B().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.isMetaLoaded){r.next=3;break}return r.next=3,this.loadMeta(a);case 3:return r.abrupt("return",this.meta);case 4:case"end":return r.stop()}},n,this)}));function s(n){return e.apply(this,arguments)}return s}()},{key:"loadMetaProcess",value:function(){var e=me(B().mark(function n(a,o,r,d){var c=this,u,h,m,p;return B().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return u=Ja(o,2),h=u[0],m=u[1],this._error=!1,this.logger.debug("[loadMetaProcess start], range,",[h,m]),p=function(){var V=me(B().mark(function L(v,Y,X){var G,S,Z,N,K,I,b,f,W,T,w,C,M;return B().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(c.meta&&X!==null&&X!==void 0&&X.range&&X.range.length>0&&X.range[1]>=m&&(Y=!0,c.logger.debug("[loadMetaProcess],data done,setstate true,[",h,m,"]")),Y&&X!==null&&X!==void 0&&X.range&&X.range.length>0&&X.range[1]<m&&(Y=!1,c.logger.debug("[loadMetaProcess],data not done,setstate false,[",h,m,"]")),c.logger.debug("[loadMetaProcess],task,[",h,m,"], range,",X.range,",dataLen,",v?v.byteLength:void 0,", state,",Y,",err,",c._error),!c._error&&v&&v.byteLength>0&&r(v,Y,X),!(c.meta.moov||c._error)){x.next=6;break}return x.abrupt("return");case 6:if(!(v&&v.byteLength>0)){x.next=51;break}if(c.buffer=Zi(c.buffer,v),G=ee.findBox(c.buffer,["moov"])[0],G){x.next=23;break}if(S=ee.findBox(c.buffer,["mdat"])[0],!Y){x.next=23;break}if(S){x.next=18;break}return c._error=!0,r(null,Y,X,{err:"cannot find moov or mdat box"}),x.abrupt("return");case 18:return Z=S.start+S.size,x.next=21,c.loadData([Z,""],a,d);case 21:N=x.sent,N&&(G=ee.findBox(N.data,["moov"])[0]);case 23:if(!(G&&Y&&G.size>G.data.length)){x.next=27;break}return c.logger.debug("[loadMetaProcess],moov not all, range,",X.range[1],",dataLen,",c.buffer.byteLength,", state,",Y),x.next=27,c.loadMetaProcess(a,[X.range[1],G.start+G.size-1],r);case 27:if(!(G&&G.size<=G.data.length&&!c.meta.moov)){x.next=51;break}if(K=ee.moov(G),K){x.next=33;break}return c._error=!0,r(null,Y,X,{err:"cannot parse moov box"}),x.abrupt("return");case 33:if(I=It(K,c._config.segmentDuration),b=function(){var H=me(B().mark(function F(P){var Q,A;return B().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(Q=ee.findBox(c.buffer,[P])[0],!Q){_.next=11;break}if(!(Q.size>Q.data.length)){_.next=10;break}return _.next=5,c.loadData([Q.start,Q.start+Q.size-1],a,d);case 5:if(A=_.sent,!A){_.next=8;break}return _.abrupt("return",ee.findBox(A.data,[P])[0]);case 8:_.next=11;break;case 10:return _.abrupt("return",Q);case 11:case"end":return _.stop()}},F)}));return function(P){return H.apply(this,arguments)}}(),f=!1,I&&I.videoSegments.length&&I.audioSegments.length){x.next=41;break}return x.next=39,b("sidx");case 39:W=x.sent,W&&(T=ee.sidx(W),T&&(I=zi(K,T),f=!0));case 41:if(I){x.next=45;break}return c._error=!0,r(null,Y,X,{err:"cannot parse segments"}),x.abrupt("return");case 45:c.meta=Fi(K,f),w=I,C=w.videoSegments,M=w.audioSegments,c.videoSegments=C,c.audioSegments=M,c.logger.debug("[loadMetaProcess] moov ok"),r(void 0,Y,{meta:{meta:c.meta,videoSegments:C,audioSegments:M}});case 51:case"end":return x.stop()}},L)}));return function(v,Y,X){return V.apply(this,arguments)}}(),g.next=6,this.loadData([h,m||this._config.moovEnd],a,Bt({onProgress:p},d));case 6:case"end":return g.stop()}},n,this)}));function s(n,a,o,r){return e.apply(this,arguments)}return s}()},{key:"loadMeta",value:function(){var e=me(B().mark(function n(a,o,r){var d,c,u,h,m,p,y,g,V,L,v,Y,X,G;return B().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return d=[],this.logger.debug("[loadMeta start]"),Z.next=4,this.loadData([0,o||this._config.moovEnd],a,r);case 4:if(c=Z.sent,c){Z.next=7;break}return Z.abrupt("return");case 7:if(d.push(c),u=ee.findBox(c.data,["moov"])[0],u){Z.next=23;break}if(h=ee.findBox(c.data,["mdat"])[0],h){Z.next=13;break}throw new mt("cannot find moov or mdat box",c.data);case 13:return m=h.start+h.size,Z.next=16,this.loadData([m],a,r);case 16:if(c=Z.sent,c){Z.next=19;break}return Z.abrupt("return");case 19:if(d.push(c),u=ee.findBox(c.data,["moov"],m)[0],u){Z.next=23;break}throw new mt("cannot find moov box",c.data);case 23:if(!(u.size>u.data.length)){Z.next=31;break}return Z.next=26,this.loadData([c.data.length,u.start+u.size-1],a,r);case 26:if(c=Z.sent,c){Z.next=29;break}return Z.abrupt("return");case 29:d.push(c),u.data=Zi(u.data,c.data);case 31:if(p=ee.moov(u),p){Z.next=34;break}throw new mt("cannot parse moov box",u.data);case 34:if(y=It(p,this._config.segmentDuration),y){Z.next=37;break}throw new mt("cannot parse segments",u.data);case 37:return y.videoSegments.length&&y.audioSegments.length||(V=ee.findBox(this.buffer,["moof"])[0],L=ee.findBox(this.buffer,["sidx"])[0],V&&V.size<=V.data.length&&L&&(v=ee.moof(V),g=ee.sidx(L),v&&g&&(y=zi(p,g)))),this.meta=Fi(p,g),Y=y,X=Y.videoSegments,G=Y.audioSegments,this.videoSegments=X,this.audioSegments=G,this.logger.debug("[load moov end!!!!!]"),Z.abrupt("return",{meta:this.meta,videoSegments:X,audioSegments:G,responses:d});case 44:case"end":return Z.stop()}},n,this)}));function s(n,a,o){return e.apply(this,arguments)}return s}()},{key:"loadCacheMeta",value:function(s,n){var a=s.moov,o=It(a,this._config.segmentDuration),r=o.videoSegments,d=o.audioSegments;this.videoSegments=r,this.audioSegments=d,this._currentSegmentIndex=n,this.meta=s}},{key:"getSegmentByTime",value:function(s){var n,a;return this.videoSegments.length?(n=this.videoSegments.find(function(o){return o.startTime<=s&&o.endTime>s}),n&&(a=this.audioSegments[n.index])):a=this.audioSegments.find(function(o){return o.startTime<=s&&o.endTime>s}),{video:n,audio:a}}},{key:"loadSegmentByTime",value:function(){var e=me(B().mark(function n(a,o){var r,d,c,u,h,m=arguments;return B().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(r=m.length>2&&m[2]!==void 0?m[2]:!0,d=m.length>3&&m[3]!==void 0?m[3]:{},this.isMetaLoaded){y.next=5;break}return y.next=5,this.loadMeta(o);case 5:return c=this.getSegmentByTime(a),u=c.video,h=c.audio,y.abrupt("return",this._loadSegment(u,h,o,r,d));case 7:case"end":return y.stop()}},n,this)}));function s(n,a){return e.apply(this,arguments)}return s}()},{key:"loadNextSegment",value:function(){var e=me(B().mark(function n(a){var o,r,d,c,u=arguments;return B().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(o=u.length>1&&u[1]!==void 0?u[1]:!0,r=u.length>2&&u[2]!==void 0?u[2]:{},this.isMetaLoaded){m.next=5;break}return m.next=5,this.loadMeta();case 5:return d=this.videoSegments[this._currentSegmentIndex+1],c=this.audioSegments[this._currentSegmentIndex+1],m.abrupt("return",this._loadSegment(d,c,a,o,r));case 8:case"end":return m.stop()}},n,this)}));function s(n){return e.apply(this,arguments)}return s}()},{key:"preload",value:function(){var e=me(B().mark(function n(a){var o=this,r,d,c,u,h,m,p;return B().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(this.isMetaLoaded){g.next=3;break}return g.next=3,this.loadMeta(!0);case 3:if(!(!a||a<0)){g.next=5;break}return g.abrupt("return");case 5:if(r=this.getSegmentByTime(a),d=r.video,c=r.audio,u=Math.max(d?.index||0,c?.index||0),u){g.next=9;break}return g.abrupt("return");case 9:return h=this.videoSegments.slice(0,u),m=this.audioSegments.slice(0,u),p=function(){var V=me(B().mark(function L(v){return B().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!(v>u)){X.next=2;break}return X.abrupt("return");case 2:return X.next=4,o._loadSegment(h[v],m[v],!0,!1);case 4:return X.next=6,p(v+1);case 6:case"end":return X.stop()}},L)}));return function(v){return V.apply(this,arguments)}}(),g.next=14,p(0);case 14:case"end":return g.stop()}},n,this)}));function s(n){return e.apply(this,arguments)}return s}()},{key:"cancel",value:function(){return this._loader.cancel()}},{key:"reset",value:function(){var e=me(B().mark(function n(){var a,o=arguments;return B().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(a=o.length>0&&o[0]!==void 0?o[0]:!1,a){d.next=5;break}return this.logger.debug("[MP4loader reset func call loader.cancel]"),d.next=5,this._loader.cancel();case 5:this.vid=this.url="",this.meta={},this.downloadInfo=[],this.videoSegments=[],this.audioSegments=[],this._currentSegmentIndex=-1,this._currentLoadingSegmentIndex=-1;case 12:case"end":return d.stop()}},n,this)}));function s(){return e.apply(this,arguments)}return s}()},{key:"destroy",value:function(){var e=me(B().mark(function n(){return B().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.reset();case 2:this.cache.clear();case 3:case"end":return o.stop()}},n,this)}));function s(){return e.apply(this,arguments)}return s}()},{key:"_loadSegment",value:function(){var e=me(B().mark(function n(a,o,r,d,c){var u,h;return B().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!(!a&&!o)){p.next=2;break}return p.abrupt("return");case 2:return u=a?.index||o?.index||0,this._currentLoadingSegmentIndex=u,p.prev=4,p.next=7,this.loadData([Math.min(a?.range[0]||1/0,o?.range[0]||1/0),Math.max(a?.range[1]||0,o?.range[1]||0)],r,c);case 7:h=p.sent;case 8:return p.prev=8,this._currentLoadingSegmentIndex=-1,p.finish(8);case 11:if(h){p.next=13;break}return p.abrupt("return");case 13:return d&&(this._currentSegmentIndex=u),h.video=a,h.audio=o,p.abrupt("return",h);case 17:case"end":return p.stop()}},n,this,[[4,,8,11]])}));function s(n,a,o,r,d){return e.apply(this,arguments)}return s}()},{key:"loadData",value:function(){var e=me(B().mark(function n(a,o,r){var d,c,u,h;return B().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return d=this._getCacheKey(a),p.next=3,this.cache.get(d);case 3:if(c=p.sent,c){p.next=11;break}return h=r&&r.url?r.url:this.url,p.next=8,this._loader.load(h,Bt({range:a,vid:this.vid},r));case 8:u=p.sent,p.next=12;break;case 11:u={data:c,state:!0,options:{fromCache:!0,range:a,vid:this.vid}};case 12:if(u){p.next=14;break}return p.abrupt("return");case 14:return c||(u.data&&this.downloadInfo.push({startTime:u.startTime,endTime:u.endTime,size:u.data.byteLength,range:a}),this.downloadInfo&&this.downloadInfo.length>this._config.maxDownloadInfoSize&&(this.downloadInfo=this.downloadInfo.slice(-this._config.maxDownloadInfoSize))),p.abrupt("return",u);case 17:case"end":return p.stop()}},n,this)}));function s(n,a,o){return e.apply(this,arguments)}return s}()},{key:"_getCacheKey",value:function(s){return(this.vid||this.url)+":"+s}}]),l}(_t),Ms=sr(),er=et();lr();function tr(){try{return typeof localStorage<"u"&&"setItem"in window.localStorage&&!!window.localStorage.setItem}catch{return!1}}function ir(){var t="_localstorage_support_test";try{return window.localStorage.setItem(t,!0),window.localStorage.removeItem(t),!1}catch{return!0}}function et(){if(Ms)try{return!!window.localStorage.getItem("playerlog")}catch{return!1}return!1}function sr(){return tr()&&!ir()}function Ts(t){for(var i,l=arguments.length,e=new Array(l>1?l-1:0),s=1;s<l;s++)e[s-1]=arguments[s];er&&console.log&&(i=console).log.apply(i,["[logger]",ve.nowTime(),t].concat(e))}function lr(){if(Ms)try{return!!window.localStorage.getItem("playertestlog")}catch{return!1}return!1}var Rs="IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihhPWEuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLGEpfXJldHVybiByfWZ1bmN0aW9uIHQodCl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIGE9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/ZShPYmplY3QoYSksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kodCxlLGFbZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoYSkpOmUoT2JqZWN0KGEpKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxlKSl9KSl9cmV0dXJuIHR9ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGE9dFtyXTthLmVudW1lcmFibGU9YS5lbnVtZXJhYmxlfHwhMSxhLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gYSYmKGEud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGsoYS5rZXkpLGEpfX1mdW5jdGlvbiBuKGUsdCxyKXtyZXR1cm4gdCYmYShlLnByb3RvdHlwZSx0KSxyJiZhKGUsciksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksZX1mdW5jdGlvbiBpKGUsdCxyKXtyZXR1cm4odD1rKHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIHMoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksdCYmdShlLHQpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuKG89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuKHU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfSkoZSx0KX1mdW5jdGlvbiBjKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBsKGUsdCxyKXtyZXR1cm4obD1jKCk/UmVmbGVjdC5jb25zdHJ1Y3QuYmluZCgpOmZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1bbnVsbF07YS5wdXNoLmFwcGx5KGEsdCk7dmFyIG49bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkoZSxhKSk7cmV0dXJuIHImJnUobixyLnByb3RvdHlwZSksbn0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBmKGUsdCl7aWYodCYmKCJvYmplY3QiPT10eXBlb2YgdHx8ImZ1bmN0aW9uIj09dHlwZW9mIHQpKXJldHVybiB0O2lmKHZvaWQgMCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiBlfShlKX1mdW5jdGlvbiBkKGUpe3ZhciB0PWMoKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixhPW8oZSk7aWYodCl7dmFyIG49byh0aGlzKS5jb25zdHJ1Y3RvcjtyPVJlZmxlY3QuY29uc3RydWN0KGEsYXJndW1lbnRzLG4pfWVsc2Ugcj1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZih0aGlzLHIpfX1mdW5jdGlvbiBoKGUsdCl7Zm9yKDshT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkmJm51bGwhPT0oZT1vKGUpKTspO3JldHVybiBlfWZ1bmN0aW9uIHAoKXtyZXR1cm4gcD0idW5kZWZpbmVkIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0LmJpbmQoKTpmdW5jdGlvbihlLHQscil7dmFyIGE9aChlLHQpO2lmKGEpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSx0KTtyZXR1cm4gbi5nZXQ/bi5nZXQuY2FsbChhcmd1bWVudHMubGVuZ3RoPDM/ZTpyKTpuLnZhbHVlfX0scC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGwhPXIpe3ZhciBhLG4saSxzLG89W10sdT0hMCxjPSExO3RyeXtpZihpPShyPXIuY2FsbChlKSkubmV4dCwwPT09dCl7aWYoT2JqZWN0KHIpIT09cilyZXR1cm47dT0hMX1lbHNlIGZvcig7ISh1PShhPWkuY2FsbChyKSkuZG9uZSkmJihvLnB1c2goYS52YWx1ZSksby5sZW5ndGghPT10KTt1PSEwKTt9Y2F0Y2gobCl7Yz0hMCxuPWx9ZmluYWxseXt0cnl7aWYoIXUmJm51bGwhPXIucmV0dXJuJiYocz1yLnJldHVybigpLE9iamVjdChzKSE9PXMpKXJldHVybn1maW5hbGx5e2lmKGMpdGhyb3cgbn19cmV0dXJuIG99fShlLHQpfHxtKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB5KGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBnKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8bShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBtKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBnKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXJ8fCJTZXQiPT09cj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qocik/ZyhlLHQpOnZvaWQgMH19ZnVuY3Rpb24gZyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLGE9bmV3IEFycmF5KHQpO3I8dDtyKyspYVtyXT1lW3JdO3JldHVybiBhfWZ1bmN0aW9uIGsoZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0IiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVybiBlO3ZhciByPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgYT1yLmNhbGwoZSx0fHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT10eXBlb2YgYSlyZXR1cm4gYTt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT10eXBlb2YgdD90OlN0cmluZyh0KX12YXIgYj0idmlkZW8iLF89ImF1ZGlvIix3PSJtZXRhZGF0YSIseD0iYXYxIixTPSJhdmMiLEQ9ImhldmMiLEE9ImFhYyIsVD0iZzcxMTBhIixCPSJnNzExMG0iLEU9Im9wdXMiLFU9Im1wMyIsQz0iTEFSR0VfQVZfU0hJRlQiLFA9IkxBUkdFX1ZJREVPX0dBUCIsST0iTEFSR0VfVklERU9fR0FQX0JFVFdFRU5fQ0hVTksiLE09IkxBUkdFX0FVRElPX0dBUCIsej0iQVVESU9fRklMTEVEIixPPSJBVURJT19EUk9QUEVEIixSPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3IodGhpcyxlKSxpKHRoaXMsImlkIiwxKSxpKHRoaXMsInR5cGUiLGIpLGkodGhpcywiY29kZWNUeXBlIixTKSxpKHRoaXMsInBpZCIsLTEpLGkodGhpcywiaHZjQyIsdm9pZCAwKSxpKHRoaXMsImNvZGVjIiwiIiksaSh0aGlzLCJ0aW1lc2NhbGUiLDApLGkodGhpcywiZm9ybWF0VGltZXNjYWxlIiwwKSxpKHRoaXMsInNlcXVlbmNlTnVtYmVyIiwwKSxpKHRoaXMsImJhc2VNZWRpYURlY29kZVRpbWUiLDApLGkodGhpcywiYmFzZUR0cyIsMCksaSh0aGlzLCJkdXJhdGlvbiIsMCksaSh0aGlzLCJ3YXJuaW5ncyIsW10pLGkodGhpcywic2FtcGxlcyIsW10pLGkodGhpcywicHBzIixbXSksaSh0aGlzLCJzcHMiLFtdKSxpKHRoaXMsInZwcyIsW10pLGkodGhpcywiZnBzTnVtIiwwKSxpKHRoaXMsImZwc0RlbiIsMCksaSh0aGlzLCJzYXJSYXRpbyIsW10pLGkodGhpcywid2lkdGgiLDApLGkodGhpcywiaGVpZ2h0IiwwKSxpKHRoaXMsIm5hbFVuaXRTaXplIiw0KSxpKHRoaXMsInByZXNlbnQiLCExKSxpKHRoaXMsImlzVmlkZW9FbmNyeXB0aW9uIiwhMSksaSh0aGlzLCJpc0F1ZGlvRW5jcnlwdGlvbiIsITEpLGkodGhpcywiaXNWaWRlbyIsITApLGkodGhpcywibGFzdEtleUZyYW1lRHRzIiwwKSxpKHRoaXMsImtpZCIsbnVsbCksaSh0aGlzLCJwc3NoIixudWxsKSxpKHRoaXMsImV4dCIsdm9pZCAwKX1yZXR1cm4gbihlLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNlcXVlbmNlTnVtYmVyPXRoaXMud2lkdGg9dGhpcy5oZWlnaHQ9dGhpcy5mcHNEZW49dGhpcy5mcHNOdW09dGhpcy5kdXJhdGlvbj10aGlzLmJhc2VNZWRpYURlY29kZVRpbWU9dGhpcy50aW1lc2NhbGU9MCx0aGlzLmNvZGVjPSIiLHRoaXMucHJlc2VudD0hMSx0aGlzLnBpZD0tMSx0aGlzLnBwcz1bXSx0aGlzLnNwcz1bXSx0aGlzLnZwcz1bXSx0aGlzLnNhclJhdGlvPVtdLHRoaXMuc2FtcGxlcz1bXSx0aGlzLndhcm5pbmdzPVtdLHRoaXMuaHZjQz1udWxsfX0se2tleToiZmlyc3REdHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNhbXBsZXMubGVuZ3RoP3RoaXMuc2FtcGxlc1swXS5kdHM6bnVsbH19LHtrZXk6ImZpcnN0UHRzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW1wbGVzLmxlbmd0aD90aGlzLnNhbXBsZXNbMF0ucHRzOm51bGx9fSx7a2V5OiJzYW1wbGVzRHVyYXRpb24iLGdldDpmdW5jdGlvbigpe2lmKHRoaXMuc2FtcGxlcy5sZW5ndGg+MCl7dmFyIGU9dGhpcy5zYW1wbGVzWzBdLHQ9dGhpcy5zYW1wbGVzW3RoaXMuc2FtcGxlcy5sZW5ndGgtMV07cmV0dXJuIHQuZHRzLWUuZHRzK3QuZHVyYXRpb259cmV0dXJuIDB9fSx7a2V5OiJleGlzdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hIS9hdjAxLy50ZXN0KHRoaXMuY29kZWMpfHwhISh0aGlzLnBwcy5sZW5ndGgmJnRoaXMuc3BzLmxlbmd0aCYmdGhpcy5jb2RlYyl9fSx7a2V5OiJoYXNTYW1wbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLnNhbXBsZXMubGVuZ3RofX0se2tleToiaXNFbmNyeXB0aW9uIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1ZpZGVvRW5jcnlwdGlvbn19XSksZX0oKSxMPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3IodGhpcyxlKSxpKHRoaXMsImlkIiwyKSxpKHRoaXMsInR5cGUiLF8pLGkodGhpcywiY29kZWNUeXBlIixBKSxpKHRoaXMsInBpZCIsLTEpLGkodGhpcywiY29kZWMiLCIiKSxpKHRoaXMsImNvbnRhaW5lciIsIiIpLGkodGhpcywic2VxdWVuY2VOdW1iZXIiLDApLGkodGhpcywic2FtcGxlRHVyYXRpb24iLDApLGkodGhpcywidGltZXNjYWxlIiwwKSxpKHRoaXMsImZvcm1hdFRpbWVzY2FsZSIsMCksaSh0aGlzLCJiYXNlTWVkaWFEZWNvZGVUaW1lIiwwKSxpKHRoaXMsImR1cmF0aW9uIiwwKSxpKHRoaXMsIndhcm5pbmdzIixbXSksaSh0aGlzLCJzYW1wbGVzIixbXSksaSh0aGlzLCJiYXNlRHRzIiwwKSxpKHRoaXMsInNhbXBsZVNpemUiLDE2KSxpKHRoaXMsInNhbXBsZVJhdGUiLDApLGkodGhpcywiY2hhbm5lbENvdW50IiwwKSxpKHRoaXMsIm9iamVjdFR5cGUiLDApLGkodGhpcywic2FtcGxlUmF0ZUluZGV4IiwwKSxpKHRoaXMsImNvbmZpZyIsW10pLGkodGhpcywicHJlc2VudCIsITEpLGkodGhpcywiaXNWaWRlb0VuY3J5cHRpb24iLCExKSxpKHRoaXMsImlzQXVkaW9FbmNyeXB0aW9uIiwhMSksaSh0aGlzLCJraWQiLG51bGwpLGkodGhpcywiZXh0Iix2b2lkIDApfXJldHVybiBuKGUsW3trZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VxdWVuY2VOdW1iZXI9MCx0aGlzLnRpbWVzY2FsZT0wLHRoaXMuc2FtcGxlRHVyYXRpb249MCx0aGlzLnNhbXBsZVJhdGU9MCx0aGlzLmNoYW5uZWxDb3VudD0wLHRoaXMuYmFzZU1lZGlhRGVjb2RlVGltZT0wLHRoaXMucHJlc2VudD0hMSx0aGlzLnBpZD0tMSx0aGlzLmNvZGVjPSIiLHRoaXMuc2FtcGxlcz1bXSx0aGlzLmNvbmZpZz1bXSx0aGlzLndhcm5pbmdzPVtdfX0se2tleToiZXhpc3QiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuISghdGhpcy5zYW1wbGVSYXRlfHwhdGhpcy5jaGFubmVsQ291bnR8fCF0aGlzLmNvZGVjJiYhdGhpcy5jb250YWluZXJ8fHRoaXMuY29kZWNUeXBlIT09QSYmdGhpcy5jb2RlY1R5cGUhPT1UJiZ0aGlzLmNvZGVjVHlwZSE9PUImJnRoaXMuY29kZWNUeXBlIT09RSYmdGhpcy5jb2RlY1R5cGUhPT1VKX19LHtrZXk6Imhhc1NhbXBsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuc2FtcGxlcy5sZW5ndGh9fSx7a2V5OiJpc0VuY3J5cHRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQXVkaW9FbmNyeXB0aW9ufX0se2tleToiZmlyc3REdHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNhbXBsZXMubGVuZ3RoP3RoaXMuc2FtcGxlc1swXS5kdHM6bnVsbH19LHtrZXk6ImZpcnN0UHRzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW1wbGVzLmxlbmd0aD90aGlzLnNhbXBsZXNbMF0ucHRzOm51bGx9fSx7a2V5OiJzYW1wbGVzRHVyYXRpb24iLGdldDpmdW5jdGlvbigpe2lmKHRoaXMuc2FtcGxlcy5sZW5ndGg+MCl7dmFyIGU9dGhpcy5zYW1wbGVzWzBdLHQ9dGhpcy5zYW1wbGVzW3RoaXMuc2FtcGxlcy5sZW5ndGgtMV07cmV0dXJuIHQuZHRzLWUuZHRzK3QuZHVyYXRpb259cmV0dXJuIDB9fV0pLGV9KCksVj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxhLG4pe3IodGhpcyxlKSxpKHRoaXMsImZsYWciLHt9KSxpKHRoaXMsImtleWZyYW1lIiwhMSksaSh0aGlzLCJnb3BJZCIsMCksaSh0aGlzLCJkdXJhdGlvbiIsMCksaSh0aGlzLCJzaXplIiwwKSxpKHRoaXMsInVuaXRzIixbXSksaSh0aGlzLCJjaHJvbWFGb3JtYXQiLDQyMCksdGhpcy5vcmlnaW5QdHM9dGhpcy5wdHM9dCx0aGlzLm9yaWdpbkR0cz10aGlzLmR0cz1hLG4mJih0aGlzLnVuaXRzPW4pfXJldHVybiBuKGUsW3trZXk6ImN0cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHRzLXRoaXMuZHRzfX0se2tleToic2V0VG9LZXlmcmFtZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmtleWZyYW1lPSEwLHRoaXMuZmxhZy5kZXBlbmRzT249Mix0aGlzLmZsYWcuaXNOb25TeW5jU2FtcGxlPTB9fV0pLGV9KCksRj1uKChmdW5jdGlvbiBlKHQsYSxuLHMpe3IodGhpcyxlKSxpKHRoaXMsImR1cmF0aW9uIiwxMDI0KSxpKHRoaXMsImZsYWciLHtkZXBlbmRzT246Mixpc05vblN5bmNTYW1wbGU6MH0pLGkodGhpcywia2V5ZnJhbWUiLCEwKSx0aGlzLm9yaWdpblB0cz10aGlzLnB0cz10aGlzLmR0cz10LHRoaXMuZGF0YT1hLHRoaXMuc2l6ZT1hLmJ5dGVMZW5ndGgsdGhpcy5zYW1wbGVPZmZzZXQ9cyxuJiYodGhpcy5kdXJhdGlvbj1uKX0pKSxOPW4oKGZ1bmN0aW9uIGUodCxhKXtyKHRoaXMsZSksaSh0aGlzLCJ0aW1lIiwwKSx0aGlzLmRhdGE9dCx0aGlzLm9yaWdpblB0cz10aGlzLnB0cz1hfSkpLGo9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYSgpe3JldHVybiByKHRoaXMsYSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG4oYSl9KE4pLEc9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYSgpe3JldHVybiByKHRoaXMsYSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG4oYSl9KE4pLEg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cih0aGlzLGUpLGkodGhpcywiaWQiLDMpLGkodGhpcywidHlwZSIsdyksaSh0aGlzLCJ0aW1lc2NhbGUiLDApLGkodGhpcywiZmx2U2NyaXB0U2FtcGxlcyIsW10pLGkodGhpcywic2VpU2FtcGxlcyIsW10pfXJldHVybiBuKGUsW3trZXk6ImV4aXN0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiEoIXRoaXMuZmx2U2NyaXB0U2FtcGxlcy5sZW5ndGgmJiF0aGlzLnNlaVNhbXBsZXMubGVuZ3RofHwhdGhpcy50aW1lc2NhbGUpfX0se2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50aW1lc2NhbGU9MCx0aGlzLmZsdlNjcmlwdFNhbXBsZXM9W10sdGhpcy5zZWlTYW1wbGVzPVtdfX0se2tleToiaGFzU2FtcGxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiEoIXRoaXMuZmx2U2NyaXB0U2FtcGxlcy5sZW5ndGgmJiF0aGlzLnNlaVNhbXBsZXMubGVuZ3RoKX19XSksZX0oKSxLPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpZihyKHRoaXMsZSksaSh0aGlzLCJfYnl0ZXNBdmFpbGFibGUiLHZvaWQgMCksaSh0aGlzLCJfYml0c0F2YWlsYWJsZSIsMCksaSh0aGlzLCJfd29yZCIsMCksIXQpdGhyb3cgbmV3IEVycm9yKCJFeHBHb2xvbWIgZGF0YSBwYXJhbXMgaXMgcmVxdWlyZWQiKTt0aGlzLl9kYXRhPXQsdGhpcy5fYnl0ZXNBdmFpbGFibGU9dC5ieXRlTGVuZ3RoLHRoaXMuX2J5dGVzQXZhaWxhYmxlJiZ0aGlzLl9sb2FkV29yZCgpfXJldHVybiBuKGUsW3trZXk6ImJpdHNBdmFpbGFibGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9iaXRzQXZhaWxhYmxlfX0se2tleToiX2xvYWRXb3JkIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2RhdGEuYnl0ZUxlbmd0aC10aGlzLl9ieXRlc0F2YWlsYWJsZSx0PU1hdGgubWluKDQsdGhpcy5fYnl0ZXNBdmFpbGFibGUpO2lmKDA9PT10KXRocm93IG5ldyBFcnJvcigiTm8gYnl0ZXMgYXZhaWxhYmxlIik7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoNCk7ci5zZXQodGhpcy5fZGF0YS5zdWJhcnJheShlLGUrdCkpLHRoaXMuX3dvcmQ9bmV3IERhdGFWaWV3KHIuYnVmZmVyKS5nZXRVaW50MzIoMCksdGhpcy5fYml0c0F2YWlsYWJsZT04KnQsdGhpcy5fYnl0ZXNBdmFpbGFibGUtPXR9fSx7a2V5OiJza2lwQml0cyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5fYml0c0F2YWlsYWJsZT5lKXRoaXMuX3dvcmQ8PD1lLHRoaXMuX2JpdHNBdmFpbGFibGUtPWU7ZWxzZXtlLT10aGlzLl9iaXRzQXZhaWxhYmxlO3ZhciB0PU1hdGguZmxvb3IoZS84KTtlLT04KnQsdGhpcy5fYnl0ZXNBdmFpbGFibGUtPXQsdGhpcy5fbG9hZFdvcmQoKSx0aGlzLl93b3JkPDw9ZSx0aGlzLl9iaXRzQXZhaWxhYmxlLT1lfX19LHtrZXk6InJlYWRCaXRzIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlPjMyKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHJlYWQgbW9yZSB0aGFuIDMyIGJpdHMiKTt2YXIgdD1NYXRoLm1pbih0aGlzLl9iaXRzQXZhaWxhYmxlLGUpLHI9dGhpcy5fd29yZD4+PjMyLXQ7cmV0dXJuIHRoaXMuX2JpdHNBdmFpbGFibGUtPXQsdGhpcy5fYml0c0F2YWlsYWJsZT4wP3RoaXMuX3dvcmQ8PD10OnRoaXMuX2J5dGVzQXZhaWxhYmxlPjAmJnRoaXMuX2xvYWRXb3JkKCksKHQ9ZS10KT4wJiZ0aGlzLl9iaXRzQXZhaWxhYmxlP3I8PHR8dGhpcy5yZWFkQml0cyh0KTpyfX0se2tleToic2tpcExaIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlO2ZvcihlPTA7ZTx0aGlzLl9iaXRzQXZhaWxhYmxlOysrZSlpZigwIT0odGhpcy5fd29yZCYyMTQ3NDgzNjQ4Pj4+ZSkpcmV0dXJuIHRoaXMuX3dvcmQ8PD1lLHRoaXMuX2JpdHNBdmFpbGFibGUtPWUsZTtyZXR1cm4gdGhpcy5fbG9hZFdvcmQoKSxlK3RoaXMuc2tpcExaKCl9fSx7a2V5OiJza2lwVUVHIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2tpcEJpdHMoMSt0aGlzLnNraXBMWigpKX19LHtrZXk6InJlYWRVRUciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5za2lwTFooKTtyZXR1cm4gdGhpcy5yZWFkQml0cyhlKzEpLTF9fSx7a2V5OiJyZWFkRUciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkVUVHKCk7cmV0dXJuIDEmZT8xK2U+Pj4xOi0xKihlPj4+MSl9fSx7a2V5OiJyZWFkQm9vbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMucmVhZEJpdHMoMSl9fSx7a2V5OiJyZWFkVUJ5dGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZEJpdHMoOCl9fSx7a2V5OiJza2lwU2NhbGluZ0xpc3QiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD04LHI9OCxhPTA7YTxlO2ErKykwIT09ciYmKHI9KHQrdGhpcy5yZWFkRUcoKSsyNTYpJTI1NiksdD0wPT09cj90OnJ9fV0pLGV9KCkscT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cih0aGlzLGUpLHRoaXMubmFtZT10fHwiIix0aGlzLl9wcmVmaXg9IlsiLmNvbmNhdCh0aGlzLm5hbWUsIl0iKX1yZXR1cm4gbihlLFt7a2V5OiJ3YXJuIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2lmKCFlLmRpc2FibGVkKXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShyKSxuPTA7bjxyO24rKylhW25dPWFyZ3VtZW50c1tuXTsodD1jb25zb2xlKS53YXJuLmFwcGx5KHQsW3RoaXMuX3ByZWZpeF0uY29uY2F0KGEpKX19fV0sW3trZXk6ImVuYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtlLmRpc2FibGVkPSExfX0se2tleToiZGlzYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtlLmRpc2FibGVkPSEwfX1dKSxlfSgpO2kocSwiZGlzYWJsZWQiLCEwKTt2YXIgVz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyKHRoaXMsZSl9cmV0dXJuIG4oZSxudWxsLFt7a2V5OiJkZWNvZGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bXSxhPXQsbj0wLGk9dC5sZW5ndGg7bjxpOylpZihhW25dPDEyOClyLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShhW25dKSksKytuO2Vsc2V7aWYoYVtuXTwxOTIpO2Vsc2UgaWYoYVtuXTwyMjQpe2lmKGUuX2NoZWNrQ29udGludWF0aW9uKGEsbiwxKSl7dmFyIHM9KDMxJmFbbl0pPDw2fDYzJmFbbisxXTtpZihzPj0xMjgpe3IucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDY1NTM1JnMpKSxuKz0yO2NvbnRpbnVlfX19ZWxzZSBpZihhW25dPDI0MCl7aWYoZS5fY2hlY2tDb250aW51YXRpb24oYSxuLDIpKXt2YXIgbz0oMTUmYVtuXSk8PDEyfCg2MyZhW24rMV0pPDw2fDYzJmFbbisyXTtpZihvPj0yMDQ4JiY1NTI5NiE9KDYzNDg4Jm8pKXtyLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSg2NTUzNSZvKSksbis9Mztjb250aW51ZX19fWVsc2UgaWYoYVtuXTwyNDgmJmUuX2NoZWNrQ29udGludWF0aW9uKGEsbiwzKSl7dmFyIHU9KDcmYVtuXSk8PDE4fCg2MyZhW24rMV0pPDwxMnwoNjMmYVtuKzJdKTw8Nnw2MyZhW24rM107aWYodT42NTUzNiYmdTwxMTE0MTEyKXt1LT02NTUzNixyLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh1Pj4+MTB8NTUyOTYpKSxyLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgxMDIzJnV8NTYzMjApKSxuKz00O2NvbnRpbnVlfX1yLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSg2NTUzMykpLCsrbn1yZXR1cm4gci5qb2luKCIiKX19LHtrZXk6Il9jaGVja0NvbnRpbnVhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPWU7aWYodCtyPGEubGVuZ3RoKXtmb3IoO3ItLTspaWYoMTI4IT0oMTkyJmFbKyt0XSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9fV0pLGV9KCksWD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyxZPVgmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb2NhbGVMb3dlckNhc2UoKSxaPVgmJi9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS8udGVzdChZKSxRPVgmJlkuaW5jbHVkZXMoImZpcmVmb3giKSxKPVgmJlkuaW5jbHVkZXMoImFuZHJvaWQiKTtmdW5jdGlvbiAkKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspdFtyXT1hcmd1bWVudHNbcl07dD10LmZpbHRlcihCb29sZWFuKTt2YXIgYT1uZXcgVWludDhBcnJheSh0LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0LmJ5dGVMZW5ndGh9KSwwKSksbj0wO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2Euc2V0KGUsbiksbis9ZS5ieXRlTGVuZ3RofSkpLGF9dmFyIGVlPU1hdGgucG93KDIsMzIpO2Z1bmN0aW9uIHRlKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybihlW3RdPDw4KSsoZVt0KzFdfHwwKX1mdW5jdGlvbiByZShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtyZXR1cm4oZVt0XTw8MjQ+Pj4wKSsoZVt0KzFdPDwxNikrKGVbdCsyXTw8OCkrKGVbdCszXXx8MCl9ZnVuY3Rpb24gYWUoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjA7cmV0dXJuIHJlKGUsdCkqZWUrcmUoZSx0KzQpfWZ1bmN0aW9uIG5lKGUpe2Zvcih2YXIgdCxyPSJhdmMxLiIsYT0wO2E8MzthKyspKHQ9ZVthXS50b1N0cmluZygxNikpLmxlbmd0aDwyJiYodD0iMCIuY29uY2F0KHQpKSxyKz10O3JldHVybiByfWZ1bmN0aW9uIGllKGUpe3ZhciB0PSIiO2lmKGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dCs9ZnVuY3Rpb24oZSl7cmV0dXJuKCIwIitOdW1iZXIoZSkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikudG9VcHBlckNhc2UoKX0oZSl9KSksdC5sZW5ndGg8PTMyKWZvcih2YXIgcj0zMi10Lmxlbmd0aCxhPTA7YTxyO2ErKyl0Kz0iMCI7cmV0dXJuIHR9ZnVuY3Rpb24gc2UoZSl7aWYoIUFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD1bXSxyPSIiLGE9MDthPGUubGVuZ3RoO2ErKylhJTImJihyPWVbYS0xXStlW2FdLHQucHVzaChwYXJzZUludChyLDE2KSkscj0iIik7cmV0dXJuIHR9cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxNil9KSl9ZnVuY3Rpb24gb2UoZSx0KXtyZXR1cm4gTnVtYmVyKGUrIi4iK3QpfXZhciB1ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyKHRoaXMsZSl9cmV0dXJuIG4oZSxudWxsLFt7a2V5OiJnZXRSYXRlSW5kZXhCeVJhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLkZSRVEuaW5kZXhPZih0KX19LHtrZXk6InBhcnNlQURUUyIsdmFsdWU6ZnVuY3Rpb24odCxyKXtmb3IodmFyIGE9dC5sZW5ndGgsbj0wO24rMjxhJiYoMjU1IT09dFtuXXx8MjQwIT0oMjQ2JnRbbisxXSkpOyluKys7aWYoIShuPj1hKSl7dmFyIGk9bixzPVtdLG89KDYwJnRbbisyXSk+Pj4yLHU9ZS5GUkVRW29dO2lmKCF1KXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzYW1wbGluZyBpbmRleDogIi5jb25jYXQobykpO2Zvcih2YXIgYyxsLGY9MSsoKDE5MiZ0W24rMl0pPj4+NiksZD0oMSZ0W24rMl0pPDwyfCgxOTImdFtuKzNdKT4+PjYsaD1lLl9nZXRDb25maWcobyxkLGYpLHA9aC5jb25maWcsdj1oLmNvZGVjLHk9MCxtPWUuZ2V0RnJhbWVEdXJhdGlvbih1KTtuKzc8YTspaWYoMjU1PT09dFtuXSYmMjQwPT0oMjQ2JnRbbisxXSkpe2lmKCEobD0oMyZ0W24rM10pPDwxMXx0W24rNF08PDN8KDIyNCZ0W24rNV0pPj41KXx8YS1uPGwpYnJlYWs7Yz0yKigxJn50W24rMV0pLHMucHVzaCh7cHRzOnIreSptLGRhdGE6dC5zdWJhcnJheShuKzcrYyxuK2wpfSkseSsrLG4rPWx9ZWxzZSBuKys7cmV0dXJue3NraXA6aSxyZW1haW5pbmc6bj49YT92b2lkIDA6dC5zdWJhcnJheShuKSxmcmFtZXM6cyxzYW1wbGluZ0ZyZXF1ZW5jeUluZGV4Om8sc2FtcGxlUmF0ZTp1LG9iamVjdFR5cGU6ZixjaGFubmVsQ291bnQ6ZCxjb2RlYzp2LGNvbmZpZzpwLG9yaWdpbkNvZGVjOiJtcDRhLjQwLiIuY29uY2F0KGYpfX19fSx7a2V5OiJwYXJzZUF1ZGlvU3BlY2lmaWNDb25maWciLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQubGVuZ3RoKXt2YXIgcj10WzBdPj4+MyxhPSg3JnRbMF0pPDwxfHRbMV0+Pj43LG49KDEyMCZ0WzFdKT4+PjMsaT1lLkZSRVFbYV07aWYoaSl7dmFyIHM9ZS5fZ2V0Q29uZmlnKGEsbixyKTtyZXR1cm57c2FtcGxpbmdGcmVxdWVuY3lJbmRleDphLHNhbXBsZVJhdGU6aSxvYmplY3RUeXBlOnIsY2hhbm5lbENvdW50Om4sY29uZmlnOnMuY29uZmlnLGNvZGVjOnMuY29kZWMsb3JpZ2luQ29kZWM6Im1wNGEuNDAuIi5jb25jYXQocil9fX19fSx7a2V5OiJnZXRGcmFtZUR1cmF0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06OWU0O3JldHVybiAxMDI0KnQvZX19LHtrZXk6Il9nZXRDb25maWciLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgYSxuLGk9W107cmV0dXJuIFE/ZT49Nj8oYT01LG49ZS0zKTooYT0yLG49ZSk6Sj8oYT0yLG49ZSk6KGE9NSxuPWUsZT49Nj9uPWUtMzoxPT09dCYmKGE9MixuPWUpKSxpWzBdPWE8PDMsaVswXXw9KDE0JmUpPj4xLGlbMV09KDEmZSk8PDcsaVsxXXw9dDw8Myw1PT09YSYmKGlbMV18PSgxNCZuKT4+MSxpWzJdPSgxJm4pPDw3LGlbMl18PTgsaVszXT0wKSx7Y29uZmlnOmksY29kZWM6Im1wNGEuNDAuIi5jb25jYXQoYSl9fX0se2tleToiZ2V0U2lsZW50RnJhbWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIm1wNGEuNDAuMiI9PT1lKXtpZigxPT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzAsMjAwLDAsMTI4LDM1LDEyOF0pO2lmKDI9PT10KXJldHVybiBuZXcgVWludDhBcnJheShbMzMsMCw3MywxNDQsMiwyNSwwLDM1LDEyOF0pO2lmKDM9PT10KXJldHVybiBuZXcgVWludDhBcnJheShbMCwyMDAsMCwxMjgsMzIsMTMyLDEsMzgsNjQsOCwxMDAsMCwxNDJdKTtpZig0PT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzAsMjAwLDAsMTI4LDMyLDEzMiwxLDM4LDY0LDgsMTAwLDAsMTI4LDQ0LDEyOCw4LDIsNTZdKTtpZig1PT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzAsMjAwLDAsMTI4LDMyLDEzMiwxLDM4LDY0LDgsMTAwLDAsMTMwLDQ4LDQsMTUzLDAsMzMsMTQ0LDIsNTZdKTtpZig2PT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzAsMjAwLDAsMTI4LDMyLDEzMiwxLDM4LDY0LDgsMTAwLDAsMTMwLDQ4LDQsMTUzLDAsMzMsMTQ0LDIsMCwxNzgsMCwzMiw4LDIyNF0pfWVsc2V7aWYoMT09PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KFsxLDY0LDM0LDEyOCwxNjMsNzgsMjMwLDEyOCwxODYsOCwwLDAsMCwyOCw2LDI0MSwxOTMsMTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTRdKTtpZigyPT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzEsNjQsMzQsMTI4LDE2Myw5NCwyMzAsMTI4LDE4Niw4LDAsMCwwLDAsMTQ5LDAsNiwyNDEsMTYxLDEwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDk0XSk7aWYoMz09PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KFsxLDY0LDM0LDEyOCwxNjMsOTQsMjMwLDEyOCwxODYsOCwwLDAsMCwwLDE0OSwwLDYsMjQxLDE2MSwxMCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5NF0pfX19XSksZX0oKTtpKHVlLCJGUkVRIixbOTZlMyw4ODIwMCw2NGUzLDQ4ZTMsNDQxMDAsMzJlMywyNGUzLDIyMDUwLDE2ZTMsMTJlMywxMTAyNSw4ZTMsNzM1MF0pO3ZhciBjZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyKHRoaXMsZSl9cmV0dXJuIG4oZSxudWxsLFt7a2V5OiJwYXJzZUFubmV4QiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ieXRlTGVuZ3RoLTEscj0wO2Rve2lmKDAhPT1lW3RdKWJyZWFrO3IrKyx0LS19d2hpbGUodD4wKTtyPj0zJiYoZT1lLnN1YmFycmF5KDAsdCsxKSk7Zm9yKHZhciBhPWUubGVuZ3RoLG49MixpPTA7bnVsbCE9PWVbbl0mJnZvaWQgMCE9PWVbbl0mJjEhPT1lW25dOyluKys7aWYoKGk9KytuKzIpPj1hKXJldHVybltdO2Zvcih2YXIgcz1bXTtpPGE7KXN3aXRjaChlW2ldKXtjYXNlIDA6aWYoMCE9PWVbaS0xXSl7aSs9MjticmVha31pZigwIT09ZVtpLTJdKXtpKys7YnJlYWt9aWYoaTxhLTEmJjEhPT1lW2krMV0pe2krKzticmVha31uIT09aS0yJiZzLnB1c2goZS5zdWJhcnJheShuLGktMikpO2Rve2krK313aGlsZSgxIT09ZVtpXSYmaTxhKTtpPShuPWkrMSkrMjticmVhaztjYXNlIDE6aWYoMCE9PWVbaS0xXXx8MCE9PWVbaS0yXSl7aSs9MzticmVha31uIT09aS0yJiZzLnB1c2goZS5zdWJhcnJheShuLGktMikpLGk9KG49aSsxKSsyO2JyZWFrO2RlZmF1bHQ6aSs9M31yZXR1cm4gbjxhJiZzLnB1c2goZS5zdWJhcnJheShuKSksc319LHtrZXk6InBhcnNlQXZjQyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjQ7aWYoIShlLmxlbmd0aDw0KSl7Zm9yKHZhciByLGE9ZS5sZW5ndGgsbj1bXSxpPTA7aSt0PGE7KWlmKHI9cmUoZSxpKSwzPT09dCYmKHI+Pj49OCksaSs9dCxyKXtpZihpK3I+YSlicmVhaztuLnB1c2goZS5zdWJhcnJheShpLGkrcikpLGkrPXJ9cmV0dXJuIG59fX0se2tleToicGFyc2VTRUkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUubGVuZ3RoLGE9dD8yOjEsbj0wLGk9MCxzPSIiOzI1NT09PWVbYV07KW4rPTI1NSxhKys7Zm9yKG4rPWVbYSsrXTsyNTU9PT1lW2FdOylpKz0yNTUsYSsrO2lmKGkrPWVbYSsrXSw1PT09biYmcj5hKzE2KWZvcih2YXIgbz0wO288MTY7bysrKXMrPWVbYV0udG9TdHJpbmcoMTYpLGErKztyZXR1cm57cGF5bG9hZDplLnN1YmFycmF5KGEsYStpKSx0eXBlOm4sc2l6ZTppLHV1aWQ6c319fSx7a2V5OiJyZW1vdmVFUEIiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmJ5dGVMZW5ndGgscj1bXSxhPTE7YTx0LTI7KTA9PT1lW2FdJiYwPT09ZVthKzFdJiYzPT09ZVthKzJdPyhyLnB1c2goYSsyKSxhKz0yKTphKys7aWYoIXIubGVuZ3RoKXJldHVybiBlO3ZhciBuPXQtci5sZW5ndGgsaT1uZXcgVWludDhBcnJheShuKSxzPTA7Zm9yKGE9MDthPG47cysrLGErKylzPT09clswXSYmKHMrKyxyLnNoaWZ0KCkpLGlbYV09ZVtzXTtyZXR1cm4gaX19XSksZX0oKSxsZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyKHRoaXMsZSl9cmV0dXJuIG4oZSxudWxsLFt7a2V5OiJwYXJzZUFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkIix2YWx1ZTpmdW5jdGlvbih0KXtpZighKHQubGVuZ3RoPDcpKXtmb3IodmFyIHIsYSxuPTErKDMmdFs0XSksaT1bXSxzPVtdLG89Nix1PTMxJnRbNV0sYz0wO2M8dTtjKyspaWYoYT10W29dPDw4fHRbbysxXSxvKz0yLGEpe3ZhciBsPXQuc3ViYXJyYXkobyxvK2EpO28rPWEsaS5wdXNoKGwpLHJ8fChyPWUucGFyc2VTUFMoY2UucmVtb3ZlRVBCKGwpKSl9dmFyIGYsZD10W29dO28rKztmb3IodmFyIGg9MDtoPGQ7aCsrKWY9dFtvXTw8OHx0W28rMV0sbys9MixmJiYocy5wdXNoKHQuc3ViYXJyYXkobyxvK2YpKSxvKz1mKTtyZXR1cm57c3BzOnIsc3BzQXJyOmkscHBzQXJyOnMsbmFsVW5pdFNpemU6bn19fX0se2tleToicGFyc2VTUFMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBLKGUpO3QucmVhZFVCeXRlKCk7dmFyIHI9dC5yZWFkVUJ5dGUoKSxhPXQucmVhZFVCeXRlKCksbj10LnJlYWRVQnl0ZSgpO3Quc2tpcFVFRygpO3ZhciBpPTQyMDtpZigxMDA9PT1yfHwxMTA9PT1yfHwxMjI9PT1yfHwyNDQ9PT1yfHw0ND09PXJ8fDgzPT09cnx8ODY9PT1yfHwxMTg9PT1yfHwxMjg9PT1yfHwxMzg9PT1yfHwxNDQ9PT1yKXt2YXIgcz10LnJlYWRVRUcoKTtpZihzPD0zJiYoaT1bMCw0MjAsNDIyLDQ0NF1bc10pLDM9PT1zJiZ0LnNraXBCaXRzKDEpLHQuc2tpcFVFRygpLHQuc2tpcFVFRygpLHQuc2tpcEJpdHMoMSksdC5yZWFkQm9vbCgpKWZvcih2YXIgbz0zIT09cz84OjEyLHU9MDt1PG87dSsrKXQucmVhZEJvb2woKSYmKHU8Nj90LnNraXBTY2FsaW5nTGlzdCgxNik6dC5za2lwU2NhbGluZ0xpc3QoNjQpKX10LnNraXBVRUcoKTt2YXIgYz10LnJlYWRVRUcoKTtpZigwPT09Yyl0LnJlYWRVRUcoKTtlbHNlIGlmKDE9PT1jKXt0LnNraXBCaXRzKDEpLHQuc2tpcFVFRygpLHQuc2tpcFVFRygpO2Zvcih2YXIgbD10LnJlYWRVRUcoKSxmPTA7ZjxsO2YrKyl0LnNraXBVRUcoKX10LnNraXBVRUcoKSx0LnNraXBCaXRzKDEpO3ZhciBkPXQucmVhZFVFRygpLGg9dC5yZWFkVUVHKCkscD10LnJlYWRCaXRzKDEpOzA9PT1wJiZ0LnNraXBCaXRzKDEpLHQuc2tpcEJpdHMoMSk7dmFyIHYseSxtLGcsayxiPTAsXz0wLHc9MCx4PTA7aWYodC5yZWFkQm9vbCgpJiYoYj10LnJlYWRVRUcoKSxfPXQucmVhZFVFRygpLHc9dC5yZWFkVUVHKCkseD10LnJlYWRVRUcoKSksdC5yZWFkQm9vbCgpKXtpZih0LnJlYWRCb29sKCkpc3dpdGNoKHQucmVhZFVCeXRlKCkpe2Nhc2UgMTp2PVsxLDFdO2JyZWFrO2Nhc2UgMjp2PVsxMiwxMV07YnJlYWs7Y2FzZSAzOnY9WzEwLDExXTticmVhaztjYXNlIDQ6dj1bMTYsMTFdO2JyZWFrO2Nhc2UgNTp2PVs0MCwzM107YnJlYWs7Y2FzZSA2OnY9WzI0LDExXTticmVhaztjYXNlIDc6dj1bMjAsMTFdO2JyZWFrO2Nhc2UgODp2PVszMiwxMV07YnJlYWs7Y2FzZSA5OnY9WzgwLDMzXTticmVhaztjYXNlIDEwOnY9WzE4LDExXTticmVhaztjYXNlIDExOnY9WzE1LDExXTticmVhaztjYXNlIDEyOnY9WzY0LDMzXTticmVhaztjYXNlIDEzOnY9WzE2MCw5OV07YnJlYWs7Y2FzZSAxNDp2PVs0LDNdO2JyZWFrO2Nhc2UgMTU6dj1bMywyXTticmVhaztjYXNlIDE2OnY9WzIsMV07YnJlYWs7Y2FzZSAyNTU6dj1bdC5yZWFkVUJ5dGUoKTw8OHx0LnJlYWRVQnl0ZSgpLHQucmVhZFVCeXRlKCk8PDh8dC5yZWFkVUJ5dGUoKV19aWYodC5yZWFkQm9vbCgpJiZ0LnJlYWRCb29sKCksdC5yZWFkQm9vbCgpJiYodC5yZWFkQml0cyg0KSx0LnJlYWRCb29sKCkmJnQucmVhZEJpdHMoMjQpKSx0LnJlYWRCb29sKCkmJih0LnJlYWRVRUcoKSx0LnJlYWRVRUcoKSksdC5yZWFkQm9vbCgpKXt2YXIgUz10LnJlYWRCaXRzKDMyKSxEPXQucmVhZEJpdHMoMzIpO3k9dC5yZWFkQm9vbCgpLGs9KG09RCkvKGc9MipTKX19cmV0dXJue2NvZGVjOm5lKGUuc3ViYXJyYXkoMSw0KSkscHJvZmlsZUlkYzpyLHByb2ZpbGVDb21wYXRpYmlsaXR5OmEsbGV2ZWxJZGM6bixjaHJvbWFGb3JtYXQ6aSx3aWR0aDpNYXRoLmNlaWwoMTYqKGQrMSktMiooYitfKSksaGVpZ2h0OigyLXApKihoKzEpKjE2LShwPzI6NCkqKHcreCksc2FyUmF0aW86dixmcHNOdW06bSxmcHNEZW46ZyxmcHM6ayxmaXhlZEZyYW1lOnl9fX1dKSxlfSgpLGZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3IodGhpcyxlKX1yZXR1cm4gbihlLG51bGwsW3trZXk6InBhcnNlSEVWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYoISh0Lmxlbmd0aDwyMykpe3I9cnx8e307Zm9yKHZhciBhLG4saSxzLG8sdT0xKygzJnRbMjFdKSxjPVtdLGw9W10sZj1bXSxkPTIzLGg9dFsyMl0scD0wO3A8aDtwKyspe2k9NjMmdFtkXSxzPXRbZCsxXTw8OHx0W2QrMl0sZCs9Mztmb3IodmFyIHY9MDt2PHM7disrKWlmKG89dFtkXTw8OHx0W2QrMV0sZCs9MixvKXtzd2l0Y2goaSl7Y2FzZSAzMjp2YXIgeT10LnN1YmFycmF5KGQsZCtvKTthfHwoYT1lLnBhcnNlVlBTKGNlLnJlbW92ZUVQQih5KSxyKSksZi5wdXNoKHkpO2JyZWFrO2Nhc2UgMzM6dmFyIG09dC5zdWJhcnJheShkLGQrbyk7bnx8KG49ZS5wYXJzZVNQUyhjZS5yZW1vdmVFUEIobSkscikpLGMucHVzaChtKTticmVhaztjYXNlIDM0OmwucHVzaCh0LnN1YmFycmF5KGQsZCtvKSl9ZCs9b319cmV0dXJue2h2Y0M6cixzcHM6bixzcHNBcnI6YyxwcHNBcnI6bCx2cHNBcnI6ZixuYWxVbml0U2l6ZTp1fX19fSx7a2V5OiJwYXJzZVZQUyIsdmFsdWU6ZnVuY3Rpb24odCxyKXtyPXJ8fHt9O3ZhciBhPW5ldyBLKHQpO2EucmVhZFVCeXRlKCksYS5yZWFkVUJ5dGUoKSxhLnJlYWRCaXRzKDEyKTt2YXIgbj1hLnJlYWRCaXRzKDMpO3JldHVybiByLm51bVRlbXBvcmFsTGF5ZXJzPU1hdGgubWF4KHIubnVtVGVtcG9yYWxMYXllcnN8fDAsbisxKSxhLnJlYWRCaXRzKDE3KSxlLl9wYXJzZVByb2ZpbGVUaWVyTGV2ZWwoYSxuLHIpLHJ9fSx7a2V5OiJwYXJzZVNQUyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3I9cnx8e307dmFyIGE9bmV3IEsodCk7YS5yZWFkVUJ5dGUoKSxhLnJlYWRVQnl0ZSgpLGEucmVhZEJpdHMoNCk7dmFyIG49YS5yZWFkQml0cygzKTtyLm51bVRlbXBvcmFsTGF5ZXJzPU1hdGgubWF4KG4rMSxyLm51bVRlbXBvcmFsTGF5ZXJzfHwwKSxyLnRlbXBvcmFsSWROZXN0ZWQ9YS5yZWFkQml0cygxKSxlLl9wYXJzZVByb2ZpbGVUaWVyTGV2ZWwoYSxuLHIpLGEucmVhZFVFRygpO3ZhciBpPXIuY2hyb21hRm9ybWF0SWRjPWEucmVhZFVFRygpLHM9NDIwO2k8PTMmJihzPVswLDQyMCw0MjIsNDQ0XVtpXSk7dmFyIG89MDszPT09aSYmKG89YS5yZWFkQml0cygxKSk7dmFyIHUsYyxsLGYsZD1hLnJlYWRVRUcoKSxoPWEucmVhZFVFRygpLHA9YS5yZWFkQml0cygxKTtpZigxPT09cCYmKHU9YS5yZWFkVUVHKCksYz1hLnJlYWRVRUcoKSxsPWEucmVhZFVFRygpLGY9YS5yZWFkVUVHKCkpLHIuYml0RGVwdGhMdW1hTWludXM4PWEucmVhZFVFRygpLHIuYml0RGVwdGhDaHJvbWFNaW51czg9YS5yZWFkVUVHKCksMT09PXApe3ZhciB2PTEhPT1pJiYyIT09aXx8MCE9PW8/MToyLHk9MT09PWkmJjA9PT1vPzI6MTtkLT12KihjK3UpLGgtPXkqKGYrbCl9cmV0dXJue2NvZGVjOiJoZXYxLjEuNi5MOTMuQjAiLHdpZHRoOmQsaGVpZ2h0OmgsY2hyb21hRm9ybWF0OnMsaHZjQzpyfX19LHtrZXk6Il9wYXJzZVByb2ZpbGVUaWVyTGV2ZWwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1yLmdlbmVyYWxUaWVyRmxhZ3x8MDtyLmdlbmVyYWxQcm9maWxlU3BhY2U9ZS5yZWFkQml0cygyKSxyLmdlbmVyYWxUaWVyRmxhZz1NYXRoLm1heChlLnJlYWRCaXRzKDEpLGEpLHIuZ2VuZXJhbFByb2ZpbGVJZGM9TWF0aC5tYXgoZS5yZWFkQml0cyg1KSxyLmdlbmVyYWxQcm9maWxlSWRjfHwwKSxyLmdlbmVyYWxQcm9maWxlQ29tcGF0aWJpbGl0eUZsYWdzPWUucmVhZEJpdHMoMzIpLHIuZ2VuZXJhbENvbnN0cmFpbnRJbmRpY2F0b3JGbGFncz1bZS5yZWFkQml0cyg4KSxlLnJlYWRCaXRzKDgpLGUucmVhZEJpdHMoOCksZS5yZWFkQml0cyg4KSxlLnJlYWRCaXRzKDgpLGUucmVhZEJpdHMoOCldO3ZhciBuPWUucmVhZEJpdHMoOCk7YTxyLmdlbmVyYWxUaWVyRmxhZz9yLmdlbmVyYWxMZXZlbElkYz1uOnIuZ2VuZXJhbExldmVsSWRjPU1hdGgubWF4KG4sci5nZW5lcmFsTGV2ZWxJZGN8fDApO3ZhciBpPVtdLHM9W107aWYodD5lLmJpdHNBdmFpbGFibGUpdGhyb3cgbmV3IEVycm9yKCJtYXhTdWJMYXllcnNNaW51cyBpbmF2bGlkIHNpemUgIi5jb25jYXQodCkpO2Zvcih2YXIgbz0wO288dDtvKyspaVtvXT1lLnJlYWRCaXRzKDEpLHNbb109ZS5yZWFkQml0cygxKTt0PjAmJmUucmVhZEJpdHMoMiooOC10KSk7Zm9yKHZhciB1PTA7dTx0O3UrKykwIT09aVt1XSYmKGUucmVhZEJpdHMoMiksZS5yZWFkQml0cygxKSxlLnJlYWRCaXRzKDUpLGUucmVhZEJpdHMoMTYpLGUucmVhZEJpdHMoMTYpLGUucmVhZEJpdHMoNCksZS5yZWFkQml0cygxNiksZS5yZWFkQml0cygxNiksZS5yZWFkQml0cygxMikpLDAhPT1zW3VdJiZlLnJlYWRCaXRzKDgpfX1dKSxlfSgpLGRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3IodGhpcyxlKX1yZXR1cm4gbihlLG51bGwsW3trZXk6ImdldEZyYW1lRHVyYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiAyMH19LHtrZXk6InBhcnNlSGVhZGVyUGFja2V0cyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGgpe2Zvcih2YXIgdD1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCkscj0iIixhPTA7YTw4O2ErKylyKz1TdHJpbmcuZnJvbUNvZGVQb2ludChlW2FdKTtpZigiT3B1c0hlYWQiIT09cil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgT3B1cyBNYWdpY1NpZ25hdHVyZSIpO3ZhciBuPWVbOV07Y29uc29sZS5sb2coIlByZS1za2lwIixlWzEwXSxlWzExXSk7dmFyIGk9dC5nZXRVaW50MzIoMTIsITApLHM9dC5nZXRJbnQxNigxNiwhMCk7aWYoaSl7cmV0dXJue291dHB1dEdhaW46cyxzYW1wbGVSYXRlOmksY2hhbm5lbENvdW50Om4sY29uZmlnOm5ldyBVaW50OEFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCs4LGUuYnl0ZUxlbmd0aC04KSxjb2RlYzoib3B1cyIsb3JpZ2luQ29kZWM6Im9wdXMifX19fX1dKSxlfSgpLGhlPTFlMyxwZT01ZTMsdmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsYSxuKXtyKHRoaXMsZSksdGhpcy52aWRlb1RyYWNrPXQsdGhpcy5hdWRpb1RyYWNrPWEsdGhpcy5tZXRhZGF0YVRyYWNrPW4sdGhpcy5fYmFzZUR0cz0tMSx0aGlzLl9iYXNlRHRzSW5pdGVkPSExLHRoaXMuX2F1ZGlvTmV4dFB0cz12b2lkIDAsdGhpcy5fdmlkZW9OZXh0RHRzPXZvaWQgMCx0aGlzLl9hdWRpb1RpbWVzdGFtcEJyZWFrPTAsdGhpcy5fdmlkZW9UaW1lc3RhbXBCcmVhaz0wLHRoaXMuX2xhc3RWaWRlb0R1cmF0aW9uPTAsdGhpcy5fa2V5RnJhbWVJbk5leHRDaHVuaz0hMSx0aGlzLl9sYXN0QXVkaW9FeGNlcHRpb25HYXBEb3Q9LTEvMCx0aGlzLl9sYXN0QXVkaW9FeGNlcHRpb25PdmVybGFwRG90PS0xLzAsdGhpcy5fbGFzdEF1ZGlvRXhjZXB0aW9uTGFyZ2VHYXBEb3Q9LTEvMCx0aGlzLl9sYXN0VmlkZW9FeGNlcHRpb25MYXJnZUdhcERvdD0tMS8wLHRoaXMuX2xhc3RWaWRlb0V4Y2VwdGlvbkNodW5rRmlyc3REdHNEb3Q9LTEvMH1yZXR1cm4gbihlLFt7a2V5OiJmaXgiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxhPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl07dD1NYXRoLnJvdW5kKDFlMyp0KTt2YXIgbj10aGlzLnZpZGVvVHJhY2ssaT10aGlzLmF1ZGlvVHJhY2s7IXImJmF8fCh0aGlzLl92aWRlb0xhc3RTYW1wbGU9bnVsbCx0aGlzLl9hdWRpb05leHRQdHM9dm9pZCAwLHRoaXMuX3ZpZGVvTmV4dER0cz12b2lkIDAsdGhpcy5fYXVkaW9UaW1lc3RhbXBCcmVhaz0wLHRoaXMuX3ZpZGVvVGltZXN0YW1wQnJlYWs9MCx0aGlzLl9sYXN0QXVkaW9FeGNlcHRpb25HYXBEb3Q9LTEvMCx0aGlzLl9sYXN0QXVkaW9FeGNlcHRpb25PdmVybGFwRG90PS0xLzAsdGhpcy5fbGFzdEF1ZGlvRXhjZXB0aW9uTGFyZ2VHYXBEb3Q9LTEvMCx0aGlzLl9sYXN0VmlkZW9FeGNlcHRpb25MYXJnZUdhcERvdD0tMS8wLHRoaXMuX2xhc3RWaWRlb0V4Y2VwdGlvbkNodW5rRmlyc3REdHNEb3Q9LTEvMCksciYmIWEmJih0aGlzLl9iYXNlRHRzSW5pdGVkPSExKSx0aGlzLl9iYXNlRHRzSW5pdGVkfHx0aGlzLl9jYWxjdWxhdGVCYXNlRHRzKGksbiksIWEmJnQmJih0aGlzLl9hdWRpb05leHRQdHM9dGhpcy5fdmlkZW9OZXh0RHRzPXQpO3ZhciBzPXRoaXMuX2Jhc2VEdHNJbml0ZWQmJih0aGlzLl92aWRlb1RpbWVzdGFtcEJyZWFrfHwhdGhpcy52aWRlb1RyYWNrLmV4aXN0KCkpJiYodGhpcy5fYXVkaW9UaW1lc3RhbXBCcmVha3x8IXRoaXMuYXVkaW9UcmFjay5leGlzdCgpKTtpZihzJiZ0aGlzLl9yZXNldEJhc2VEdHNXaGVuU3RyZWFtQnJlYWtlZCgpLHRoaXMuX2ZpeEF1ZGlvKGkpLHRoaXMuX2tleUZyYW1lSW5OZXh0Q2h1bms9ITEsdGhpcy5fZml4VmlkZW8obiksdGhpcy5tZXRhZGF0YVRyYWNrLmV4aXN0KCkpe3ZhciBvPXRoaXMubWV0YWRhdGFUcmFjay50aW1lc2NhbGU7dGhpcy5tZXRhZGF0YVRyYWNrLnNlaVNhbXBsZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5wdHM9dC5vcmlnaW5QdHMtZS5fYmFzZUR0cyx0LnRpbWU9TWF0aC5tYXgoMCx0LnB0cykvb30pKSx0aGlzLm1ldGFkYXRhVHJhY2suZmx2U2NyaXB0U2FtcGxlcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnB0cz10Lm9yaWdpblB0cy1lLl9iYXNlRHRzLHQudGltZT1NYXRoLm1heCgwLHQucHRzKS9vfSkpfW4uc2FtcGxlcy5sZW5ndGgmJihuLmJhc2VNZWRpYURlY29kZVRpbWU9bi5zYW1wbGVzWzBdLmR0cyksaS5zYW1wbGVzLmxlbmd0aCYmKGkuYmFzZU1lZGlhRGVjb2RlVGltZT1pLnNhbXBsZXNbMF0ucHRzKmkudGltZXNjYWxlLzFlMyl9fSx7a2V5OiJfZml4VmlkZW8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnNhbXBsZXM7aWYoci5sZW5ndGgpe3ZhciBhO2lmKHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5kdHMtPXQuX2Jhc2VEdHMsZS5wdHMtPXQuX2Jhc2VEdHMsZS5rZXlmcmFtZSYmKHQuX2tleUZyYW1lSW5OZXh0Q2h1bms9ITApfSkpLGUuZnBzTnVtJiZlLmZwc0RlbilhPWUudGltZXNjYWxlKihlLmZwc0Rlbi9lLmZwc051bSk7ZWxzZSBpZihlLmxlbmd0aD4xKXt2YXIgbj1lLnNhbXBsZXNbMF0saT1lLnNhbXBsZXNbci5sZW5ndGgtMV07YT1NYXRoLmZsb29yKChpLmR0cy1uLmR0cykvKHIubGVuZ3RoLTEpKX1lbHNlIGE9dGhpcy5fbGFzdFZpZGVvRHVyYXRpb258fDQwO3ZhciBzPXIucG9wKCk7aWYodGhpcy5fdmlkZW9MYXN0U2FtcGxlJiZyLnVuc2hpZnQodGhpcy5fdmlkZW9MYXN0U2FtcGxlKSx0aGlzLl92aWRlb0xhc3RTYW1wbGU9cyxyLmxlbmd0aCl7aWYodm9pZCAwPT09dGhpcy5fdmlkZW9OZXh0RHRzKXt2YXIgbz1yWzBdO3RoaXMuX3ZpZGVvTmV4dER0cz1vLmR0c312YXIgdT1yLmxlbmd0aCxjPTAsbD1yWzBdLGY9dGhpcy5fdmlkZW9OZXh0RHRzLWwuZHRzO2lmKE1hdGguYWJzKGYpPjIwMCl7dmFyIGQ7aWYoTWF0aC5hYnMobC5kdHMtdGhpcy5fbGFzdFZpZGVvRXhjZXB0aW9uQ2h1bmtGaXJzdER0c0RvdCk+NWUzKXRoaXMuX2xhc3RWaWRlb0V4Y2VwdGlvbkNodW5rRmlyc3REdHNEb3Q9bC5kdHMsZS53YXJuaW5ncy5wdXNoKHt0eXBlOkksbmV4dER0czp0aGlzLl92aWRlb05leHREdHMsZmlyc3RTYW1wbGVEdHM6bC5kdHMsbmV4dFNhbXBsZUR0czpudWxsPT09KGQ9clsxXSl8fHZvaWQgMD09PWQ/dm9pZCAwOmQuZHRzLHNhbXBsZUR1cmF0aW9uOmZ9KTt0aGlzLl92aWRlb1RpbWVzdGFtcEJyZWFrPj01Pyh0aGlzLl92aWRlb05leHREdHM9bC5kdHMsdGhpcy5fdmlkZW9UaW1lc3RhbXBCcmVhaz0wKToobC5kdHMrPWYsbC5wdHMrPWYsdGhpcy5hdWRpb1RyYWNrLmV4aXN0KCl8fCh0aGlzLl92aWRlb1RpbWVzdGFtcEJyZWFrPTEpKX1mb3IodmFyIGg9MDtoPHU7aCsrKXt2YXIgcD1yW2hdLmR0cyx2PXJbaCsxXTsoKGM9aDx1LTE/di5kdHMtcDpzP3MuZHRzLXA6YSk+MWUzfHxjPDApJiYodGhpcy5fdmlkZW9UaW1lc3RhbXBCcmVhaysrLE1hdGguYWJzKHAtdGhpcy5fbGFzdFZpZGVvRXhjZXB0aW9uTGFyZ2VHYXBEb3QpPjVlMyYmKHRoaXMuX2xhc3RWaWRlb0V4Y2VwdGlvbkxhcmdlR2FwRG90PXAsZS53YXJuaW5ncy5wdXNoKHt0eXBlOlAsdGltZTpwL2UudGltZXNjYWxlLGR0czpwLG9yaWdpbkR0czpyW2hdLm9yaWdpbkR0cyxuZXh0RHRzOnRoaXMuX3ZpZGVvTmV4dER0cyxzYW1wbGVEdXJhdGlvbjpjLHJlZlNhbXBsZUR1cmF0aW9uOmF9KSksYz1hKSxyW2hdLmR1cmF0aW9uPWMsdGhpcy5fdmlkZW9OZXh0RHRzKz1jLHRoaXMuX2xhc3RWaWRlb0R1cmF0aW9uPWN9fX19fSx7a2V5OiJfZml4QXVkaW8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnNhbXBsZXM7ci5sZW5ndGgmJihyLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZHRzPWUucHRzLT10Ll9iYXNlRHRzfSkpLHRoaXMuX2RvRml4QXVkaW9JbnRlcm5hbChlLHIsMWUzKSl9fSx7a2V5OiJfY2FsY3VsYXRlQmFzZUR0cyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnNhbXBsZXMsYT10LnNhbXBsZXM7aWYoIXIubGVuZ3RoJiYhYS5sZW5ndGgpcmV0dXJuITE7dmFyIG49MS8wLGk9MS8wO3IubGVuZ3RoJiYoZS5iYXNlRHRzPW49clswXS5wdHMpLGEubGVuZ3RoJiYodC5iYXNlRHRzPWk9YVswXS5kdHMpLHRoaXMuX2Jhc2VEdHM9TWF0aC5taW4obixpKTt2YXIgcz1pLW47cmV0dXJuIE51bWJlci5pc0Zpbml0ZShzKSYmTWF0aC5hYnMocyk+NTAwJiZ0Lndhcm5pbmdzLnB1c2goe3R5cGU6Qyx2aWRlb0Jhc2VEdHM6aSxhdWRpb0Jhc2VQdHM6bixiYXNlRHRzOnRoaXMuX2Jhc2VEdHMsZGVsdGE6c30pLHRoaXMuX2Jhc2VEdHNJbml0ZWQ9ITAsITB9fSx7a2V5OiJfcmVzZXRCYXNlRHRzV2hlblN0cmVhbUJyZWFrZWQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2FsY3VsYXRlQmFzZUR0cyh0aGlzLmF1ZGlvVHJhY2ssdGhpcy52aWRlb1RyYWNrKSYmKHRoaXMuYXVkaW9UcmFjay5leGlzdCgpP3RoaXMudmlkZW9UcmFjay5leGlzdCgpP3RoaXMuX2Jhc2VEdHMtPU1hdGgubWluKHRoaXMuX2F1ZGlvTmV4dFB0cyx0aGlzLl92aWRlb05leHREdHMpOnRoaXMuX2Jhc2VEdHMtPXRoaXMuX2F1ZGlvTmV4dFB0czp0aGlzLl9iYXNlRHRzLT10aGlzLl92aWRlb05leHREdHMsdGhpcy5fdmlkZW9UaW1lc3RhbXBCcmVhaz0wLHRoaXMuX2F1ZGlvVGltZXN0YW1wQnJlYWs9MCl9fSx7a2V5OiJfZG9GaXhBdWRpb0ludGVybmFsIix2YWx1ZTpmdW5jdGlvbihlLHQscil7aWYoIWUuc2FtcGxlRHVyYXRpb24pc3dpdGNoKGUuY29kZWNUeXBlKXtjYXNlIEE6ZS5zYW1wbGVEdXJhdGlvbj11ZS5nZXRGcmFtZUR1cmF0aW9uKGUudGltZXNjYWxlLHIpO2JyZWFrO2Nhc2UgRTplLnNhbXBsZUR1cmF0aW9uPWRlLmdldEZyYW1lRHVyYXRpb24oZS5zYW1wbGVzLHIpO2JyZWFrO2Nhc2UgVDpjYXNlIEI6ZS5zYW1wbGVEdXJhdGlvbj10aGlzLl9nZXRHNzExRHVyYXRpb24oZSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJjYW4ndCBmaXggYXVkaW8gY29kZWNUeXBlOiIsZS5jb2RlY1R5cGUpfXZhciBhPWUuc2FtcGxlRHVyYXRpb24sbj1lLmNvZGVjVHlwZT09PUU/MjA6ZS5jb2RlY1R5cGU9PT1BPzEwMjQ6YSplLnRpbWVzY2FsZS8xZTM7aWYodm9pZCAwPT09dGhpcy5fYXVkaW9OZXh0UHRzKXt2YXIgaT10WzBdO3RoaXMuX2F1ZGlvTmV4dFB0cz1pLnB0c31mb3IodmFyIHM9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIG89dGhpcy5fYXVkaW9OZXh0UHRzLHU9dFtzXSxjPXUucHRzLW87aWYoMD09PXMmJnRoaXMuX2F1ZGlvVGltZXN0YW1wQnJlYWs+PTUmJnRoaXMuX2tleUZyYW1lSW5OZXh0Q2h1bmsmJihvPXRoaXMuX2F1ZGlvTmV4dFB0cz11LmR0cyxjPTAsdGhpcy5fYXVkaW9UaW1lc3RhbXBCcmVhaz0wKSwhdGhpcy5fYXVkaW9UaW1lc3RhbXBCcmVhayYmYz49MyphJiZjPD1oZSYmIVope3ZhciBsPXRoaXMuX2dldFNpbGVudEZyYW1lKGUpfHx0WzBdLmRhdGEuc3ViYXJyYXkoKSxmPU1hdGguZmxvb3IoYy9hKTtNYXRoLmFicyh1LnB0cy10aGlzLl9sYXN0QXVkaW9FeGNlcHRpb25HYXBEb3QpPnBlJiYodGhpcy5fbGFzdEF1ZGlvRXhjZXB0aW9uR2FwRG90PXUucHRzLGUud2FybmluZ3MucHVzaCh7dHlwZTp6LHB0czp1LnB0cyxvcmlnaW5QdHM6dS5vcmlnaW5QdHMsY291bnQ6ZixuZXh0UHRzOm8scmVmU2FtcGxlRHVyYXRpb246YX0pKTtmb3IodmFyIGQ9MDtkPGY7ZCsrKXt2YXIgaD1uZXcgRihNYXRoLmZsb29yKHRoaXMuX2F1ZGlvTmV4dFB0cythKS1NYXRoLmZsb29yKHRoaXMuX2F1ZGlvTmV4dFB0cyksbCxuKTtoLm9yaWdpblB0cz1NYXRoLmZsb29yKHRoaXMuX2Jhc2VEdHMrbyksdC5zcGxpY2UocywwLGgpLHRoaXMuX2F1ZGlvTmV4dFB0cys9YSxzKyt9cy0tfWVsc2UgaWYoYzw9LTMqYSYmYz49LTFlMylNYXRoLmFicyh1LnB0cy10aGlzLl9sYXN0QXVkaW9FeGNlcHRpb25PdmVybGFwRG90KT5wZSYmKHRoaXMuX2xhc3RBdWRpb0V4Y2VwdGlvbk92ZXJsYXBEb3Q9dS5wdHMsZS53YXJuaW5ncy5wdXNoKHt0eXBlOk8scHRzOnUucHRzLG9yaWdpblB0czp1Lm9yaWdpblB0cyxuZXh0UHRzOm8scmVmU2FtcGxlRHVyYXRpb246YX0pKSx0LnNwbGljZShzLDEpLHMtLTtlbHNle2lmKE1hdGguYWJzKGMpPmhlJiYodGhpcy5fYXVkaW9UaW1lc3RhbXBCcmVhaysrLE1hdGguYWJzKHUucHRzLXRoaXMuX2xhc3RBdWRpb0V4Y2VwdGlvbkxhcmdlR2FwRG90KT5wZSYmKHRoaXMuX2xhc3RBdWRpb0V4Y2VwdGlvbkxhcmdlR2FwRG90PXUucHRzLGUud2FybmluZ3MucHVzaCh7dHlwZTpNLHRpbWU6dS5wdHMvMWUzLHB0czp1LnB0cyxvcmlnaW5QdHM6dS5vcmlnaW5QdHMsbmV4dFB0czpvLHNhbXBsZUR1cmF0aW9uOmMscmVmU2FtcGxlRHVyYXRpb246YX0pKSksZS5jb2RlY1R5cGU9PT1FKXt2YXIgcD10W3QubGVuZ3RoLTFdO3AmJihwLmR1cmF0aW9uPXUucHRzLXAucHRzKX1lbHNlIHUuZHRzPXUucHRzPW8sdS5kdXJhdGlvbj1uO3RoaXMuX2F1ZGlvTmV4dFB0cys9YX19fX0se2tleToiX2dldEc3MTFEdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zYW1wbGVTaXplLHI9ZS5jaGFubmVsQ291bnQsYT1lLnNhbXBsZVJhdGUsbj1lLnNhbXBsZXNbMF07aWYobilyZXR1cm4gMipuLmRhdGEuYnl0ZUxlbmd0aC9yLyh0LzgpL2EqMWUzfX0se2tleToiX2dldFNpbGVudEZyYW1lIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlY1R5cGU9PT1BP3VlLmdldFNpbGVudEZyYW1lKGUuY29kZWMsZS5jaGFubmVsQ291bnQpOm5ldyBVaW50OEFycmF5KDgqZS5zYW1wbGVEdXJhdGlvbiplLmNoYW5uZWxDb3VudCl9fV0pLGV9KCkseWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cih0aGlzLGUpfXJldHVybiBuKGUsbnVsbCxbe2tleToicGFyc2UiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCEodC5sZW5ndGg8Mykpe3ZhciByPXt9LGE9ZS5fcGFyc2VWYWx1ZShuZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCkpLG49ZS5fcGFyc2VWYWx1ZShuZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0K2Euc2l6ZSx0LmJ5dGVMZW5ndGgtYS5zaXplKSk7cmV0dXJuIHJbYS5kYXRhXT1uLmRhdGEscn19fSx7a2V5OiJfcGFyc2VWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHIsYT10LmJ5dGVMZW5ndGgsbj0xLGk9ITE7c3dpdGNoKHQuZ2V0VWludDgoMCkpe2Nhc2UgMDpyPXQuZ2V0RmxvYXQ2NCgxKSxuKz04O2JyZWFrO2Nhc2UgMTpyPSEhdC5nZXRVaW50OCgxKSxuKz0xO2JyZWFrO2Nhc2UgMjp2YXIgcz1lLl9wYXJzZVN0cmluZyhuZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0K24sdC5ieXRlTGVuZ3RoLW4pKTtyPXMuZGF0YSxuKz1zLnNpemU7YnJlYWs7Y2FzZSAzOnI9e307dmFyIG89MDtmb3IoOT09KDE2Nzc3MjE1JnQuZ2V0VWludDMyKGEtNCkpJiYobz0zKTtuPGEtNDspe3ZhciB1PWUuX3BhcnNlT2JqZWN0KG5ldyBEYXRhVmlldyh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQrbix0LmJ5dGVMZW5ndGgtbi1vKSksYz11LnNpemUsbD11LmRhdGE7aWYodS5pc0VuZClicmVhaztyW2wubmFtZV09bC52YWx1ZSxuKz1jfWlmKG48PWEtMyk5PT09KDE2Nzc3MjE1JnQuZ2V0VWludDMyKG4tMSkpJiYobis9Myk7YnJlYWs7Y2FzZSA4OnI9e30sbis9NDt2YXIgZj0wO2Zvcig5PT0oMTY3NzcyMTUmdC5nZXRVaW50MzIoYS00KSkmJihmPTMpO248YS04Oyl7dmFyIGQ9ZS5fcGFyc2VPYmplY3QobmV3IERhdGFWaWV3KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCtuLHQuYnl0ZUxlbmd0aC1uLWYpKSxoPWQuc2l6ZSxwPWQuZGF0YTtpZihkLmlzRW5kKWJyZWFrO3JbcC5uYW1lXT1wLnZhbHVlLG4rPWh9aWYobjw9YS0zKTk9PT0oMTY3NzcyMTUmdC5nZXRVaW50MzIobi0xKSkmJihuKz0zKTticmVhaztjYXNlIDk6cj12b2lkIDAsbj0xLGk9ITA7YnJlYWs7Y2FzZSAxMDpyPVtdO3ZhciB2PXQuZ2V0VWludDMyKDEpO24rPTQ7Zm9yKHZhciB5PTA7eTx2O3krKyl7dmFyIG09ZS5fcGFyc2VWYWx1ZShuZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0K24sdC5ieXRlTGVuZ3RoLW4pKSxnPW0uZGF0YSxrPW0uc2l6ZTtyLnB1c2goZyksbis9a31icmVhaztjYXNlIDExOnZhciBiPXQuZ2V0RmxvYXQ2NChuKSs2ZTQqdC5nZXRJbnQxNihuKzgpO3I9bmV3IERhdGUoYiksbis9MTA7YnJlYWs7Y2FzZSAxMjp2YXIgXz10LmdldFVpbnQzMigxKTtuKz00LHI9IiIsXz4wJiYocj1XLmRlY29kZShuZXcgVWludDhBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQrbixfKSkpLG4rPV87YnJlYWs7ZGVmYXVsdDpuPWF9cmV0dXJue2RhdGE6cixzaXplOm4saXNFbmQ6aX19fSx7a2V5OiJfcGFyc2VTdHJpbmciLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0VWludDE2KDApLHI9IiI7cmV0dXJuIHQ+MCYmKHI9Vy5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIsZS5ieXRlT2Zmc2V0KzIsdCkpKSx7ZGF0YTpyLHNpemU6Mit0fX19LHtrZXk6Il9wYXJzZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoISh0LmJ5dGVMZW5ndGg8Mykpe3ZhciByPWUuX3BhcnNlU3RyaW5nKHQpLGE9ZS5fcGFyc2VWYWx1ZShuZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0K3Iuc2l6ZSx0LmJ5dGVMZW5ndGgtci5zaXplKSk7cmV0dXJue2RhdGE6e25hbWU6ci5kYXRhLHZhbHVlOmEuZGF0YX0sc2l6ZTpyLnNpemUrYS5zaXplLGlzRW5kOmEuaXNFbmR9fX19XSksZX0oKSxtZT03LGdlPTgsa2U9MTAsYmU9MTMsX2U9bmV3IHEoIkZsdkRlbXV4ZXIiKSx3ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxhLG4pe3IodGhpcyxlKSxpKHRoaXMsIl9oZWFkZXJQYXJzZWQiLCExKSxpKHRoaXMsIl9yZW1haW5pbmdEYXRhIixudWxsKSxpKHRoaXMsIl9nb3BJZCIsMCksaSh0aGlzLCJfbmVlZEFkZE1ldGFCZWZvcmVLZXlGcmFtZU5hbCIsITApLHRoaXMudmlkZW9UcmFjaz10fHxuZXcgUix0aGlzLmF1ZGlvVHJhY2s9YXx8bmV3IEwsdGhpcy5tZXRhZGF0YVRyYWNrPW58fG5ldyBILHRoaXMuX2ZpeGVyPW5ldyB2ZSh0aGlzLnZpZGVvVHJhY2ssdGhpcy5hdWRpb1RyYWNrLHRoaXMubWV0YWRhdGFUcmFjayl9cmV0dXJuIG4oZSxbe2tleToiZGVtdXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByLGE9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxuPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl0saT1hcmd1bWVudHMubGVuZ3RoPjM/YXJndW1lbnRzWzNdOnZvaWQgMCxzPXRoaXMuYXVkaW9UcmFjayxvPXRoaXMudmlkZW9UcmFjayx1PXRoaXMubWV0YWRhdGFUcmFjaztpZighYSYmbnx8KHRoaXMuX3JlbWFpbmluZ0RhdGE9bnVsbCksYSYmKHRoaXMuX2hlYWRlclBhcnNlZD0hMSksYT8oby5yZXNldCgpLHMucmVzZXQoKSx1LnJlc2V0KCkpOihvLnNhbXBsZXM9W10scy5zYW1wbGVzPVtdLHUuc2VpU2FtcGxlcz1bXSx1LmZsdlNjcmlwdFNhbXBsZXM9W10sby53YXJuaW5ncz1bXSxzLndhcm5pbmdzPVtdLHRoaXMuX3JlbWFpbmluZ0RhdGEmJih0PSQodGhpcy5fcmVtYWluaW5nRGF0YSx0KSx0aGlzLl9yZW1haW5pbmdEYXRhPW51bGwpKSwhdC5sZW5ndGgpcmV0dXJue3ZpZGVvVHJhY2s6byxhdWRpb1RyYWNrOnMsbWV0YWRhdGFUcmFjazp1fTt2YXIgYz0wO2lmKCF0aGlzLl9oZWFkZXJQYXJzZWQpe2lmKCFlLnByb2JlKHQpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBmbHYgZmlsZSIpO3MucHJlc2VudD0oNCZ0WzRdKT4+PjIhPTAsby5wcmVzZW50PTAhPSgxJnRbNF0pLHRoaXMuX2hlYWRlclBhcnNlZD0hMCxjPXJlKHQsNSkrNH1mb3IodmFyIGwsZixkLGgscCx2PXQubGVuZ3RoO2MrMTU8diYmKGw9dFtjXSwhKGMrMTUrKGY9dFtjKzFdPDwxNnx0W2MrMl08PDh8dFtjKzNdKT52KSk7KWQ9KHRbYys3XTw8MjQ+Pj4wKSsodFtjKzRdPDwxNikrKHRbYys1XTw8OCkrdFtjKzZdLGMrPTExLGg9dC5zdWJhcnJheShjLGMrZiksOD09PWw/dGhpcy5fcGFyc2VBdWRpbyhoLGQpOjk9PT1sPyhpJiYodGhpcy5zZWFtbGVzc0xvYWRpbmdTd2l0Y2hpbmc9ITApLHRoaXMuX3BhcnNlVmlkZW8oaCxkKSk6MTg9PT1sP3RoaXMuX3BhcnNlU2NyaXB0KGgsZCk6X2Uud2FybigiSW52YWxpZCB0YWcgdHlwZTogIi5jb25jYXQobCkpLChwPXJlKHQsYys9ZikpIT09MTErZiYmX2Uud2FybigiSW52YWxpZCBQcmV2VGFnU2l6ZSAiLmNvbmNhdChwLCIgKCIpLmNvbmNhdCgxMStmLCIpIikpLGMrPTQ7Yzx2JiYodGhpcy5fcmVtYWluaW5nRGF0YT10LnN1YmFycmF5KGMpKSxzLmZvcm1hdFRpbWVzY2FsZT1vLmZvcm1hdFRpbWVzY2FsZT1vLnRpbWVzY2FsZT11LnRpbWVzY2FsZT0xZTMscy50aW1lc2NhbGU9cy5jb2RlY1R5cGU9PT1FPzFlMzpzLnNhbXBsZVJhdGV8fDAsIXMuZXhpc3QoKSYmcy5oYXNTYW1wbGUoKSYmcy5yZXNldCgpLCFvLmV4aXN0KCkmJm8uaGFzU2FtcGxlKCkmJm8ucmVzZXQoKTt2YXIgeT11LmZsdlNjcmlwdFNhbXBsZXNbdS5mbHZTY3JpcHRTYW1wbGVzLmxlbmd0aC0xXSxtPW51bGw9PXl8fG51bGw9PT0ocj15LmRhdGEpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm9uTWV0YURhdGE7cmV0dXJuIG0mJihudWxsIT1vJiZvLmV4aXN0KCkmJihtLmhhc093blByb3BlcnR5KCJkdXJhdGlvbiIpJiYoby5kdXJhdGlvbj0xZTMqbS5kdXJhdGlvbiksIW8ud2lkdGgmJm0uaGFzT3duUHJvcGVydHkoIndpZHRoIikmJihvLndpZHRoPW0ud2lkdGgpLCFvLmhlaWdodCYmbS5oYXNPd25Qcm9wZXJ0eSgiaGVpZ2h0IikmJihvLmhlaWdodD1tLmhlaWdodCkpLG51bGwhPXMmJnMuZXhpc3QoKSYmbS5oYXNPd25Qcm9wZXJ0eSgiZHVyYXRpb24iKSYmKHMuZHVyYXRpb249MWUzKm0uZHVyYXRpb24pKSx7dmlkZW9UcmFjazpvLGF1ZGlvVHJhY2s6cyxtZXRhZGF0YVRyYWNrOnV9fX0se2tleToiZml4Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuX2ZpeGVyLmZpeChlLHQscikse3ZpZGVvVHJhY2s6dGhpcy52aWRlb1RyYWNrLGF1ZGlvVHJhY2s6dGhpcy5hdWRpb1RyYWNrLG1ldGFkYXRhVHJhY2s6dGhpcy5tZXRhZGF0YVRyYWNrfX19LHtrZXk6ImRlbXV4QW5kRml4Iix2YWx1ZTpmdW5jdGlvbihlLHQscixhLG4pe3JldHVybiB0aGlzLmRlbXV4KGUsdCxyLG4pLHRoaXMuZml4KGEsdCxyKX19LHtrZXk6Il9wYXJzZUF1ZGlvIix2YWx1ZTpmdW5jdGlvbih0LHIpe2lmKHQubGVuZ3RoKXt2YXIgYT0oMjQwJnRbMF0pPj4+NCxuPXRoaXMuYXVkaW9UcmFjaztpZihhIT09a2UmJmEhPT1tZSYmYSE9PWdlJiZhIT09YmUpcmV0dXJuIF9lLndhcm4oIlVuc3VwcG9ydGVkIHNvdW5kIGZvcm1hdDogIi5jb25jYXQoYSkpLHZvaWQgbi5yZXNldCgpO2lmKGEhPT1rZSYmYSE9PWJlKXt2YXIgaT0oMTImdFswXSk+PjIscz0oMiZ0WzBdKT4+MSxvPTEmdFswXTtuLnNhbXBsZVJhdGU9ZS5BVURJT19SQVRFW2ldLG4uc2FtcGxlU2l6ZT1zPzE2Ojgsbi5jaGFubmVsQ291bnQ9bysxfXN3aXRjaChhKXtjYXNlIG1lOmNhc2UgZ2U6dGhpcy5fcGFyc2VHNzExKHQscixhKTticmVhaztjYXNlIGtlOnRoaXMuX3BhcnNlQWFjKHQscik7YnJlYWs7Y2FzZSBiZTp0aGlzLl9wYXJzZU9wdXModCxyKX19fX0se2tleToiX3BhcnNlT3B1cyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmF1ZGlvVHJhY2ssYT1lWzFdO3N3aXRjaChyLmNvZGVjVHlwZT1FLGEpe2Nhc2UgMDp2YXIgbj1kZS5wYXJzZUhlYWRlclBhY2tldHMoZS5zdWJhcnJheSgyKSk7bj8oci5jb2RlYz1uLmNvZGVjLHIuY2hhbm5lbENvdW50PW4uY2hhbm5lbENvdW50LHIuc2FtcGxlUmF0ZT1uLnNhbXBsZVJhdGUsci5jb25maWc9bi5jb25maWcsci5zYW1wbGVEdXJhdGlvbj1kZS5nZXRGcmFtZUR1cmF0aW9uKFtdLHIudGltZXNjYWxlKSk6KHIucmVzZXQoKSxfZS53YXJuKCJDYW5ub3QgcGFyc2UgQXVkaW9TcGVjaWZpY0NvbmZpZyIsZSkpO2JyZWFrO2Nhc2UgMTppZihudWxsPT10KXJldHVybjt2YXIgaT1uZXcgRih0LGUuc3ViYXJyYXkoMiksci5zYW1wbGVEdXJhdGlvbik7ci5zYW1wbGVzLnB1c2goaSk7YnJlYWs7ZGVmYXVsdDpfZS53YXJuKCJVbmtub3duIE9wdXNQYWNrZXRUeXBlOiAiLmNvbmNhdChhKSl9fX0se2tleToiX3BhcnNlRzcxMSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPXRoaXMuYXVkaW9UcmFjayxuPWUuc3ViYXJyYXkoMSk7aWYoIShuLmJ5dGVMZW5ndGg8MSkpe3ZhciBpPW5ldyBGKHQsbik7YS5jb2RlY1R5cGU9Nz09PXI/VDpCLGEuc2FtcGxlUmF0ZT04ZTMsYS5jb2RlYz1hLmNvZGVjVHlwZSxhLnNhbXBsZXMucHVzaChpKX19fSx7a2V5OiJfcGFyc2VBYWMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5hdWRpb1RyYWNrO2lmKHIuY29kZWNUeXBlPUEsMD09PWVbMV0pe3ZhciBhPXVlLnBhcnNlQXVkaW9TcGVjaWZpY0NvbmZpZyhlLnN1YmFycmF5KDIpKTthPyhyLmNvZGVjPWEuY29kZWMsci5jaGFubmVsQ291bnQ9YS5jaGFubmVsQ291bnQsci5zYW1wbGVSYXRlPWEuc2FtcGxlUmF0ZSxyLmNvbmZpZz1hLmNvbmZpZyxyLm9iamVjdFR5cGU9YS5vYmplY3RUeXBlLHIuc2FtcGxlUmF0ZUluZGV4PWEuc2FtcGxpbmdGcmVxdWVuY3lJbmRleCk6KHIucmVzZXQoKSxfZS53YXJuKCJDYW5ub3QgcGFyc2UgQXVkaW9TcGVjaWZpY0NvbmZpZyIsZSkpfWVsc2UgaWYoMT09PWVbMV0pe2lmKG51bGw9PXQpcmV0dXJuO3Iuc2FtcGxlcy5wdXNoKG5ldyBGKHQsZS5zdWJhcnJheSgyKSkpfWVsc2UgX2Uud2FybigiVW5rbm93biBBQUNQYWNrZXRUeXBlOiAiLmNvbmNhdChlWzFdKSl9fSx7a2V5OiJfcGFyc2VWaWRlbyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKCEoZS5sZW5ndGg8Nikpe3ZhciBhPSgyNDAmZVswXSk+Pj40LG49MTUmZVswXSxpPXRoaXMudmlkZW9UcmFjaztpZig3IT09biYmMTIhPT1uKXJldHVybiBpLnJlc2V0KCksdm9pZCBfZS53YXJuKCJVbnN1cHBvcnRlZCBjb2RlY0lkOiAiLmNvbmNhdChuKSk7dmFyIHM9MTI9PT1uO2kuY29kZWNUeXBlPXM/RDpTO3ZhciBvPWVbMV0sdT0oZVsyXTw8MTZ8ZVszXTw8OHxlWzRdKTw8OD4+ODtpZigwPT09byl7dmFyIGM9ZS5zdWJhcnJheSg1KSxsPXM/ZmUucGFyc2VIRVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQoYyk6bGUucGFyc2VBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZChjKTtpZihsKXt2YXIgZj1sLmh2Y0MsZD1sLnNwcyxoPWwucHBzQXJyLHA9bC5zcHNBcnIsdj1sLnZwc0Fycix5PWwubmFsVW5pdFNpemU7ZiYmKGkuaHZjQz1pLmh2Y0N8fGYpLGQmJihpLmNvZGVjPWQuY29kZWMsaS53aWR0aD1kLndpZHRoLGkuaGVpZ2h0PWQuaGVpZ2h0LGkuc2FyUmF0aW89ZC5zYXJSYXRpbyxpLmZwc051bT1kLmZwc051bSxpLmZwc0Rlbj1kLmZwc0RlbikscC5sZW5ndGgmJihpLnNwcz1wKSxoLmxlbmd0aCYmKGkucHBzPWgpLHYmJnYubGVuZ3RoJiYoaS52cHM9dikseSYmKGkubmFsVW5pdFNpemU9eSl9ZWxzZSBfZS53YXJuKCJDYW5ub3QgcGFyc2UgIi5jb25jYXQocz8iSEVWQyI6IkFWQyIsIkRlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkIiksZSl9ZWxzZSBpZigxPT09byl7dmFyIG09Y2UucGFyc2VBdmNDKGUuc3ViYXJyYXkoNSksaS5uYWxVbml0U2l6ZSk7aWYoKG09dGhpcy5fY2hlY2tBZGRNZXRhTmFsVG9Vbml0cyhzLG0saSkpJiZtLmxlbmd0aCl7dmFyIGc9bmV3IFYodCt1LHQsbSk7aWYodGhpcy5zZWFtbGVzc0xvYWRpbmdTd2l0Y2hpbmcmJnQ8aS5sYXN0S2V5RnJhbWVEdHMpcmV0dXJuO3RoaXMuc2VhbWxlc3NMb2FkaW5nU3dpdGNoaW5nPSExLDE9PT1hJiYoZy5zZXRUb0tleWZyYW1lKCksaS5sYXN0S2V5RnJhbWVEdHM9dCksaS5zYW1wbGVzLnB1c2goZyksbS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgYT1zP2VbMF0+Pj4xJjYzOjMxJmVbMF07c3dpdGNoKGEpe2Nhc2UgNTpjYXNlIDE2OmNhc2UgMTc6Y2FzZSAxODpjYXNlIDE5OmNhc2UgMjA6Y2FzZSAyMTpjYXNlIDIyOmNhc2UgMjM6aWYoIXMmJjUhPT1hfHxzJiY1PT09YSlicmVhaztnLnNldFRvS2V5ZnJhbWUoKTticmVhaztjYXNlIDY6Y2FzZSAzOTpjYXNlIDQwOmlmKCFzJiY2IT09YXx8cyYmNj09PWEpYnJlYWs7ci5tZXRhZGF0YVRyYWNrLnNlaVNhbXBsZXMucHVzaChuZXcgRyhjZS5wYXJzZVNFSShjZS5yZW1vdmVFUEIoZSkscyksdCt1KSl9fSkpLGcua2V5ZnJhbWUmJnRoaXMuX2dvcElkKyssZy5nb3BJZD10aGlzLl9nb3BJZH1lbHNlIF9lLndhcm4oIkNhbm5vdCBwYXJzZSBOQUxVcyIsZSl9ZWxzZSAyPT09b3x8X2Uud2FybigiVW5rbm93biBBVkNQYWNrZXRUeXBlOiAiLmNvbmNhdChvKSl9fX0se2tleToiX2NoZWNrQWRkTWV0YU5hbFRvVW5pdHMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZSYmdGhpcy5fbmVlZEFkZE1ldGFCZWZvcmVLZXlGcmFtZU5hbD90Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0+Pj4xJjYzfSkpLmluY2x1ZGVzKDMyKT8odGhpcy5fbmVlZEFkZE1ldGFCZWZvcmVLZXlGcmFtZU5hbD0hMSx0KToodC51bnNoaWZ0KHIucHBzWzBdKSx0LnVuc2hpZnQoci5zcHNbMF0pLHQudW5zaGlmdChyLnZwc1swXSksdC5maWx0ZXIoQm9vbGVhbikpOih0aGlzLl9uZWVkQWRkTWV0YUJlZm9yZUtleUZyYW1lTmFsPSExLHQpfX0se2tleToiX3BhcnNlU2NyaXB0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubWV0YWRhdGFUcmFjay5mbHZTY3JpcHRTYW1wbGVzLnB1c2gobmV3IGooeWUucGFyc2UoZSksdCkpfX1dLFt7a2V5OiJwcm9iZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIDcwPT09ZVswXSYmNzY9PT1lWzFdJiY4Nj09PWVbMl0mJjE9PT1lWzNdJiZyZShlLDUpPj05fX1dKSxlfSgpO2kod2UsIkFVRElPX1JBVEUiLFs1NTAwLDExZTMsMjJlMyw0NGUzXSksbmV3IHEoIlRzRGVtdXhlciIpO3ZhciB4ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxhLG4pe3IodGhpcyxlKSx0aGlzLmR2PW5ldyBEYXRhVmlldyh0KSx0aGlzLnN0YXJ0PXRoaXMub2Zmc2V0PWF8fHRoaXMuZHYuYnl0ZU9mZnNldCx0aGlzLmVuZD1uP3RoaXMuc3RhcnQrbjp0aGlzLnN0YXJ0K3RoaXMuZHYuYnl0ZUxlbmd0aH1yZXR1cm4gbihlLFt7a2V5OiJidWZmZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmR2LmJ1ZmZlcn19LHtrZXk6InVucmVhZExlbmd0aCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMuZW5kLXRoaXMub2Zmc2V0LDApfX0se2tleToic2l6ZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kLXRoaXMuc3RhcnR9fSx7a2V5OiJyZWFkRmxvYXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PTA7c3dpdGNoKGUpe2Nhc2UgNDp0PXRoaXMuZHYuZ2V0RmxvYXQzMih0aGlzLm9mZnNldCk7YnJlYWs7Y2FzZSA4OnQ9dGhpcy5kdi5nZXRGbG9hdDY0KHRoaXMub2Zmc2V0KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigicmVhZCAiLmNvbmNhdChlLCItYnl0ZSBmbG9hdCBpcyBub3Qgc3VwcG9ydGVkIikpfXJldHVybiB0aGlzLm9mZnNldCs9ZSx0fX0se2tleToiYmFjayIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5vZmZzZXQtPWV9fSx7a2V5OiJza2lwIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm9mZnNldCs9ZX19LHtrZXk6InJlYWRJbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub2Zmc2V0O3N3aXRjaCh0aGlzLm9mZnNldCs9ZSxlKXtjYXNlIDE6cmV0dXJuIHRoaXMuZHYuZ2V0SW50OCh0KTtjYXNlIDI6cmV0dXJuIHRoaXMuZHYuZ2V0SW50MTYodCk7Y2FzZSA0OnJldHVybiB0aGlzLmR2LmdldEludDMyKHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJyZWFkICIuY29uY2F0KGUsIi1ieXRlIGludGVnZXJzIGlzIG5vdCBzdXBwb3J0ZWQiKSl9fX0se2tleToicmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vZmZzZXQ7c3dpdGNoKHRoaXMub2Zmc2V0Kz1lLGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5kdi5nZXRVaW50OCh0KTtjYXNlIDI6cmV0dXJuIHRoaXMuZHYuZ2V0VWludDE2KHQpO2Nhc2UgMzpyZXR1cm4odGhpcy5kdi5nZXRVaW50MTYodCk8PDgpK3RoaXMuZHYuZ2V0VWludDgodCsyKTtjYXNlIDQ6cmV0dXJuIHRoaXMuZHYuZ2V0VWludDMyKHQpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuYmFjayhlLTQpLHRoaXMucmVhZChlLTQpK3RoaXMuZHYuZ2V0VWludDMyKHQpKk1hdGgucG93KDI1NixlLTQpfX19LHtrZXk6IndyaXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMub2Zmc2V0O3N3aXRjaCh0aGlzLm9mZnNldCs9ZSxlKXtjYXNlIDE6cmV0dXJuIHRoaXMuZHYuc2V0VWludDgocix0KTtjYXNlIDI6cmV0dXJuIHRoaXMuZHYuc2V0VWludDE2KHIsdCk7Y2FzZSAzOnJldHVybiB0aGlzLmR2LnNldFVpbnQ4KHIsdD4+PjE2KSx0aGlzLmR2LnNldFVpbnQxNihyKzEsNjU1MzUmdCk7Y2FzZSA0OnJldHVybiB0aGlzLmR2LnNldFVpbnQzMihyLHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJ3cml0ZSAiLmNvbmNhdChlLCItYnl0ZSBpbnRlZ2VycyBpcyBub3Qgc3VwcG9ydGVkIikpfX19LHtrZXk6InJlYWRUb0J1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9dGhpcy5vZmZzZXR8fGU/dGhpcy5kdi5idWZmZXIuc2xpY2UodGhpcy5vZmZzZXQsZT90aGlzLm9mZnNldCtlOnRoaXMuZW5kKTp0aGlzLmR2LmJ1ZmZlcix0aGlzLm9mZnNldCs9dC5ieXRlTGVuZ3RoLHR9fSx7a2V5OiJyZWFkVG9VaW50OCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkodGhpcy5kdi5idWZmZXIsdGhpcy5vZmZzZXQsZXx8dGhpcy51bnJlYWRMZW5ndGgpO3JldHVybiB0aGlzLm9mZnNldCs9dC5ieXRlTGVuZ3RoLHR9fSx7a2V5OiJyZWFkU3RyaW5nIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPSIiO3Q8ZTt0Kyspcis9U3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmR2LmdldFVpbnQ4KHRoaXMub2Zmc2V0KSksdGhpcy5vZmZzZXQrKztyZXR1cm4gcn19XSxbe2tleToiZnJvbVVpbnQ4Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCl9fSx7a2V5OiJjb25jYXRVaW50OHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVaW50OEFycmF5KGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QuYnl0ZUxlbmd0aH0pLDApKSxyPTA7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5zZXQoZSxyKSxyKz1lLmJ5dGVMZW5ndGh9KSksdH19LHtrZXk6ImNvbmNhdFVpbnQ4Iix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKXRbcl09YXJndW1lbnRzW3JdO3JldHVybiB0aGlzLmNvbmNhdFVpbnQ4cyh0KX19XSksZX0oKSxTZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxhKXtyKHRoaXMsZSksdGhpcy5vZmZzZXQ9MCx0aGlzLnZhbD10LHRoaXMuc2l6ZT1hfXJldHVybiBuKGUsW3trZXk6InNraXAiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMub2Zmc2V0Kz1lfX0se2tleToicmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zaXplLXRoaXMub2Zmc2V0LWU7aWYodD49MCl7dmFyIHI9MCxhPTA7aWYodGhpcy5vZmZzZXQrPWUsdGhpcy5zaXplPjMxKXtmb3IoO2E8ZTthKyspcis9TWF0aC5wb3coMixhKTtyZXR1cm4gdGhpcy52YWwvTWF0aC5wb3coMix0KSZyfWZvcig7YTxlO2ErKylyKz0xPDxhO3JldHVybiB0aGlzLnZhbD4+PnQmcn10aHJvdyBuZXcgRXJyb3IoInRoZSBudW1iZXIgb2YgdGhlIHJlYWQgb3BlcmF0aW9uIGV4Y2VlZHMgdGhlIHRvdGFsIGxlbmd0aCBsaW1pdCBvZiBiaXRzIil9fV0sW3trZXk6ImZyb21CeXRlIix2YWx1ZTpmdW5jdGlvbih0LHIpe3JldHVybiBuZXcgZSh0LnJlYWQocikscjw8Myl9fV0pLGV9KCksRGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cih0aGlzLGUpfXJldHVybiBuKGUsbnVsbCxbe2tleToiZmluZEJveCIsdmFsdWU6ZnVuY3Rpb24odCxyKXt2YXIgYT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxuPVtdO2lmKCF0KXJldHVybiBuO2Zvcih2YXIgaT0wLHM9IiIsbz0wO3QubGVuZ3RoPjc7KXtpZihpPXJlKHQpLHM9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHQuc3ViYXJyYXkoNCw4KSksbz04LDE9PT1pPyhpPWFlKHQsOCksbys9OCk6aXx8KGk9dC5sZW5ndGgpLCFyWzBdfHxzPT09clswXSl7dmFyIHU9dC5zdWJhcnJheSgwLGkpO2lmKCEoci5sZW5ndGg8MikpcmV0dXJuIGUuZmluZEJveCh1LnN1YmFycmF5KG8pLHIuc2xpY2UoMSksYStvKTtuLnB1c2goe3N0YXJ0OmEsc2l6ZTppLGhlYWRlclNpemU6byx0eXBlOnMsZGF0YTp1fSl9YSs9aSx0PXQuc3ViYXJyYXkoaSl9cmV0dXJuIG59fSx7a2V5OiJ0ZmhkIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXtlLnRyYWNrSWQ9cmUodCk7dmFyIHI9NCxhPTEmZS5mbGFncyxuPTImZS5mbGFncyxpPTgmZS5mbGFncyxzPTE2JmUuZmxhZ3Msbz0zMiZlLmZsYWdzO2EmJihyKz00LGUuYmFzZURhdGFPZmZzZXQ9cmUodCxyKSxyKz00KSxuJiYoZS5zYW1wbGVEZXNjcmlwdGlvbkluZGV4PXJlKHQscikscis9NCksaSYmKGUuZGVmYXVsdFNhbXBsZUR1cmF0aW9uPXJlKHQscikscis9NCkscyYmKGUuZGVmYXVsdFNhbXBsZVNpemU9cmUodCxyKSxyKz00KSxvJiYoZS5kZWZhdWx0U2FtcGxlRmxhZ3M9cmUodCxyKSl9KSl9fSx7a2V5OiJzaWR4Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXt2YXIgcj0wO2UucmVmZXJlbmNlX0lEPXJlKHQscikscis9NCxlLnRpbWVzY2FsZT1yZSh0LHIpLHIrPTQsMD09PWUudmVyc2lvbj8oZS5lYXJsaWVzdF9wcmVzZW50YXRpb25fdGltZT1yZSh0LHIpLHIrPTQsZS5maXJzdF9vZmZzZXQ9cmUodCxyKSxyKz00KTooZS5lYXJsaWVzdF9wcmVzZW50YXRpb25fdGltZT1hZSh0LHIpLHIrPTgsZS5maXJzdF9vZmZzZXQ9YWUodCxyKSxyKz04KSxyKz0yLGUucmVmZXJlbmNlcz1bXTt2YXIgYT10ZSh0LHIpO3IrPTI7Zm9yKHZhciBuPTA7bjxhO24rKyl7dmFyIGk9e307ZS5yZWZlcmVuY2VzLnB1c2goaSk7dmFyIHM9cmUodCxyKTtyKz00LGkucmVmZXJlbmNlX3R5cGU9cz4+MzEmMSxpLnJlZmVyZW5jZWRfc2l6ZT0yMTQ3NDgzNjQ3JnMsaS5zdWJzZWdtZW50X2R1cmF0aW9uPXJlKHQscikscz1yZSh0LHIrPTQpLHIrPTQsaS5zdGFydHNfd2l0aF9TQVA9cz4+MzEmMSxpLlNBUF90eXBlPXM+PjI4JjcsaS5TQVBfZGVsdGFfdGltZT0yNjg0MzU0NTUmc319KSl9fSx7a2V5OiJtb292Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gRWUodCwhMSwoZnVuY3Rpb24odCxyLGEpe3QubXZoZD1lLm12aGQoZS5maW5kQm94KHIsWyJtdmhkIl0sYSlbMF0pLHQudHJhaz1lLmZpbmRCb3gocixbInRyYWsiXSxhKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnRyYWsodCl9KSksdC5wc3NoPWUucHNzaChlLmZpbmRCb3gocixbInBzc2giXSxhKVswXSl9KSl9fSx7a2V5OiJtdmhkIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXt2YXIgcj0wOzE9PT1lLnZlcnNpb24/KGUudGltZXNjYWxlPXJlKHQsMTYpLGUuZHVyYXRpb249YWUodCwyMCkscis9MjgpOihlLnRpbWVzY2FsZT1yZSh0LDgpLGUuZHVyYXRpb249cmUodCwxMikscis9MTYpLGUubmV4dFRyYWNrSWQ9cmUodCxyKzc2KX0pKX19LHtrZXk6InRyYWsiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0LCExLChmdW5jdGlvbih0LHIsYSl7dC50a2hkPWUudGtoZChlLmZpbmRCb3gocixbInRraGQiXSxhKVswXSksdC5tZGlhPWUubWRpYShlLmZpbmRCb3gocixbIm1kaWEiXSxhKVswXSl9KSl9fSx7a2V5OiJ0a2hkIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXt2YXIgcj14ZS5mcm9tVWludDgodCk7MT09PWUudmVyc2lvbj8oci5yZWFkKDgpLHIucmVhZCg4KSxlLnRyYWNrSWQ9ci5yZWFkKDQpLHIucmVhZCg0KSxlLmR1cmF0aW9uPXIucmVhZCg4KSk6KHIucmVhZCg0KSxyLnJlYWQoNCksZS50cmFja0lkPXIucmVhZCg0KSxyLnJlYWQoNCksZS5kdXJhdGlvbj1yLnJlYWQoNCkpLHIuc2tpcCgxNiksZS5tYXRyaXg9W107Zm9yKHZhciBhPTA7YTwzNjthKyspZS5tYXRyaXgucHVzaChyLnJlYWQoMSkpO3IuYmFjaygzNik7Zm9yKHZhciBuLGk9W10scz0wO3M8MztzKyspaS5wdXNoKG9lKHIucmVhZEludCgyKSxyLnJlYWRJbnQoMikpKSxpLnB1c2gob2Uoci5yZWFkSW50KDIpLHIucmVhZEludCgyKSkpLG49ci5yZWFkSW50KDQpLGkucHVzaChvZShuPj4zMCwxMDczNzQxODIzJm4pKTtlLnJvdGF0aW9uPWZ1bmN0aW9uKGUpe2lmKGUubGVuZ3RoPDUpcmV0dXJuIDA7dmFyIHQ9TWF0aC5oeXBvdChlWzBdLGVbM10pLHI9TWF0aC5oeXBvdChlWzFdLGVbNF0pO3JldHVybiAwPT09dHx8MD09PXI/MDoxODAqTWF0aC5hdGFuMihlWzFdL3IsZVswXS90KS9NYXRoLlBJfShpKSxlLndpZHRoPXIucmVhZCg0KSxlLmhlaWdodD1yLnJlYWQoNCl9KSl9fSx7a2V5OiJtZGlhIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gRWUodCwhMSwoZnVuY3Rpb24odCxyLGEpe3QubWRoZD1lLm1kaGQoZS5maW5kQm94KHIsWyJtZGhkIl0sYSlbMF0pLHQuaGRscj1lLmhkbHIoZS5maW5kQm94KHIsWyJoZGxyIl0sYSlbMF0pLHQubWluZj1lLm1pbmYoZS5maW5kQm94KHIsWyJtaW5mIl0sYSlbMF0pfSkpfX0se2tleToibWRoZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7dmFyIHI9MDsxPT09ZS52ZXJzaW9uPyhlLnRpbWVzY2FsZT1yZSh0LDE2KSxlLmR1cmF0aW9uPWFlKHQsMjApLHIrPTI4KTooZS50aW1lc2NhbGU9cmUodCw4KSxlLmR1cmF0aW9uPXJlKHQsMTIpLHIrPTE2KTt2YXIgYT10ZSh0LHIpO2UubGFuZ3VhZ2U9U3RyaW5nLmZyb21DaGFyQ29kZSg5NisoYT4+MTAmMzEpLDk2KyhhPj41JjMxKSw5NisoMzEmYSkpfSkpfX0se2tleToiaGRsciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7MD09PWUudmVyc2lvbiYmKGUuaGFuZGxlclR5cGU9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHQuc3ViYXJyYXkoNCw4KSkpfSkpfX0se2tleToibWluZiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHQsITEsKGZ1bmN0aW9uKHQscixhKXt0LnZtaGQ9ZS52bWhkKGUuZmluZEJveChyLFsidm1oZCJdLGEpWzBdKSx0LnNtaGQ9ZS5zbWhkKGUuZmluZEJveChyLFsic21oZCJdLGEpWzBdKSx0LnN0Ymw9ZS5zdGJsKGUuZmluZEJveChyLFsic3RibCJdLGEpWzBdKX0pKX19LHtrZXk6InZtaGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBFZShlLCEwLChmdW5jdGlvbihlLHQpe2UuZ3JhcGhpY3Ntb2RlPXRlKHQpLGUub3Bjb2xvcj1bdGUodCwyKSx0ZSh0LDQpLHRlKHQsNildfSkpfX0se2tleToic21oZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7ZS5iYWxhbmNlPXRlKHQpfSkpfX0se2tleToic3RibCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHQsITEsKGZ1bmN0aW9uKHQscixhKXt2YXIgbixpLHM7dC5zdHNkPWUuc3RzZChlLmZpbmRCb3gocixbInN0c2QiXSxhKVswXSksdC5zdHRzPWUuc3R0cyhlLmZpbmRCb3gocixbInN0dHMiXSxhKVswXSksdC5jdHRzPWUuY3R0cyhlLmZpbmRCb3gocixbImN0dHMiXSxhKVswXSksdC5zdHNjPWUuc3RzYyhlLmZpbmRCb3gocixbInN0c2MiXSxhKVswXSksdC5zdHN6PWUuc3RzeihlLmZpbmRCb3gocixbInN0c3oiXSxhKVswXSksdC5zdGNvPWUuc3RjbyhlLmZpbmRCb3gocixbInN0Y28iXSxhKVswXSksdC5zdGNvfHwodC5jbzY0PWUuY282NChlLmZpbmRCb3gocixbImNvNjQiXSxhKVswXSksdC5zdGNvPXQuY282NCk7dmFyIG89bnVsbD09PShuPXQuc3RzZC5lbnRyaWVzWzBdKXx8dm9pZCAwPT09bnx8bnVsbD09PShpPW4uc2luZil8fHZvaWQgMD09PWl8fG51bGw9PT0ocz1pLnNjaGkpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnRlbmMuZGVmYXVsdF9JVl9zaXplO3Quc3Rzcz1lLnN0c3MoZS5maW5kQm94KHIsWyJzdHNzIl0sYSlbMF0pLHQuc2VuYz1lLnNlbmMoZS5maW5kQm94KHIsWyJzZW5jIl0sYSlbMF0sbyl9KSl9fSx7a2V5OiJzZW5jIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ODtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSxyKXt2YXIgYT0wLG49cmUocixhKTthKz00LGUuc2FtcGxlcz1bXTtmb3IodmFyIGk9MDtpPG47aSsrKXtmb3IodmFyIHM9e0luaXRpYWxpemF0aW9uVmVjdG9yOltdfSxvPTA7bzx0O28rKylzLkluaXRpYWxpemF0aW9uVmVjdG9yW29dPXJbYStvXTtpZihhKz10LDImZS5mbGFncyl7cy5zdWJzYW1wbGVzPVtdO3ZhciB1PXRlKHIsYSk7YSs9Mjtmb3IodmFyIGM9MDtjPHU7YysrKXt2YXIgbD17fTtsLkJ5dGVzT2ZDbGVhckRhdGE9dGUocixhKSxhKz0yLGwuQnl0ZXNPZlByb3RlY3RlZERhdGE9cmUocixhKSxhKz00LHMuc3Vic2FtcGxlcy5wdXNoKGwpfX1lLnNhbXBsZXMucHVzaChzKX19KSl9fSx7a2V5OiJwc3NoIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10sYT1bXSxuPTAsaT0wO2k8MTY7aSsrKWEucHVzaChDZSh0W24raV0pKTtpZihuKz0xNixlLnZlcnNpb24+MCl7dmFyIHM9cmUodCxuKTtuKz00O2Zvcih2YXIgbz0wO288KCIiK3MpLmxlbmd0aDtvKyspZm9yKHZhciB1PTA7dTwxNjt1Kyspe3ZhciBjPXRbbl07bis9MSxyLnB1c2goQ2UoYykpfX12YXIgbD1yZSh0LG4pO2UuZGF0YV9zaXplPWwsbis9NCxlLmtpZD1yLGUuc3lzdGVtX2lkPWEsZS5idWZmZXI9dH0pKX19LHtrZXk6InN0c2QiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0LCEwLChmdW5jdGlvbih0LHIsYSl7dC5lbnRyeUNvdW50PXJlKHIpLHQuZW50cmllcz1lLmZpbmRCb3goci5zdWJhcnJheSg0KSxbXSxhKzQpLm1hcCgoZnVuY3Rpb24odCl7c3dpdGNoKHQudHlwZSl7Y2FzZSJhdjAxIjpyZXR1cm4gZS5hdjAxKHQpO2Nhc2UiYXZjMSI6Y2FzZSJhdmMyIjpjYXNlImF2YzMiOmNhc2UiYXZjNCI6cmV0dXJuIGUuYXZjMSh0KTtjYXNlImh2YzEiOmNhc2UiaGV2MSI6cmV0dXJuIGUuaHZjMSh0KTtjYXNlIm1wNGEiOnJldHVybiBlLm1wNGEodCk7Y2FzZSJhbGF3IjpjYXNlInVsYXciOnJldHVybiBlLmFsYXcodCk7Y2FzZSJlbmNhIjpyZXR1cm4gRWUodCwhMSwoZnVuY3Rpb24odCxyLGEpe3QuY2hhbm5lbENvdW50PXRlKHIsMTYpLHQuc2FtcGxlc2l6ZT10ZShyLDE4KSx0LnNhbXBsZVJhdGU9cmUociwyNCkvNjU1MzYscj1yLnN1YmFycmF5KDI4KSx0LnNpbmY9ZS5zaW5mKGUuZmluZEJveChyLFsic2luZiJdLGEpWzBdKSx0LmVzZHM9ZS5lc2RzKGUuZmluZEJveChyLFsiZXNkcyJdLGEpWzBdKX0pKTtjYXNlImVuY3YiOnJldHVybiBFZSh0LCExLChmdW5jdGlvbih0LHIsYSl7dC53aWR0aD10ZShyLDI0KSx0LmhlaWdodD10ZShyLDI2KSx0Lmhvcml6cmVzb2x1dGlvbj1yZShyLDI4KSx0LnZlcnRyZXNvbHV0aW9uPXJlKHIsMzIpLHI9ci5zdWJhcnJheSg3OCksdC5zaW5mPWUuc2luZihlLmZpbmRCb3gocixbInNpbmYiXSxhKVswXSksdC5hdmNDPWUuYXZjQyhlLmZpbmRCb3gocixbImF2Y0MiXSxhKVswXSksdC5odmNDPWUuaHZjQyhlLmZpbmRCb3gocixbImh2Y0MiXSxhKVswXSksdC5wYXNwPWUucGFzcChlLmZpbmRCb3gocixbInBhc3AiXSxhKVswXSl9KSl9fSkpLmZpbHRlcihCb29sZWFuKX0pKX19LHtrZXk6InRlbmMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBFZShlLCExLChmdW5jdGlvbihlLHQpe3ZhciByPTY7ZS5kZWZhdWx0X0lzRW5jcnlwdGVkPXRbcl0scis9MSxlLmRlZmF1bHRfSVZfc2l6ZT10W3JdLHIrPTEsZS5kZWZhdWx0X0tJRD1bXTtmb3IodmFyIGE9MDthPDE2O2ErKyllLmRlZmF1bHRfS0lELnB1c2goQ2UodFtyXSkpLHIrPTF9KSl9fSx7a2V5OiJzY2hpIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gRWUodCwhMSwoZnVuY3Rpb24odCxyLGEpe3QudGVuYz1lLnRlbmMoZS5maW5kQm94KHIsWyJ0ZW5jIl0sYSlbMF0pfSkpfX0se2tleToic2luZiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHQsITEsKGZ1bmN0aW9uKHQscixhKXt0LnNjaGk9ZS5zY2hpKGUuZmluZEJveChyLFsic2NoaSJdLGEpWzBdKSx0LmZybWE9ZS5mcm1hKGUuZmluZEJveChyLFsiZnJtYSJdLGEpWzBdKX0pKX19LHtrZXk6ImZybWEiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBFZShlLCExLChmdW5jdGlvbihlLHQpe2UuZGF0YV9mb3JtYXQ9IiI7Zm9yKHZhciByPTA7cjw0O3IrKyllLmRhdGFfZm9ybWF0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbcl0pfSkpfX0se2tleToiY29sciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITEsKGZ1bmN0aW9uKHQscil7dmFyIGE9eGUuZnJvbVVpbnQ4KHIpO3QuZGF0YT1lLmRhdGEsdC5jb2xvclR5cGU9YS5yZWFkU3RyaW5nKDQpLCJuY2x4Ij09PXQuY29sb3JUeXBlPyh0LmNvbG9yUHJpbWFyaWVzPWEucmVhZCgyKSx0LnRyYW5zZmVyQ2hhcmFjdGVyaXN0aWNzPWEucmVhZCgyKSx0Lm1hdHJpeENvZWZmaWNpZW50cz1hLnJlYWQoMiksdC5mdWxsUmFuZ2VGbGFnPWEucmVhZCgxKT4+Nyk6InJJQ0MiIT09dC5jb2xvclR5cGUmJiJwcm9mIiE9PXQuY29sb3JUeXBlfHwodC5pY2NQcm9maWxlPXIucmVhZFRvVWludDgoKSl9KSl9fSx7a2V5OiJhdjAxIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gRWUodCwhMSwoZnVuY3Rpb24odCxyLGEpe3ZhciBuPVRlKHQsciksaT1yLnN1YmFycmF5KG4pO2ErPW4sdC5hdjFDPWUuYXYxQyhlLmZpbmRCb3goaSxbImF2MUMiXSxhKVswXSksdC5jb2xyPWUuY29scihlLmZpbmRCb3goaSxbImNvbHIiXSxhKVswXSl9KSl9fSx7a2V5OiJhdjFDIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMSwoZnVuY3Rpb24odCxyKXt0LmRhdGE9ZS5kYXRhO3ZhciBhLG49eGUuZnJvbVVpbnQ4KHIpLGk9U2UuZnJvbUJ5dGUobiw0KTt0Lm1hcmtlcj1pLnJlYWQoMSksdC52ZXJzaW9uPWkucmVhZCg3KSx0LnNlcVByb2ZpbGU9aS5yZWFkKDMpLHQuc2VxTGV2ZWxJZHgwPWkucmVhZCg1KSx0LnNlcVRpZXIwPWkucmVhZCgxKSx0LmhpZ2hCaXRkZXB0aD1pLnJlYWQoMSksdC50d2VsdmVCaXQ9aS5yZWFkKDEpLHQubW9ub2Nocm9tZT1pLnJlYWQoMSksdC5jaHJvbWFTdWJzYW1wbGluZ1g9aS5yZWFkKDEpLHQuY2hyb21hU3Vic2FtcGxpbmdZPWkucmVhZCgxKSx0LmNocm9tYVNhbXBsZVBvc2l0aW9uPWkucmVhZCgyKSx0LnJlc2VydmVkPWkucmVhZCgzKSx0LmluaXRpYWxQcmVzZW50YXRpb25EZWxheVByZXNlbnQ9aS5yZWFkKDEpLHQuaW5pdGlhbFByZXNlbnRhdGlvbkRlbGF5UHJlc2VudD90LmluaXRpYWxQcmVzZW50YXRpb25EZWxheU1pbnVzT25lPWkucmVhZCg0KTp0LmluaXRpYWxQcmVzZW50YXRpb25EZWxheU1pbnVzT25lPTAsdC5jb25maWdPQlVzPW4ucmVhZFRvVWludDgoKSwyPT09dC5zZXFMZXZlbElkeDAmJjE9PT10LmhpZ2hCaXRkZXB0aD9hPTE9PT10LnR3ZWx2ZUJpdD8iMTIiOiIxMCI6dC5zZXFQcm9maWxlPD0yJiYoYT0xPT09dC5oaWdoQml0ZGVwdGg/IjEwIjoiMDgiKSx0LmNvZGVjPVsiYXYwMSIsdC5zZXFQcm9maWxlLCh0LnNlcUxldmVsSWR4MDwxMD8iMCIrdC5zZXFMZXZlbElkeDA6dC5zZXFMZXZlbElkeDApKyh0LnNlcVRpZXIwPyJIIjoiTSIpLGFdLmpvaW4oIi4iKX0pKX19LHtrZXk6ImF2YzEiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0LCExLChmdW5jdGlvbih0LHIsYSl7dmFyIG49VGUodCxyKSxpPXIuc3ViYXJyYXkobik7YSs9bix0LmF2Y0M9ZS5hdmNDKGUuZmluZEJveChpLFsiYXZjQyJdLGEpWzBdKSx0LnBhc3A9ZS5wYXNwKGUuZmluZEJveChpLFsicGFzcCJdLGEpWzBdKX0pKX19LHtrZXk6ImF2Y0MiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBFZShlLCExLChmdW5jdGlvbih0LHIpe3QuZGF0YT1lLmRhdGEsdC5jb25maWd1cmF0aW9uVmVyc2lvbj1yWzBdLHQuQVZDUHJvZmlsZUluZGljYXRpb249clsxXSx0LnByb2ZpbGVDb21wYXRpYmlsaXR5PXJbMl0sdC5BVkNMZXZlbEluZGljYXRpb249clszXSx0LmNvZGVjPW5lKFtyWzFdLHJbMl0sclszXV0pLHQubGVuZ3RoU2l6ZU1pbnVzT25lPTMmcls0XSx0LnNwc0xlbmd0aD0zMSZyWzVdLHQuc3BzPVtdO2Zvcih2YXIgYT02LG49MDtuPHQuc3BzTGVuZ3RoO24rKyl7dmFyIGk9dGUocixhKTthKz0yLHQuc3BzLnB1c2goci5zdWJhcnJheShhLGEraSkpLGErPWl9dC5wcHNMZW5ndGg9clthXSxhKz0xLHQucHBzPVtdO2Zvcih2YXIgcz0wO3M8dC5wcHNMZW5ndGg7cysrKXt2YXIgbz10ZShyLGEpO2ErPTIsdC5wcHMucHVzaChyLnN1YmFycmF5KGEsYSs9bykpLGErPW99fSkpfX0se2tleToiaHZjMSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHQsITEsKGZ1bmN0aW9uKHQscixhKXt2YXIgbj1UZSh0LHIpLGk9ci5zdWJhcnJheShuKTthKz1uLHQuaHZjQz1lLmh2Y0MoZS5maW5kQm94KGksWyJodmNDIl0sYSlbMF0pLHQucGFzcD1lLnBhc3AoZS5maW5kQm94KGksWyJwYXNwIl0sYSlbMF0pfSkpfX0se2tleToiaHZjQyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITEsKGZ1bmN0aW9uKHQscil7dC5kYXRhPWUuZGF0YSx0LmNvZGVjPSJoZXYxLjEuNi5MOTMuQjAiLHQuY29uZmlndXJhdGlvblZlcnNpb249clswXTt2YXIgYT1yWzFdO3QuZ2VuZXJhbFByb2ZpbGVTcGFjZT1hPj42LHQuZ2VuZXJhbFRpZXJGbGFnPSgzMiZhKT4+NSx0LmdlbmVyYWxQcm9maWxlSWRjPTMxJmEsdC5nZW5lcmFsUHJvZmlsZUNvbXBhdGliaWxpdHk9cmUociwyKSx0LmdlbmVyYWxDb25zdHJhaW50SW5kaWNhdG9yRmxhZ3M9ci5zdWJhcnJheSg2LDEyKSx0LmdlbmVyYWxMZXZlbElkYz1yWzEyXSx0LmF2Z0ZyYW1lUmF0ZT10ZShyLDE5KSx0Lm51bU9mQXJyYXlzPXJbMjJdLHQudnBzPVtdLHQuc3BzPVtdLHQucHBzPVtdO2Zvcih2YXIgbj0yMyxpPTAscz0wLG89MCx1PTA7dTx0Lm51bU9mQXJyYXlzO3UrKyl7aT02MyZyW25dLHM9dGUocixuKzEpLG4rPTM7Zm9yKHZhciBjLGw9W10sZj0wO2Y8cztmKyspbz10ZShyLG4pLG4rPTIsbC5wdXNoKHIuc3ViYXJyYXkobixuK28pKSxuKz1vO2lmKDMyPT09aSkoYz10LnZwcykucHVzaC5hcHBseShjLGwpO2Vsc2UgaWYoMzM9PT1pKXt2YXIgZDsoZD10LnNwcykucHVzaC5hcHBseShkLGwpfWVsc2UgaWYoMzQ9PT1pKXt2YXIgaDsoaD10LnBwcykucHVzaC5hcHBseShoLGwpfX19KSl9fSx7a2V5OiJwYXNwIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMSwoZnVuY3Rpb24oZSx0KXtlLmhTcGFjaW5nPXJlKHQpLGUudlNwYWNpbmc9cmUodCw0KX0pKX19LHtrZXk6Im1wNGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0LCExLChmdW5jdGlvbih0LHIsYSl7dmFyIG49QmUodCxyKTt0LmVzZHM9ZS5lc2RzKGUuZmluZEJveChyLnN1YmFycmF5KG4pLFsiZXNkcyJdLGErbilbMF0pfSkpfX0se2tleToiZXNkcyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7ZS5jb2RlYz0ibXA0YS4iO2Zvcih2YXIgcj0wLGE9MCxuPTAsaT0wO3QubGVuZ3RoOyl7Zm9yKGk9dFtyPTBdLGE9dFtyKzFdLHIrPTI7MTI4JmE7KW49KDEyNyZhKTw8NyxhPXRbcl0scis9MTtpZihuKz0xMjcmYSwzPT09aSl0PXQuc3ViYXJyYXkociszKTtlbHNle2lmKDQhPT1pKXtpZig1PT09aSl7dmFyIHM9ZS5jb25maWc9dC5zdWJhcnJheShyLHIrbiksbz0oMjQ4JnNbMF0pPj4zO3JldHVybiAzMT09PW8mJnMubGVuZ3RoPj0yJiYobz0zMisoKDcmc1swXSk8PDMpKygoMjI0JnNbMV0pPj41KSksZS5vYmplY3RUeXBlPW8sZS5jb2RlYys9by50b1N0cmluZygxNiksdm9pZCgiLiI9PT1lLmNvZGVjW2UuY29kZWMubGVuZ3RoLTFdJiYoZS5jb2RlYz1lLmNvZGVjLnN1YnN0cmluZygwLGUuY29kZWMubGVuZ3RoLTEpKSl9cmV0dXJuIHZvaWQoIi4iPT09ZS5jb2RlY1tlLmNvZGVjLmxlbmd0aC0xXSYmKGUuY29kZWM9ZS5jb2RlYy5zdWJzdHJpbmcoMCxlLmNvZGVjLmxlbmd0aC0xKSkpfWUuY29kZWMrPSh0W3JdLnRvU3RyaW5nKDE2KSsiLiIpLnBhZFN0YXJ0KDMsIjAiKSx0PXQuc3ViYXJyYXkocisxMyl9fX0pKX19LHtrZXk6ImFsYXciLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBFZShlLCExLChmdW5jdGlvbihlLHQpe0JlKGUsdCl9KSl9fSx7a2V5OiJzdHRzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9cmUodCksYT1bXSxuPTQsaT0wO2k8cjtpKyspYS5wdXNoKHtjb3VudDpyZSh0LG4pLGRlbHRhOnJlKHQsbis0KX0pLG4rPTg7ZS5lbnRyeUNvdW50PXIsZS5lbnRyaWVzPWF9KSl9fSx7a2V5OiJjdHRzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXt2YXIgcj1yZSh0KSxhPVtdLG49NDtpZigxPT09ZS52ZXJzaW9uKWZvcih2YXIgaT0wO2k8cjtpKyspYS5wdXNoKHtjb3VudDpyZSh0LG4pLG9mZnNldDpyZSh0LG4rNCl9KSxuKz04O2Vsc2UgZm9yKHZhciBzPTA7czxyO3MrKylhLnB1c2goe2NvdW50OnJlKHQsbiksb2Zmc2V0Oi0oMSt+cmUodCxuKzQpKX0pLG4rPTg7ZS5lbnRyeUNvdW50PXIsZS5lbnRyaWVzPWF9KSl9fSx7a2V5OiJzdHNjIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9cmUodCksYT1bXSxuPTQsaT0wO2k8cjtpKyspYS5wdXNoKHtmaXJzdENodW5rOnJlKHQsbiksc2FtcGxlc1BlckNodW5rOnJlKHQsbis0KSxzYW1wbGVEZXNjcmlwdGlvbkluZGV4OnJlKHQsbis4KX0pLG4rPTEyO2UuZW50cnlDb3VudD1yLGUuZW50cmllcz1hfSkpfX0se2tleToic3RzeiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7dmFyIHI9cmUodCksYT1yZSh0LDQpLG49W107aWYoIXIpZm9yKHZhciBpPTgscz0wO3M8YTtzKyspbi5wdXNoKHJlKHQsaSkpLGkrPTQ7ZS5zYW1wbGVTaXplPXIsZS5zYW1wbGVDb3VudD1hLGUuZW50cnlTaXplcz1ufSkpfX0se2tleToic3RjbyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXJlKHQpLGE9W10sbj00LGk9MDtpPHI7aSsrKWEucHVzaChyZSh0LG4pKSxuKz00O2UuZW50cnlDb3VudD1yLGUuZW50cmllcz1hfSkpfX0se2tleToiY282NCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXJlKHQpLGE9W10sbj00LGk9MDtpPHI7aSsrKWEucHVzaChhZSh0LG4pKSxuKz04O2UuZW50cnlDb3VudD1yLGUuZW50cmllcz1hfSkpfX0se2tleToic3RzcyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXJlKHQpLGE9W10sbj00LGk9MDtpPHI7aSsrKWEucHVzaChyZSh0LG4pKSxuKz00O2UuZW50cnlDb3VudD1yLGUuZW50cmllcz1hfSkpfX0se2tleToibW9vZiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHQsITEsKGZ1bmN0aW9uKHQscixhKXt0Lm1maGQ9ZS5tZmhkKGUuZmluZEJveChyLFsibWZoZCJdLGEpWzBdKSx0LnRyYWY9ZS5maW5kQm94KHIsWyJ0cmFmIl0sYSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS50cmFmKHQpfSkpfSkpfX0se2tleToibWZoZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7ZS5zZXF1ZW5jZU51bWJlcj1yZSh0KX0pKX19LHtrZXk6InRyYWYiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0LCExLChmdW5jdGlvbih0LHIsYSl7dC50ZmhkPWUudGZoZChlLmZpbmRCb3gocixbInRmaGQiXSxhKVswXSksdC50ZmR0PWUudGZkdChlLmZpbmRCb3gocixbInRmZHQiXSxhKVswXSksdC50cnVuPWUudHJ1bihlLmZpbmRCb3gocixbInRydW4iXSxhKVswXSl9KSl9fSx7a2V5OiJ0cnVuIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoZSwhMCwoZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnZlcnNpb24sYT1lLmZsYWdzLG49dC5sZW5ndGgsaT1lLnNhbXBsZUNvdW50PXJlKHQpLHM9NDtpZihuPnMmJjEmYSYmKGUuZGF0YU9mZnNldD0tKDErfnJlKHQscykpLHMrPTQpLG4+cyYmNCZhJiYoZS5maXJzdFNhbXBsZUZsYWdzPXJlKHQscykscys9NCksZS5zYW1wbGVzPVtdLG4+cylmb3IodmFyIG8sdT0wO3U8aTt1Kyspbz17fSwyNTYmYSYmKG8uZHVyYXRpb249cmUodCxzKSxzKz00KSw1MTImYSYmKG8uc2l6ZT1yZSh0LHMpLHMrPTQpLDEwMjQmYSYmKG8uZmxhZ3M9cmUodCxzKSxzKz00KSwyMDQ4JmEmJihvLmN0cz1yPy0oMSt+cmUodCxzKzQpKTpyZSh0LHMpLHMrPTQpLGUuc2FtcGxlcy5wdXNoKG8pfSkpfX0se2tleToidGZkdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKGUsITAsKGZ1bmN0aW9uKGUsdCl7MT09PWUudmVyc2lvbj9lLmJhc2VNZWRpYURlY29kZVRpbWU9YWUodCk6ZS5iYXNlTWVkaWFEZWNvZGVUaW1lPXJlKHQpfSkpfX0se2tleToicHJvYmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiEhZS5maW5kQm94KHQsWyJmdHlwIl0pfX0se2tleToicGFyc2VTYW1wbGVGbGFncyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJue2lzTGVhZGluZzooMTImZVswXSk+Pj4yLGRlcGVuZHNPbjozJmVbMF0saXNEZXBlbmRlZE9uOigxOTImZVsxXSk+Pj42LGhhc1JlZHVuZGFuY3k6KDQ4JmVbMV0pPj4+NCxwYWRkaW5nVmFsdWU6KDE0JmVbMV0pPj4+MSxpc05vblN5bmNTYW1wbGU6MSZlWzFdLGRlZ3JhZGF0aW9uUHJpb3JpdHk6ZVsyXTw8OHxlWzNdfX19LHtrZXk6Im1vb3ZUb1RyYWNrIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIGEsbixpPWUudHJhaztpZihpJiZpLmxlbmd0aCl7dmFyIHM9aS5maW5kKChmdW5jdGlvbihlKXt2YXIgdCxyO3JldHVybiJ2aWRlIj09PShudWxsPT09KHQ9ZS5tZGlhKXx8dm9pZCAwPT09dHx8bnVsbD09PShyPXQuaGRscil8fHZvaWQgMD09PXI/dm9pZCAwOnIuaGFuZGxlclR5cGUpfSkpLG89aS5maW5kKChmdW5jdGlvbihlKXt2YXIgdCxyO3JldHVybiJzb3VuIj09PShudWxsPT09KHQ9ZS5tZGlhKXx8dm9pZCAwPT09dHx8bnVsbD09PShyPXQuaGRscil8fHZvaWQgMD09PXI/dm9pZCAwOnIuaGFuZGxlclR5cGUpfSkpO2lmKHMmJnQpe3ZhciB1LGMsbCxmLGQsaCxwLHY9dCx5PW51bGw9PT0odT1zLnRraGQpfHx2b2lkIDA9PT11P3ZvaWQgMDp1LnRyYWNrSWQ7bnVsbCE9eSYmKHYuaWQ9cy50a2hkLnRyYWNrSWQpLHYudGtoZER1cmF0aW9uPXMudGtoZC5kdXJhdGlvbix2Lm12aGREdXJ0aW9uPWUubXZoZC5kdXJhdGlvbix2Lm12aGRUaW1lY2FsZT1lLm12aGQudGltZXNjYWxlLHYudGltZXNjYWxlPXYuZm9ybWF0VGltZXNjYWxlPXMubWRpYS5tZGhkLnRpbWVzY2FsZSx2LmR1cmF0aW9uPXMubWRpYS5tZGhkLmR1cmF0aW9ufHx2Lm12aGREdXJ0aW9uL3YubXZoZFRpbWVjYWxlKnYudGltZXNjYWxlLHYucm90YXRpb249cy50a2hkLnJvdGF0aW9uLHYubWF0cml4PXMudGtoZC5tYXRyaXg7dmFyIG0sZyxrLGIsXyx3LFMsQSxFPXMubWRpYS5taW5mLnN0Ymwuc3RzZC5lbnRyaWVzWzBdO2lmKHYud2lkdGg9RS53aWR0aCx2LmhlaWdodD1FLmhlaWdodCxFLnBhc3AmJih2LnNhclJhdGlvPVtFLnBhc3AuaFNwYWNpbmcsRS5wYXNwLnZTcGFjaW5nXSksRS5hdjFDKXYuY29kZWNUeXBlPXgsdi5jb2RlYz1FLmF2MUMuY29kZWMsdi5hdjFDPUUuYXYxQy5kYXRhLEUuY29sciYmKHYuY29scj1FLmNvbHIuZGF0YSk7ZWxzZSBpZihFLmh2Y0Mpdi5jb2RlY1R5cGU9RCx2LmNvZGVjPUUuaHZjQy5jb2RlYyx2LnZwcz1FLmh2Y0MudnBzLHYuc3BzPUUuaHZjQy5zcHMsdi5wcHM9RS5odmNDLnBwcyx2Lmh2Y0M9RS5odmNDLmRhdGE7ZWxzZXtpZighRS5hdmNDKXRocm93IG5ldyBFcnJvcigidW5rbm93biB2aWRlbyBzdHNkIGVudHJ5Iik7di5jb2RlYz1FLmF2Y0MuY29kZWMsdi5zcHM9RS5hdmNDLnNwcyx2LnBwcz1FLmF2Y0MucHBzfWlmKHYucHJlc2VudD0hMCx2LmV4dD17fSx2LmV4dC5zdHNzPW51bGw9PT0oYz1zLm1kaWEpfHx2b2lkIDA9PT1jfHxudWxsPT09KGw9Yy5taW5mKXx8dm9pZCAwPT09bHx8bnVsbD09PShmPWwuc3RibCl8fHZvaWQgMD09PWY/dm9pZCAwOmYuc3Rzcyx2LmV4dC5jdHRzPW51bGw9PT0oZD1zLm1kaWEpfHx2b2lkIDA9PT1kfHxudWxsPT09KGg9ZC5taW5mKXx8dm9pZCAwPT09aHx8bnVsbD09PShwPWguc3RibCl8fHZvaWQgMD09PXA/dm9pZCAwOnAuY3R0cyxFJiYiZW5jdiI9PT1FLnR5cGUpdi5pc1ZpZGVvRW5jcnlwdGlvbj0hMCxFLmRlZmF1bHRfS0lEPW51bGw9PT0obT1FLnNpbmYpfHx2b2lkIDA9PT1tfHxudWxsPT09KGc9bS5zY2hpKXx8dm9pZCAwPT09Zz92b2lkIDA6Zy50ZW5jLmRlZmF1bHRfS0lELEUuZGVmYXVsdF9Jc0VuY3J5cHRlZD1udWxsPT09KGs9RS5zaW5mKXx8dm9pZCAwPT09a3x8bnVsbD09PShiPWsuc2NoaSl8fHZvaWQgMD09PWI/dm9pZCAwOmIudGVuYy5kZWZhdWx0X0lzRW5jcnlwdGVkLEUuZGVmYXVsdF9JVl9zaXplPW51bGw9PT0oXz1FLnNpbmYpfHx2b2lkIDA9PT1ffHxudWxsPT09KHc9Xy5zY2hpKXx8dm9pZCAwPT09dz92b2lkIDA6dy50ZW5jLmRlZmF1bHRfSVZfc2l6ZSx2LnZpZGVvU2VuYz1zLm1kaWEubWluZi5zdGJsLnNlbmMmJnMubWRpYS5taW5mLnN0Ymwuc2VuYy5zYW1wbGVzLEUuZGF0YV9mb3JtYXQ9bnVsbD09PShTPUUuc2luZil8fHZvaWQgMD09PVN8fG51bGw9PT0oQT1TLmZybWEpfHx2b2lkIDA9PT1BP3ZvaWQgMDpBLmRhdGFfZm9ybWF0LHYudXNlRU1FPWUudXNlRU1FLHYua2lkVmFsdWU9ZS5raWRWYWx1ZSx2LnBzc2g9ZS5wc3NoLHYuZW5jdj1FfWlmKG8mJnIpe3ZhciBVLEMsUCxJLE0seixPLFIsTCxWPXIsRj1udWxsPT09KFU9by50a2hkKXx8dm9pZCAwPT09VT92b2lkIDA6VS50cmFja0lkO251bGwhPUYmJihWLmlkPW8udGtoZC50cmFja0lkKSxWLnRraGREdXJhdGlvbj1vLnRraGQuZHVyYXRpb24sVi5tdmhkRHVydGlvbj1lLm12aGQuZHVyYXRpb24sVi5tdmhkVGltZWNhbGU9ZS5tdmhkLnRpbWVzY2FsZSxWLnRpbWVzY2FsZT1WLmZvcm1hdFRpbWVzY2FsZT1vLm1kaWEubWRoZC50aW1lc2NhbGUsVi5kdXJhdGlvbj1vLm1kaWEubWRoZC5kdXJhdGlvbnx8Vi5tdmhkRHVydGlvbi9WLm12aGRUaW1lY2FsZSpWLnRpbWVzY2FsZTt2YXIgTixqLEcsSCxLLHEsVyxYLFk9by5tZGlhLm1pbmYuc3RibC5zdHNkLmVudHJpZXNbMF07c3dpdGNoKFYuc2FtcGxlU2l6ZT1ZLnNhbXBsZVNpemUsVi5zYW1wbGVSYXRlPVkuc2FtcGxlUmF0ZSxWLmNoYW5uZWxDb3VudD1ZLmNoYW5uZWxDb3VudCxWLnByZXNlbnQ9ITAsWS50eXBlKXtjYXNlImFsYXciOlYuY29kZWNUeXBlPVYuY29kZWM9VCxWLnNhbXBsZVJhdGU9OGUzO2JyZWFrO2Nhc2UidWxhdyI6Vi5jb2RlY1R5cGU9Vi5jb2RlYz1CLFYuc2FtcGxlUmF0ZT04ZTM7YnJlYWs7ZGVmYXVsdDpWLnNhbXBsZUR1cmF0aW9uPXVlLmdldEZyYW1lRHVyYXRpb24oVi5zYW1wbGVSYXRlLFYudGltZXNjYWxlKSxWLnNhbXBsZVJhdGVJbmRleD11ZS5nZXRSYXRlSW5kZXhCeVJhdGUoVi5zYW1wbGVSYXRlKSxWLm9iamVjdFR5cGU9KG51bGw9PT0oYT1ZLmVzZHMpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLm9iamVjdFR5cGUpfHwyLFkuZXNkcyYmKFYuY29uZmlnPUFycmF5LmZyb20oWS5lc2RzLmNvbmZpZykpLFYuY29kZWM9KG51bGw9PT0obj1ZLmVzZHMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmNvZGVjKXx8Im1wNGEuNDAuMiJ9aWYoVi5zYW1wbGVEdXJhdGlvbj11ZS5nZXRGcmFtZUR1cmF0aW9uKFYuc2FtcGxlUmF0ZSxWLnRpbWVzY2FsZSksVi5vYmplY3RUeXBlPShudWxsPT09KEM9WS5lc2RzKXx8dm9pZCAwPT09Qz92b2lkIDA6Qy5vYmplY3RUeXBlKXx8MixZLmVzZHMmJihZLmVzZHMuY29uZmlnP1YuY29uZmlnPUFycmF5LmZyb20oWS5lc2RzLmNvbmZpZyk6Y29uc29sZS53YXJuKCJlc2RzIGNvbmZpZyBpcyBudWxsIikpLFYuY29kZWM9KG51bGw9PT0oUD1ZLmVzZHMpfHx2b2lkIDA9PT1QP3ZvaWQgMDpQLmNvZGVjKXx8Im1wNGEuNDAuMiIsVi5zYW1wbGVSYXRlSW5kZXg9dWUuZ2V0UmF0ZUluZGV4QnlSYXRlKFYuc2FtcGxlUmF0ZSksVi5leHQ9e30sVi5leHQuc3Rzcz1udWxsPT09KEk9by5tZGlhKXx8dm9pZCAwPT09SXx8bnVsbD09PShNPUkubWluZil8fHZvaWQgMD09PU18fG51bGw9PT0oej1NLnN0YmwpfHx2b2lkIDA9PT16P3ZvaWQgMDp6LnN0c3MsVi5leHQuY3R0cz1udWxsPT09KE89by5tZGlhKXx8dm9pZCAwPT09T3x8bnVsbD09PShSPU8ubWluZil8fHZvaWQgMD09PVJ8fG51bGw9PT0oTD1SLnN0YmwpfHx2b2lkIDA9PT1MP3ZvaWQgMDpMLmN0dHMsVi5wcmVzZW50PSEwLFkmJiJlbmNhIj09PVkudHlwZSlWLmlzQXVkaW9FbmNyeXB0aW9uPSEwLFkuZGF0YV9mb3JtYXQ9bnVsbD09PShOPVkuc2luZil8fHZvaWQgMD09PU58fG51bGw9PT0oaj1OLmZybWEpfHx2b2lkIDA9PT1qP3ZvaWQgMDpqLmRhdGFfZm9ybWF0LFkuZGVmYXVsdF9LSUQ9bnVsbD09PShHPVkuc2luZil8fHZvaWQgMD09PUd8fG51bGw9PT0oSD1HLnNjaGkpfHx2b2lkIDA9PT1IP3ZvaWQgMDpILnRlbmMuZGVmYXVsdF9LSUQsWS5kZWZhdWx0X0lzRW5jcnlwdGVkPW51bGw9PT0oSz1ZLnNpbmYpfHx2b2lkIDA9PT1LfHxudWxsPT09KHE9Sy5zY2hpKXx8dm9pZCAwPT09cT92b2lkIDA6cS50ZW5jLmRlZmF1bHRfSXNFbmNyeXB0ZWQsWS5kZWZhdWx0X0lWX3NpemU9bnVsbD09PShXPVkuc2luZil8fHZvaWQgMD09PVd8fG51bGw9PT0oWD1XLnNjaGkpfHx2b2lkIDA9PT1YP3ZvaWQgMDpYLnRlbmMuZGVmYXVsdF9JVl9zaXplLFYuYXVkaW9TZW5jPW8ubWRpYS5taW5mLnN0Ymwuc2VuYyYmby5tZGlhLm1pbmYuc3RibC5zZW5jLnNhbXBsZXMsVi51c2VFTUU9ZS51c2VFTUUsVi5raWRWYWx1ZT1lLmtpZFZhbHVlLFYuZW5jYT1ZfWlmKHImJihyLmlzVmlkZW9FbmNyeXB0aW9uPSEhdCYmdC5pc1ZpZGVvRW5jcnlwdGlvbiksdCYmKHQuaXNBdWRpb0VuY3J5cHRpb249ISFyJiZyLmlzQXVkaW9FbmNyeXB0aW9uKSxudWxsIT10JiZ0LmVuY3Z8fG51bGwhPXImJnIuZW5jYSl7dmFyIFosUSxKPW51bGw9PXR8fG51bGw9PT0oWj10LmVuY3YpfHx2b2lkIDA9PT1aP3ZvaWQgMDpaLmRlZmF1bHRfS0lELCQ9bnVsbD09cnx8bnVsbD09PShRPXIuZW5jYSl8fHZvaWQgMD09PVE/dm9pZCAwOlEuZGVmYXVsdF9LSUQsZWU9Snx8JD8oSnx8JCkuam9pbigiIik6bnVsbDt0JiYodC5raWQ9ZWUpLHImJihyLmtpZD1lZSl9cmV0dXJuIHQmJih0LmZsYWdzPTM4NDEpLHImJihyLmZsYWdzPTE3OTMpLHt2aWRlb1RyYWNrOnQsYXVkaW9UcmFjazpyfX19fSx7a2V5OiJldmFsdWF0ZURlZmF1bHREdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBhLG49bnVsbD09dHx8bnVsbD09PShhPXQuc2FtcGxlcyl8fHZvaWQgMD09PWE/dm9pZCAwOmEubGVuZ3RoO3JldHVybiBuPzEwMjQqbi90LnRpbWVzY2FsZSplLnRpbWVzY2FsZS9yOjEwMjR9fSx7a2V5OiJtb29mVG9TYW1wbGVzIix2YWx1ZTpmdW5jdGlvbih0LHIsYSl7dmFyIG49e307cmV0dXJuIHQubWZoZCYmKHImJihyLnNlcXVlbmNlTnVtYmVyPXQubWZoZC5zZXF1ZW5jZU51bWJlciksYSYmKGEuc2VxdWVuY2VOdW1iZXI9dC5tZmhkLnNlcXVlbmNlTnVtYmVyKSksdC50cmFmLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBpPXQudGZoZCxzPXQudGZkdCxvPXQudHJ1bjtpZihpJiZvKXtzJiYociYmci5pZD09PWkudHJhY2tJZCYmKHIuYmFzZU1lZGlhRGVjb2RlVGltZT1zLmJhc2VNZWRpYURlY29kZVRpbWUpLGEmJmEuaWQ9PT1pLnRyYWNrSWQmJihhLmJhc2VNZWRpYURlY29kZVRpbWU9cy5iYXNlTWVkaWFEZWNvZGVUaW1lKSk7dmFyIHU9aS5kZWZhdWx0U2FtcGxlU2l6ZXx8MCxjPWkuZGVmYXVsdFNhbXBsZUR1cmF0aW9ufHxlLmV2YWx1YXRlRGVmYXVsdER1cmF0aW9uKHIsYSxvLnNhbXBsZXMubGVuZ3RofHxvLnNhbXBsZUNvdW50KSxsPW8uZGF0YU9mZnNldHx8MCxmPTAsZD0tMTtpZighby5zYW1wbGVzLmxlbmd0aCYmby5zYW1wbGVDb3VudCl7bltpLnRyYWNrSWRdPVtdO2Zvcih2YXIgaD0wO2g8by5zYW1wbGVDb3VudDtoKyspbltpLnRyYWNrSWRdLnB1c2goe29mZnNldDpsLGR0czpmLGR1cmF0aW9uOmMsc2l6ZTp1fSksZis9YyxsKz11fWVsc2UgbltpLnRyYWNrSWRdPW8uc2FtcGxlcy5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuKGU9e29mZnNldDpsLGR0czpmLHB0czpmKyhlLmN0c3x8MCksZHVyYXRpb246ZS5kdXJhdGlvbnx8YyxzaXplOmUuc2l6ZXx8dSxnb3BJZDpkLGtleWZyYW1lOjA9PT10fHxudWxsIT09ZS5mbGFncyYmdm9pZCAwIT09ZS5mbGFncyYmKDY1NTM2JmUuZmxhZ3MpPj4+MCE9NjU1MzZ9KS5rZXlmcmFtZSYmKGQrKyxlLmdvcElkPWQpLGYrPWUuZHVyYXRpb24sbCs9ZS5zaXplLGV9KSl9fSkpLG59fSx7a2V5OiJtb292VG9TYW1wbGVzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRyYWs7aWYodCYmdC5sZW5ndGgpe3ZhciByPXQuZmluZCgoZnVuY3Rpb24oZSl7dmFyIHQscjtyZXR1cm4idmlkZSI9PT0obnVsbD09PSh0PWUubWRpYSl8fHZvaWQgMD09PXR8fG51bGw9PT0ocj10LmhkbHIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmhhbmRsZXJUeXBlKX0pKSxhPXQuZmluZCgoZnVuY3Rpb24oZSl7dmFyIHQscjtyZXR1cm4ic291biI9PT0obnVsbD09PSh0PWUubWRpYSl8fHZvaWQgMD09PXR8fG51bGw9PT0ocj10LmhkbHIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmhhbmRsZXJUeXBlKX0pKTtpZihyfHxhKXt2YXIgbixpO2lmKHIpe3ZhciBzLG8sdT1udWxsPT09KHM9ci5tZGlhKXx8dm9pZCAwPT09c3x8bnVsbD09PShvPXMubWluZil8fHZvaWQgMD09PW8/dm9pZCAwOm8uc3RibDtpZighdSlyZXR1cm47dmFyIGM9dS5zdHRzLGw9dS5zdHNjLGY9dS5zdHN6LGQ9dS5zdGNvLGg9dS5zdHNzLHA9dS5jdHRzO2lmKCEoYyYmbCYmZiYmZCYmaCkpcmV0dXJuO249QWUoYyxsLGYsZCxwLGgpfWlmKGEpe3ZhciB2LHksbSxnPW51bGw9PT0odj1hLm1kaWEpfHx2b2lkIDA9PT12fHxudWxsPT09KHk9di5taW5mKXx8dm9pZCAwPT09eT92b2lkIDA6eS5zdGJsO2lmKCFnKXJldHVybjt2YXIgaz1udWxsPT09KG09YS5tZGlhLm1kaGQpfHx2b2lkIDA9PT1tP3ZvaWQgMDptLnRpbWVzY2FsZSxiPWcuc3R0cyxfPWcuc3RzYyx3PWcuc3Rzeix4PWcuc3RjbztpZighKGsmJmImJl8mJncmJngpKXJldHVybjtpPUFlKGIsXyx3LHgpfXJldHVybnt2aWRlb1NhbXBsZXM6bixhdWRpb1NhbXBsZXM6aX19fX19XSksZX0oKTtmdW5jdGlvbiBBZShlLHQscixhLG4saSl7dmFyIHMsbyx1LGM9W10sbD1udWxsPT1uP3ZvaWQgMDpuLmVudHJpZXMsZj10LmVudHJpZXMsZD1hLmVudHJpZXMsaD1yLmVudHJ5U2l6ZXMscD1udWxsPT1pP3ZvaWQgMDppLmVudHJpZXM7cCYmKHM9e30scC5mb3JFYWNoKChmdW5jdGlvbihlKXtzW2UtMV09ITB9KSkpLGwmJihvPVtdLGwuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuY291bnQscj1lLm9mZnNldCxhPTA7YTx0O2ErKylvLnB1c2gocil9KSkpO3ZhciB2PS0xLHk9MCxtPTAsZz0wLGs9MCxiPTAsXz1mWzBdLnNhbXBsZXNQZXJDaHVuayx3PWZbMV0/ZlsxXS5maXJzdENodW5rLTE6MS8wO3JldHVybiBlLmVudHJpZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuY291bnQsYT1lLmRlbHRhLG49MDtuPHQ7bisrKXU9e2R0czp5LGR1cmF0aW9uOmEsc2l6ZTpoW21dfHxyLnNhbXBsZVNpemUsb2Zmc2V0OmRbZ10rYixpbmRleDptfSxwJiYodS5rZXlmcmFtZT1zW21dLHUua2V5ZnJhbWUmJnYrKyx1LmdvcElkPXYpLG8mJm08by5sZW5ndGgmJih1LnB0cz11LmR0cytvW21dKSxjLnB1c2godSkseSs9YSwrK208Xz9iKz11LnNpemU6KGcrKyxiPTAsZz49dyYmKGsrKyx3PWZbaysxXT9mW2srMV0uZmlyc3RDaHVuay0xOjEvMCksXys9ZltrXS5zYW1wbGVzUGVyQ2h1bmspfSkpLGN9ZnVuY3Rpb24gVGUoZSx0KXtyZXR1cm4gZS5kYXRhUmVmZXJlbmNlSW5kZXg9dGUodCw2KSxlLndpZHRoPXRlKHQsMjQpLGUuaGVpZ2h0PXRlKHQsMjYpLGUuaG9yaXpyZXNvbHV0aW9uPXJlKHQsMjgpLGUudmVydHJlc29sdXRpb249cmUodCwzMiksZS5mcmFtZUNvdW50PXRlKHQsNDApLGUuZGVwdGg9dGUodCw3NCksNzh9ZnVuY3Rpb24gQmUoZSx0KXtyZXR1cm4gZS5kYXRhUmVmZXJlbmNlSW5kZXg9dGUodCw2KSxlLmNoYW5uZWxDb3VudD10ZSh0LDE2KSxlLnNhbXBsZVNpemU9dGUodCwxOCksZS5zYW1wbGVSYXRlPXJlKHQsMjQpLzY1NTM2LDI4fWZ1bmN0aW9uIEVlKGUsdCxyKXtpZihlKXtpZihlLnNpemUhPT1lLmRhdGEubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiYm94ICIuY29uY2F0KGUudHlwZSwiIHNpemUgIT09IGRhdGEubGVuZ3RoIikpO3ZhciBhPXtzdGFydDplLnN0YXJ0LHNpemU6ZS5zaXplLGhlYWRlclNpemU6ZS5oZWFkZXJTaXplLHR5cGU6ZS50eXBlfTtyZXR1cm4gdCYmKGEudmVyc2lvbj1lLmRhdGFbZS5oZWFkZXJTaXplXSxhLmZsYWdzPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybihlW3RdPDwxNikrKGVbdCsxXTw8OCkrKGVbdCsyXXx8MCl9KGUuZGF0YSxlLmhlYWRlclNpemUrMSksYS5oZWFkZXJTaXplKz00KSxyKGEsZS5kYXRhLnN1YmFycmF5KGEuaGVhZGVyU2l6ZSksYS5zdGFydCthLmhlYWRlclNpemUpLGF9fXZhciBVZT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBhPVN0cmluZyhyKSxuPXQ+PjAsaT1NYXRoLmNlaWwobi9hLmxlbmd0aCkscz1bXSxvPVN0cmluZyhlKTtpLS07KXMucHVzaChhKTtyZXR1cm4gcy5qb2luKCIiKS5zdWJzdHJpbmcoMCxuLW8ubGVuZ3RoKStvfSxDZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkodCksYT0wO2E8dDthKyspclthXT1hcmd1bWVudHNbYV07cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5wdXNoKFVlKE51bWJlcih0KS50b1N0cmluZygxNiksMiwwKSl9KSksZVswXX07ZnVuY3Rpb24gUGUoZSl7Zm9yKHZhciB0PTAscj1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KHI+MT9yLTE6MCksbj0xO248cjtuKyspYVtuLTFdPWFyZ3VtZW50c1tuXTthLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QrPWUubGVuZ3RofSkpO3ZhciBpPW5ldyBlKHQpLHM9MDtyZXR1cm4gYS5mb3JFYWNoKChmdW5jdGlvbihlKXtpLnNldChlLHMpLHMrPWUubGVuZ3RofSkpLGl9dmFyIEllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3IodGhpcyxlKSx0aGlzLmJ1ZmZlcj1uZXcgVWludDhBcnJheSgwKX1yZXR1cm4gbihlLFt7a2V5OiJ3cml0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkodCksYT0wO2E8dDthKyspclthXT1hcmd1bWVudHNbYV07ci5mb3JFYWNoKChmdW5jdGlvbih0KXt0P2UuYnVmZmVyPVBlKFVpbnQ4QXJyYXksZS5idWZmZXIsdCk6d2luZG93LmNvbnNvbGUud2Fybih0KX0pKX19XSxbe2tleToid3JpdGVVaW50MTYiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVWludDhBcnJheShbZT4+OCYyNTUsMjU1JmVdKX19LHtrZXk6IndyaXRlVWludDMyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW2U+PjI0LGU+PjE2JjI1NSxlPj44JjI1NSwyNTUmZV0pfX1dKSxlfSgpLE1lPU1hdGgucG93KDIsMzIpLTEsemU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cih0aGlzLGUpfXJldHVybiBuKGUsbnVsbCxbe2tleToiYm94Iix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheSh0PjE/dC0xOjApLGE9MTthPHQ7YSsrKXJbYS0xXT1hcmd1bWVudHNbYV07dmFyIG49OCsocj1yLmZpbHRlcihCb29sZWFuKSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QuYnl0ZUxlbmd0aH0pLDApLGk9bmV3IFVpbnQ4QXJyYXkobik7aVswXT1uPj4yNCYyNTUsaVsxXT1uPj4xNiYyNTUsaVsyXT1uPj44JjI1NSxpWzNdPTI1NSZuLGkuc2V0KGUsNCk7dmFyIHM9ODtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbihlKXtpLnNldChlLHMpLHMrPWUuYnl0ZUxlbmd0aH0pKSxpfX0se2tleToiZnR5cCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PWImJmUuY29kZWNUeXBlPT09RH0pKT9lLkZUWVBIRVYxOmUuRlRZUEFWQzF9fSx7a2V5OiJpbml0U2VnbWVudCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuICQoZS5mdHlwKHQpLGUubW9vdih0KSl9fSx7a2V5OiJwc3NoIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj1uZXcgVWludDhBcnJheShbMSwwLDAsMF0uY29uY2F0KFsxNiwxMTksMjM5LDIzNiwxOTIsMTc4LDc3LDIsMTcyLDIyNyw2MCwzMCw4MiwyMjYsMjUxLDc1XSxbMCwwLDAsMV0sc2UodC5raWQpLFswLDAsMCwwXSkpO3JldHVybiBlLmJveChlLnR5cGVzLnBzc2gscil9fSx7a2V5OiJtb292Iix2YWx1ZTpmdW5jdGlvbih0KXtpZih0WzBdLnVzZUVNRSYmKHRbMF0uZW5jdnx8dFswXS5lbmNhKSl7dFswXS5wc3NofHwodFswXS5wc3NoPXtraWQ6dFswXS5raWR9KTt2YXIgcj10aGlzLnBzc2godFswXS5wc3NoKTtyZXR1cm4gZS5ib3guYXBwbHkoZSxbZS50eXBlcy5tb292LGUubXZoZCh0WzBdLm12aGREdXJ0aW9ufHx0WzBdLmR1cmF0aW9uLHRbMF0ubXZoZFRpbWVjYWxlfHx0WzBdLnRpbWVzY2FsZSksZS5tdmV4KHQpXS5jb25jYXQoeSh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUudHJhayh0KX0pKSksW3JdKSl9cmV0dXJuIGUuYm94LmFwcGx5KGUsW2UudHlwZXMubW9vdixlLm12aGQodFswXS5tdmhkRHVydGlvbnx8dFswXS5kdXJhdGlvbix0WzBdLm12aGRUaW1lY2FsZXx8dFswXS50aW1lc2NhbGUpXS5jb25jYXQoeSh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUudHJhayh0KX0pKSksW2UubXZleCh0KV0pKX19LHtrZXk6Im12aGQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo5ZTQsYT1lLmJveChlLnR5cGVzLm12aGQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLHI+PjI0JjI1NSxyPj4xNiYyNTUscj4+OCYyNTUsMjU1JnIsdD4+MjQmMjU1LHQ+PjE2JjI1NSx0Pj44JjI1NSwyNTUmdCwwLDEsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCw2NCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyNTUsMjU1LDI1NSwyNTVdKSk7cmV0dXJuIGF9fSx7a2V5OiJ0cmFrIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy50cmFrLGUudGtoZCh0LmlkLHQudGtoZER1cmF0aW9ufHwwLHQud2lkdGgsdC5oZWlnaHQpLGUubWRpYSh0KSl9fSx7a2V5OiJ0a2hkIix2YWx1ZTpmdW5jdGlvbih0LHIpe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjAsaT1lLmJveChlLnR5cGVzLnRraGQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDcsMCwwLDAsMCwwLDAsMCwwLHQ+PjI0JjI1NSx0Pj4xNiYyNTUsdD4+OCYyNTUsMjU1JnQsMCwwLDAsMCxyPj4yNCYyNTUscj4+MTYmMjU1LHI+PjgmMjU1LDI1NSZyLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDY0LDAsMCwwLGE+PjgmMjU1LDI1NSZhLDAsMCxuPj44JjI1NSwyNTUmbiwwLDBdKSk7cmV0dXJuIGl9fSx7a2V5OiJtZGlhIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy5tZGlhLGUubWRoZCh0LmR1cmF0aW9uLHQudGltZXNjYWxlKSxlLmhkbHIodC50eXBlKSxlLm1pbmYodCkpfX0se2tleToibWRoZCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjllNCxhPWUuYm94KGUudHlwZXMubWRoZCxuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAscj4+MjQmMjU1LHI+PjE2JjI1NSxyPj44JjI1NSwyNTUmcix0Pj4yNCYyNTUsdD4+MTYmMjU1LHQ+PjgmMjU1LDI1NSZ0LDg1LDE5NiwwLDBdKSk7cmV0dXJuIGF9fSx7a2V5OiJoZGxyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy5oZGxyLGUuSERMUl9UWVBFU1t0XSl9fSx7a2V5OiJtaW5mIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy5taW5mLHQudHlwZT09PWI/ZS5WTUhEOmUuU01IRCxlLkRJTkYsZS5zdGJsKHQpKX19LHtrZXk6InN0YmwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPVtdO3JldHVybiB0JiZ0LmV4dCYmdC5leHQuc3RzcyYmci5wdXNoKGUuc3Rzcyh0LmV4dC5zdHNzLmVudHJpZXMpKSxlLmJveChlLnR5cGVzLnN0YmwsZS5zdHNkKHQpLGUuU1RUUyxyWzBdLGUuU1RTQyxlLlNUU1osZS5TVENPKX19LHtrZXk6InN0c2QiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByO3JldHVybiByPSJhdWRpbyI9PT10LnR5cGU/dC51c2VFTUUmJnQuZW5jYT9lLmVuY2EodCk6dC5jb2RlY1R5cGU9PT1FP2Uub3B1cyh0KTplLm1wNGEodCk6dC51c2VFTUUmJnQuZW5jdj9lLmVuY3YodCk6dC5hdjFDP2UuYXYwMSh0KTplLmF2YzFoZXYxKHQpLGUuYm94KGUudHlwZXMuc3RzZCxuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxXSkscil9fSx7a2V5OiJlbmNhIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj10LmVuY2EuY2hhbm5lbENvdW50LGE9dC5lbmNhLnNhbXBsZVJhdGUsbj1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLHIsMCwxNiwwLDAsMCwwLGE+PjgmMjU1LDI1NSZhLDAsMF0pLGk9ZS5lc2RzKHQuY29uZmlnKSxzPWUuc2luZih0LmVuY2EpO3JldHVybiBlLmJveChlLnR5cGVzLmVuY2EsbixpLHMpfX0se2tleToiZW5jdiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHIsYSxuPXQuc3BzLmxlbmd0aD4wP3Quc3BzWzBdOltdLGk9dC5wcHMubGVuZ3RoPjA/dC5wcHNbMF06W10scz10LndpZHRoLG89dC5oZWlnaHQsdT10LnNhclJhdGlvWzBdLGM9dC5zYXJSYXRpb1sxXSxsPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxzPj44JjI1NSwyNTUmcyxvPj44JjI1NSwyNTUmbywwLDcyLDAsMCwwLDcyLDAsMCwwLDAsMCwwLDAsMSwxOCwxMDAsOTcsMTA1LDEwOCwxMjEsMTA5LDExMSwxMTYsMTA1LDExMSwxMTAsNDcsMTA0LDEwOCwxMTUsNDYsMTA2LDExNSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMjQsMTcsMTddKSxmPW5ldyBVaW50OEFycmF5KChyPShhPVsxLG5bMV0sblsyXSxuWzNdLDI1NSwyMjUsbi5sZW5ndGg+Pj44JjI1NSwyNTUmbi5sZW5ndGhdKS5jb25jYXQuYXBwbHkoYSx5KG4pKS5jb25jYXQoWzEsaS5sZW5ndGg+Pj44JjI1NSwyNTUmaS5sZW5ndGhdKSkuY29uY2F0LmFwcGx5KHIseShpKSkpLGQ9bmV3IFVpbnQ4QXJyYXkoWzAsMCw4OCw1NywwLDE1LDIwMCwxOTIsMCw0LDg2LDcyXSksaD1lLnNpbmYodC5lbmN2KSxwPW5ldyBVaW50OEFycmF5KFt1Pj4yNCx1Pj4xNiYyNTUsdT4+OCYyNTUsMjU1JnUsYz4+MjQsYz4+MTYmMjU1LGM+PjgmMjU1LDI1NSZjXSk7cmV0dXJuIGUuYm94KGUudHlwZXMuZW5jdixsLGUuYm94KGUudHlwZXMuYXZjQyxmKSxlLmJveChlLnR5cGVzLmJ0cnQsZCksaCxlLmJveChlLnR5cGVzLnBhc3AscCkpfX0se2tleToic2NoaSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoW10pLGE9ZS50ZW5jKHQpO3JldHVybiBlLmJveChlLnR5cGVzLnNjaGkscixhKX19LHtrZXk6InRlbmMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwyNTUmdC5kZWZhdWx0X0lzRW5jcnlwdGVkLDI1NSZ0LmRlZmF1bHRfSVZfc2l6ZV0uY29uY2F0KHNlKHQuZGVmYXVsdF9LSUQpKSk7cmV0dXJuIGUuYm94KGUudHlwZXMudGVuYyxyKX19LHtrZXk6InNpbmYiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPW5ldyBVaW50OEFycmF5KFtdKSxhPW5ldyBVaW50OEFycmF5KFt0LmRhdGFfZm9ybWF0LmNoYXJDb2RlQXQoMCksdC5kYXRhX2Zvcm1hdC5jaGFyQ29kZUF0KDEpLHQuZGF0YV9mb3JtYXQuY2hhckNvZGVBdCgyKSx0LmRhdGFfZm9ybWF0LmNoYXJDb2RlQXQoMyldKSxuPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDk5LDEwMSwxMTAsOTksMCwxLDAsMF0pLGk9ZS5zY2hpKHQpO3JldHVybiBlLmJveChlLnR5cGVzLnNpbmYscixlLmJveChlLnR5cGVzLmZybWEsYSksZS5ib3goZS50eXBlcy5zY2htLG4pLGkpfX0se2tleToiYXYwMSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGUuYm94KGUudHlwZXMuYXYwMSxuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsdC53aWR0aD4+OCYyNTUsMjU1JnQud2lkdGgsdC5oZWlnaHQ+PjgmMjU1LDI1NSZ0LmhlaWdodCwwLDcyLDAsMCwwLDcyLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyNCwxNywxN10pLHQuYXYxQyx0LmNvbHIpfX0se2tleToiYXZjMWhldjEiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPXQuY29kZWNUeXBlPT09RCxhPXI/ZS50eXBlcy5odmMxOmUudHlwZXMuYXZjMSxuPXI/ZS5odmNDKHQpOmUuYXZjQyh0KSxpPVtuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsdC53aWR0aD4+OCYyNTUsMjU1JnQud2lkdGgsdC5oZWlnaHQ+PjgmMjU1LDI1NSZ0LmhlaWdodCwwLDcyLDAsMCwwLDcyLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyNCwxNywxN10pLG5dO3JldHVybiByP2kucHVzaChlLmJveChlLnR5cGVzLmZpZWwsbmV3IFVpbnQ4QXJyYXkoWzEsMF0pKSk6dC5zYXJSYXRpbyYmdC5zYXJSYXRpby5sZW5ndGg+MSYmaS5wdXNoKGUucGFzcCh0LnNhclJhdGlvKSksZS5ib3guYXBwbHkoZSxbYV0uY29uY2F0KGkpKX19LHtrZXk6ImF2Y0MiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByLGEsbixpPVtdLHM9W107cmV0dXJuIHQuc3BzLmZvckVhY2goKGZ1bmN0aW9uKGUpe249ZS5ieXRlTGVuZ3RoLGkucHVzaChuPj4+OCYyNTUpLGkucHVzaCgyNTUmbiksaS5wdXNoLmFwcGx5KGkseShlKSl9KSksdC5wcHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bj1lLmJ5dGVMZW5ndGgscy5wdXNoKG4+Pj44JjI1NSkscy5wdXNoKDI1NSZuKSxzLnB1c2guYXBwbHkocyx5KGUpKX0pKSxlLmJveChlLnR5cGVzLmF2Y0MsbmV3IFVpbnQ4QXJyYXkoKHI9KGE9WzEsaVszXSxpWzRdLGlbNV0sMjU1LDIyNHx0LnNwcy5sZW5ndGhdKS5jb25jYXQuYXBwbHkoYSxpKS5jb25jYXQoW3QucHBzLmxlbmd0aF0pKS5jb25jYXQuYXBwbHkocixzKSkpfX0se2tleToiaHZjQyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9dC5odmNDO2lmKHIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8ciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpcmV0dXJuIHI7dmFyIGEsbj10LnZwcyxpPXQuc3BzLHM9dC5wcHM7aWYocil7dmFyIG89ci5nZW5lcmFsUHJvZmlsZUNvbXBhdGliaWxpdHlGbGFncyx1PXIuZ2VuZXJhbENvbnN0cmFpbnRJbmRpY2F0b3JGbGFncyxjPShuLmxlbmd0aCYmMSkrKGkubGVuZ3RoJiYxKSsocy5sZW5ndGgmJjEpO2E9WzEsci5nZW5lcmFsUHJvZmlsZVNwYWNlPDw2fHIuZ2VuZXJhbFRpZXJGbGFnPDw1fHIuZ2VuZXJhbFByb2ZpbGVJZGMsbz4+PjI0LG8+Pj4xNixvPj4+OCxvLHVbMF0sdVsxXSx1WzJdLHVbM10sdVs0XSx1WzVdLHIuZ2VuZXJhbExldmVsSWRjLDI0MCwwLDI1MiwyNTJ8ci5jaHJvbWFGb3JtYXRJZGMsMjQ4fHIuYml0RGVwdGhMdW1hTWludXM4LDI0OHxyLmJpdERlcHRoQ2hyb21hTWludXM4LDAsMCxyLm51bVRlbXBvcmFsTGF5ZXJzPDwzfHIudGVtcG9yYWxJZE5lc3RlZDw8MnwzLGNdO3ZhciBsPWZ1bmN0aW9uKGUpe3ZhciB0O2EucHVzaChlLmxlbmd0aD4+OCxlLmxlbmd0aCksKHQ9YSkucHVzaC5hcHBseSh0LHkoZSkpfTtuLmxlbmd0aCYmKGEucHVzaCgxNjAsMCxuLmxlbmd0aCksbi5mb3JFYWNoKGwpKSxpLmxlbmd0aCYmKGEucHVzaCgxNjEsMCxpLmxlbmd0aCksaS5mb3JFYWNoKGwpKSxzLmxlbmd0aCYmKGEucHVzaCgxNjIsMCxzLmxlbmd0aCkscy5mb3JFYWNoKGwpKX1lbHNlIGE9WzEsMSw5NiwwLDAsMCwxNDQsMCwwLDAsMCwwLDkzLDI0MCwwLDI1MiwyNTMsMjQ4LDI0OCwwLDAsMTUsMywxNjAsMCwxLDAsMjQsNjQsMSwxMiwxLDI1NSwyNTUsMSw5NiwwLDAsMywwLDE0NCwwLDAsMywwLDAsMywwLDkzLDE1MywxNTIsOSwxNjEsMCwxLDAsNDUsNjYsMSwxLDEsOTYsMCwwLDMsMCwxNDQsMCwwLDMsMCwwLDMsMCw5MywxNjAsMiwxMjgsMTI4LDQ1LDIyLDg5LDE1MywxNjQsMTQ3LDQzLDE1NCwxMjgsMTI4LDEyOCwxMzAsMCwwLDMsMCwyLDAsMCwzLDAsNTAsMTYsMTYyLDAsMSwwLDcsNjgsMSwxOTMsMTE0LDE4MCw5OCw2NF07cmV0dXJuIGUuYm94KGUudHlwZXMuaHZjQyxuZXcgVWludDhBcnJheShhKSl9fSx7a2V5OiJwYXNwIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj12KHQsMiksYT1yWzBdLG49clsxXTtyZXR1cm4gZS5ib3goZS50eXBlcy5wYXNwLG5ldyBVaW50OEFycmF5KFthPj4yNCxhPj4xNiYyNTUsYT4+OCYyNTUsMjU1JmEsbj4+MjQsbj4+MTYmMjU1LG4+PjgmMjU1LDI1NSZuXSkpfX0se2tleToibXA0YSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGUuYm94KGUudHlwZXMubXA0YSxuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLHQuY2hhbm5lbENvdW50LDAsMTYsMCwwLDAsMCx0LnNhbXBsZVJhdGU+PjgmMjU1LDI1NSZ0LnNhbXBsZVJhdGUsMCwwXSksdC5jb25maWcubGVuZ3RoP2UuZXNkcyh0LmNvbmZpZyk6dm9pZCAwKX19LHtrZXk6ImVzZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPXQubGVuZ3RoO3JldHVybiBlLmJveChlLnR5cGVzLmVzZHMsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMywyMytyLDAsMCwwLDQsMTUrciw2NCwyMSwwLDYsMCwwLDAsMjE4LDE5MiwwLDAsMjE4LDE5Miw1XS5jb25jYXQoW3JdKS5jb25jYXQodCkuY29uY2F0KFs2LDEsMl0pKSl9fSx7a2V5OiJvcHVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLHQuY2hhbm5lbENvdW50LDAsMTYsMCwwLDAsMCx0LnNhbXBsZVJhdGU+PjgmMjU1LDI1NSZ0LnNhbXBsZVJhdGUsMCwwXSksYT10LmNvbmZpZy5sZW5ndGg/ZS5kT3BzKHQpOltdO3JldHVybiBlLmJveChlLnR5cGVzLk9wdXMscixhKX19LHtrZXk6ImRPcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQuY29uZmlnKXJldHVybiB0LmNvbmZpZ1s0XT10LnNhbXBsZVJhdGU+Pj4yNCYyNTUsdC5jb25maWdbNV09dC5zYW1wbGVSYXRlPj4+MTYmMjU1LHQuY29uZmlnWzZdPXQuc2FtcGxlUmF0ZT4+PjgmMjU1LHQuY29uZmlnWzddPTI1NSZ0LnNhbXBsZVJhdGUsZS5ib3goZS50eXBlcy5kT3BzLHQuY29uZmlnKX19LHtrZXk6Im12ZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJveC5hcHBseShlLFtlLnR5cGVzLm12ZXhdLmNvbmNhdCh5KHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS50cmV4KHQuaWQpfSkpKSkpfX0se2tleToidHJleCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGUuYm94KGUudHlwZXMudHJleCxuZXcgVWludDhBcnJheShbMCwwLDAsMCx0Pj4yNCx0Pj4xNiYyNTUsdD4+OCYyNTUsMjU1JnQsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwxLDAsMV0pKX19LHtrZXk6InRyZXgxIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy50cmV4LG5ldyBVaW50OEFycmF5KFswLDAsMCwwLHQ+PjI0LHQ+PjE2JjI1NSx0Pj44JjI1NSwyNTUmdCwwLDAsMCwxLDAsMCwyLDAsMCwwLDAsMCwwLDEsMCwwXSkpfX0se2tleToidHJleDIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLnRyZXgsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsdD4+MjQsdD4+MTYmMjU1LHQ+PjgmMjU1LDI1NSZ0LDAsMCwwLDEsMCwwLDQsMCwwLDAsMCwwLDIsMCwwLDBdKSl9fSx7a2V5OiJtb29mIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3guYXBwbHkoZSxbZS50eXBlcy5tb29mLGUubWZoZCh0WzBdLnNhbXBsZXM/dFswXS5zYW1wbGVzWzBdLmdvcElkOjApXS5jb25jYXQoeSh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUudHJhZih0KX0pKSkpKX19LHtrZXk6Im1maGQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLm1maGQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsdD4+MjQsdD4+MTYmMjU1LHQ+PjgmMjU1LDI1NSZ0XSkpfX0se2tleToidHJhZiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9ZS50ZmhkKHQuaWQpLGE9ZS50ZmR0KHQsdC5iYXNlTWVkaWFEZWNvZGVUaW1lKSxuPTA7aWYodC5pc1ZpZGVvJiZ0LnZpZGVvU2VuYyYmdC52aWRlb1NlbmMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bis9OCxlLnN1YnNhbXBsZXMmJmUuc3Vic2FtcGxlcy5sZW5ndGgmJihuKz0yLG4rPTYqZS5zdWJzYW1wbGVzLmxlbmd0aCl9KSksdC52aWRlb1NlbmNMZW5ndGg9bix0LnVzZUVNRSYmKHQuaXNWaWRlb0VuY3J5cHRpb258fHQuaXNBdWRpb0VuY3J5cHRpb24pKXtpZih0LmlzVmlkZW9FbmNyeXB0aW9uKXtpZih0LmlzVmlkZW8pe3ZhciBpPWUuc2Fpeih0KSxzPWUuc2Fpbyh0KSxvPWUudHJ1bjEodCksdT1lLnNlbmModCk7cmV0dXJuIGUuYm94KGUudHlwZXMudHJhZixyLGEsaSxzLG8sdSl9aWYodC5pc0F1ZGlvRW5jcnlwdGlvbil7dmFyIGM9ZS5zYmdwKCksbD1lLnNhaXoodCksZj1lLnNhaW8odCksZD1lLnNlbmModCksaD1lLnRydW4xKHQpO3JldHVybiBlLmJveChlLnR5cGVzLnRyYWYscixhLGMsbCxmLGQsaCl9dmFyIHA9ZS5zYmdwKCksdj1lLnRydW4xKHQpO3JldHVybiBlLmJveChlLnR5cGVzLnRyYWYscixhLHAsdil9aWYodC5pc1ZpZGVvKXt2YXIgeT1lLnRydW4xKHQpO3JldHVybiBlLmJveChlLnR5cGVzLnRyYWYscixhLHkpfXZhciBtPWUuc2JncCgpLGc9ZS5zYWl6KHQpLGs9ZS5zYWlvKHQpLGI9ZS5zZW5jKHQpLF89ZS50cnVuMSh0KTtyZXR1cm4gZS5ib3goZS50eXBlcy50cmFmLHIsYSxtLGcsayxiLF8pfXZhciB3PWUuc2R0cCh0KTtyZXR1cm4gZS5ib3goZS50eXBlcy50cmFmLHIsYSx3LGUudHJ1bih0LnNhbXBsZXMsdy5ieXRlTGVuZ3RoKzc2KSl9fSx7a2V5OiJzZHRwIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj1uZXcgSWU7cmV0dXJuIHQuc2FtcGxlcy5mb3JFYWNoKChmdW5jdGlvbihlKXtyLndyaXRlKG5ldyBVaW50OEFycmF5KHQuaXNWaWRlbz9bZS5rZXlmcmFtZT8zMjoxNl06WzE2XSkpfSkpLGUuYm94KGUudHlwZXMuc2R0cCx0aGlzLmV4dGVuc2lvbigwLDApLHIuYnVmZmVyKX19LHtrZXk6InRydW4xIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj1uZXcgSWUsYT1JZS53cml0ZVVpbnQzMih0LnNhbXBsZXMubGVuZ3RoKSxuPW51bGw7aWYodC5pc1ZpZGVvKXt2YXIgaT10LnZpZGVvU2VuY0xlbmd0aDtuPUllLndyaXRlVWludDMyKDE2KnQuc2FtcGxlcy5sZW5ndGgraSsxNDkpLCF0LmlzVmlkZW9FbmNyeXB0aW9uJiZ0LmlzQXVkaW9FbmNyeXB0aW9uJiYobj1JZS53cml0ZVVpbnQzMigxNip0LnNhbXBsZXMubGVuZ3RoKzkyKSl9ZWxzZXt2YXIgcz0xMip0LnNhbXBsZXMubGVuZ3RoKzEyNDt0LmlzQXVkaW9FbmNyeXB0aW9uJiYocz0xMip0LnNhbXBsZXMubGVuZ3RoKzgqdC5hdWRpb1NlbmMubGVuZ3RoKzE3Nyksbj1JZS53cml0ZVVpbnQzMihzKX1yZXR1cm4gdC5zYW1wbGVzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3Iud3JpdGUoSWUud3JpdGVVaW50MzIoZS5kdXJhdGlvbikpLHIud3JpdGUoSWUud3JpdGVVaW50MzIoZS5zaXplKSksci53cml0ZShJZS53cml0ZVVpbnQzMihlLmtleWZyYW1lPzMzNTU0NDMyOjY1NTM2KSksdC5pc1ZpZGVvJiZyLndyaXRlKEllLndyaXRlVWludDMyKGUuY3RzP2UuY3RzOjApKX0pKSxlLmJveChlLnR5cGVzLnRydW4sdGhpcy5leHRlbnNpb24oMCx0LmZsYWdzKSxhLG4sci5idWZmZXIpfX0se2tleToic2VuYyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9bmV3IEllLGE9dC5zYW1wbGVzLmxlbmd0aCxuPXQuaXNWaWRlbz8xNjo4LGk9dC5pc1ZpZGVvPzI6MCxzPVtdLG89MDtyZXR1cm4gdC5pc1ZpZGVvPyhzPXQudmlkZW9TZW5jLG89dC52aWRlb1NlbmNMZW5ndGgpOnM9dC5hdWRpb1NlbmMsbz1vfHxuKmEsci53cml0ZShJZS53cml0ZVVpbnQzMigxNitvKSxlLnR5cGVzLnNlbmMsdGhpcy5leHRlbnNpb24oMCxpKSksci53cml0ZShJZS53cml0ZVVpbnQzMihhKSkscy5mb3JFYWNoKChmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUuSW5pdGlhbGl6YXRpb25WZWN0b3IubGVuZ3RoO3QrKylyLndyaXRlKG5ldyBVaW50OEFycmF5KFtlLkluaXRpYWxpemF0aW9uVmVjdG9yW3RdXSkpO2Uuc3Vic2FtcGxlcyYmZS5zdWJzYW1wbGVzLmxlbmd0aCYmKHIud3JpdGUoSWUud3JpdGVVaW50MTYoZS5zdWJzYW1wbGVzLmxlbmd0aCkpLGUuc3Vic2FtcGxlcy5mb3JFYWNoKChmdW5jdGlvbihlKXtyLndyaXRlKEllLndyaXRlVWludDE2KGUuQnl0ZXNPZkNsZWFyRGF0YSkpLHIud3JpdGUoSWUud3JpdGVVaW50MzIoZS5CeXRlc09mUHJvdGVjdGVkRGF0YSkpfSkpKX0pKSxyLmJ1ZmZlcn19LHtrZXk6InNhaW8iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPTEyKnQuc2FtcGxlcy5sZW5ndGgrMTQxOyF0LmlzVmlkZW8mJnQuaXNBdWRpb0VuY3J5cHRpb24mJihyPTE0OSk7dmFyIGE9bmV3IFVpbnQ4QXJyYXkoWzEsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLHI+PjI0JjI1NSxyPj4xNiYyNTUscj4+OCYyNTUsMjU1JnJdKTtyZXR1cm4gZS5ib3goZS50eXBlcy5zYWlvLGEpfX0se2tleToic2FpeiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9dC5zYW1wbGVzLmxlbmd0aCxhPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDE2LHI+PjI0JjI1NSxyPj4xNiYyNTUscj4+OCYyNTUsMjU1JnJdKTtyZXR1cm4gZS5ib3goZS50eXBlcy5zYWl6LGEpfX0se2tleToic2JncCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgVWludDhBcnJheShbMTE0LDExMSwxMDgsMTA4LDAsMCwwLDEsMCwwLDEsMjUsMCwwLDAsMV0pO3JldHVybiBlLmJveChlLnR5cGVzLnNiZ3AsdGhpcy5leHRlbnNpb24oMCwwKSx0KX19LHtrZXk6ImV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW2UsdD4+MTYmMjU1LHQ+PjgmMjU1LDI1NSZ0XSl9fSx7a2V5OiJ0ZmhkIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy50ZmhkLG5ldyBVaW50OEFycmF5KFswLDAsMCwwLHQ+PjI0LHQ+PjE2JjI1NSx0Pj44JjI1NSwyNTUmdF0pKX19LHtrZXk6InRmZHQiLHZhbHVlOmZ1bmN0aW9uKHQscil7dmFyIGE9TWF0aC5mbG9vcihyLyhNZSsxKSksbj1NYXRoLmZsb29yKHIlKE1lKzEpKTtyZXR1cm4gdC51c2VFTUUmJih0LmlzVmlkZW9FbmNyeXB0aW9ufHx0LmlzQXVkaW9FbmNyeXB0aW9uKT9lLmJveChlLnR5cGVzLnRmZHQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsbj4+MjQsbj4+MTYmMjU1LG4+PjgmMjU1LDI1NSZuXSkpOmUuYm94KGUudHlwZXMudGZkdCxuZXcgVWludDhBcnJheShbMSwwLDAsMCxhPj4yNCxhPj4xNiYyNTUsYT4+OCYyNTUsMjU1JmEsbj4+MjQsbj4+MTYmMjU1LG4+PjgmMjU1LDI1NSZuXSkpfX0se2tleToidHJ1biIsdmFsdWU6ZnVuY3Rpb24odCxyKXt2YXIgYT10Lmxlbmd0aCxuPTEyKzE2KmE7cis9OCtuO3ZhciBpPW5ldyBVaW50OEFycmF5KG4pO2kuc2V0KFswLDAsMTUsMSxhPj4+MjQmMjU1LGE+Pj4xNiYyNTUsYT4+PjgmMjU1LDI1NSZhLHI+Pj4yNCYyNTUscj4+PjE2JjI1NSxyPj4+OCYyNTUsMjU1JnJdLDApO2Zvcih2YXIgcz0wO3M8YTtzKyspe3ZhciBvPXRbc10sdT1vLmR1cmF0aW9uLGM9by5zaXplLGw9by5mbGFnLGY9dm9pZCAwPT09bD97fTpsLGQ9by5jdHMsaD12b2lkIDA9PT1kPzA6ZDtpLnNldChbdT4+PjI0JjI1NSx1Pj4+MTYmMjU1LHU+Pj44JjI1NSwyNTUmdSxjPj4+MjQmMjU1LGM+Pj4xNiYyNTUsYz4+PjgmMjU1LDI1NSZjLGYuaXNMZWFkaW5nPDwyfChudWxsPT09Zi5kZXBlbmRzT258fHZvaWQgMD09PWYuZGVwZW5kc09uPzE6Zi5kZXBlbmRzT24pLGYuaXNEZXBlbmRlZE9uPDw2fGYuaGFzUmVkdW5kYW5jeTw8NHxmLnBhZGRpbmdWYWx1ZTw8MXwobnVsbD09PWYuaXNOb25TeW5jU2FtcGxlfHx2b2lkIDA9PT1mLmlzTm9uU3luY1NhbXBsZT8xOmYuaXNOb25TeW5jU2FtcGxlKSw2MTQ0MCZmLmRlZ3JhZGF0aW9uUHJpb3JpdHksMTUmZi5kZWdyYWRhdGlvblByaW9yaXR5LGg+Pj4yNCYyNTUsaD4+PjE2JjI1NSxoPj4+OCYyNTUsMjU1JmhdLDEyKzE2KnMpfXJldHVybiBlLmJveChlLnR5cGVzLnRydW4saSl9fSx7a2V5OiJtb292TVA0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5ib3guYXBwbHkoZSxbZS50eXBlcy5tb292LGUubXZoZCh0WzBdLmR1cmF0aW9uLHRbMF0udGltZXNjYWxlKV0uY29uY2F0KHkodC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnRyYWNrTVA0KHQpfSkpKSkpfX0se2tleToidHJhY2tNUDQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLnRyYWssZS50a2hkKHQuaWQsdC5kdXJhdGlvbix0LndpZHRoLHQuaGVpZ2h0KSxlLm1kaWFNUDQodCkpfX0se2tleToibWRpYU1QNCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGUuYm94KGUudHlwZXMubWRpYSxlLm1kaGQodC5kdXJhdGlvbix0LnRpbWVzY2FsZSksZS5oZGxyKHQudHlwZSksZS5taW5mTVA0KHQpKX19LHtrZXk6Im1pbmZNUDQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLm1pbmYsdC50eXBlPT09Yj9lLlZNSEQ6ZS5TTUhELGUuRElORixlLnN0YmxNUDQodCkpfX0se2tleToic3RibE1QNCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9dC5leHQsYT1bZS5zdHNkKHQpLGUuc3R0cyhyLnN0dHMpLGUuc3RzYyhyLnN0c2MpLGUuc3RzeihyLnN0c3opLGUuc3RjbyhyLnN0Y28pXTtyZXR1cm4gci5zdHNzLmxlbmd0aCYmYS5wdXNoKGUuc3RzcyhyLnN0c3MpKSxyLmN0dHMubGVuZ3RoJiZhLnB1c2goZS5jdHRzKHIuY3R0cykpLGUuYm94LmFwcGx5KGUsW2UudHlwZXMuc3RibF0uY29uY2F0KGEpKX19LHtrZXk6InN0dHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPXQubGVuZ3RoLGE9bmV3IFVpbnQ4QXJyYXkoOCpyKSxuPTA7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZSxyPWUuY291bnQ7YS5zZXQoW3I+PjI0LHI+PjE2JjI1NSxyPj44JjI1NSwyNTUmcix0Pj4yNCx0Pj4xNiYyNTUsdD4+OCYyNTUsMjU1JnRdLG4pLG4rPTh9KSksZS5ib3goZS50eXBlcy5zdHRzLCQobmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAscj4+MjQscj4+MTYmMjU1LHI+PjgmMjU1LDI1NSZyXSksYSkpfX0se2tleToic3RzYyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9dC5sZW5ndGgsYT1uZXcgVWludDhBcnJheSgxMipyKSxuPTA7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maXJzdENodW5rLHI9ZS5zYW1wbGVzUGVyQ2h1bmssaT1lLnNhbXBsZURlc2NJbmRleDthLnNldChbdD4+MjQsdD4+MTYmMjU1LHQ+PjgmMjU1LDI1NSZ0LHI+PjI0LHI+PjE2JjI1NSxyPj44JjI1NSwyNTUmcixpPj4yNCxpPj4xNiYyNTUsaT4+OCYyNTUsMjU1JmldLG4pLG4rPTEyfSkpLGUuYm94KGUudHlwZXMuc3RzYywkKG5ldyBVaW50OEFycmF5KFswLDAsMCwwLHI+PjI0LHI+PjE2JjI1NSxyPj44JjI1NSwyNTUmcl0pLGEpKX19LHtrZXk6InN0c3oiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPXQubGVuZ3RoLGE9bmV3IFVpbnQ4QXJyYXkoNCpyKSxuPTA7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YS5zZXQoW2U+PjI0LGU+PjE2JjI1NSxlPj44JjI1NSwyNTUmZV0sbiksbis9NH0pKSxlLmJveChlLnR5cGVzLnN0c3osJChuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwLHI+PjI0LHI+PjE2JjI1NSxyPj44JjI1NSwyNTUmcl0pLGEpKX19LHtrZXk6InN0Y28iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPXQubGVuZ3RoLGE9bmV3IFVpbnQ4QXJyYXkoNCpyKSxuPTA7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YS5zZXQoW2U+PjI0LGU+PjE2JjI1NSxlPj44JjI1NSwyNTUmZV0sbiksbis9NH0pKSxlLmJveChlLnR5cGVzLnN0Y28sJChuZXcgVWludDhBcnJheShbMCwwLDAsMCxyPj4yNCxyPj4xNiYyNTUscj4+OCYyNTUsMjU1JnJdKSxhKSl9fSx7a2V5OiJzdHNzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj10Lmxlbmd0aCxhPW5ldyBVaW50OEFycmF5KDQqciksbj0wO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2Euc2V0KFtlPj4yNCxlPj4xNiYyNTUsZT4+OCYyNTUsMjU1JmVdLG4pLG4rPTR9KSksZS5ib3goZS50eXBlcy5zdHNzLCQobmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAscj4+MjQscj4+MTYmMjU1LHI+PjgmMjU1LDI1NSZyXSksYSkpfX0se2tleToiY3R0cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9dC5sZW5ndGgsYT1uZXcgVWludDhBcnJheSg4KnIpLG49MDtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLnZhbHVlLHI9ZS5jb3VudDthLnNldChbcj4+MjQscj4+MTYmMjU1LHI+PjgmMjU1LDI1NSZyLHQ+PjI0LHQ+PjE2JjI1NSx0Pj44JjI1NSwyNTUmdF0sbiksbis9OH0pKSxlLmJveChlLnR5cGVzLmN0dHMsJChuZXcgVWludDhBcnJheShbMCwwLDAsMCxyPj4yNCxyPj4xNiYyNTUscj4+OCYyNTUsMjU1JnJdKSxhKSl9fSx7a2V5OiJzdHlwIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBlLmJveChlLnR5cGVzLnN0eXAsbmV3IFVpbnQ4QXJyYXkoWzEwOSwxMTUsMTAwLDEwNCwwLDAsMCwwLDEwOSwxMTUsMTAwLDEwNCwxMDksMTE1LDEwNSwxMjBdKSl9fSx7a2V5OiJzaWR4Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj10LnRpbWVzY2FsZSxhPXQuc2FtcGxlc1swXS5kdXJhdGlvbixuPWEqdC5zYW1wbGVzLmxlbmd0aCxpPXQuc2FtcGxlc1swXS5zYW1wbGVPZmZzZXQqYSxzPTg7dC5zYW1wbGVzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3MrPWUuc2l6ZX0pKTt2YXIgbz0wO2lmKHQuaXNWaWRlbyl7dmFyIHUsYz0wO3QudmlkZW9TZW5jJiYodT10LnZpZGVvU2VuYyksdC5pc1ZpZGVvJiZ1LmZvckVhY2goKGZ1bmN0aW9uKGUpe2MrPTgsZS5zdWJzYW1wbGVzJiZlLnN1YnNhbXBsZXMubGVuZ3RoJiYoYys9MixjKz02KmUuc3Vic2FtcGxlcy5sZW5ndGgpfSkpLHQudmlkZW9TZW5jTGVuZ3RoPWMsbz1zKzE0MSsxNip0LnNhbXBsZXMubGVuZ3RoK2MsdC51c2VFTUUmJnQuaXNBdWRpb0VuY3J5cHRpb24mJiF0LmlzVmlkZW9FbmNyeXB0aW9uJiYobz1zKzE2KnQuc2FtcGxlcy5sZW5ndGgrODQpfWVsc2Ugbz1zKzExNisxMip0LnNhbXBsZXMubGVuZ3RoLHQudXNlRU1FJiZ0LmlzQXVkaW9FbmNyeXB0aW9uJiYobz1zKzE2OSsxMip0LnNhbXBsZXMubGVuZ3RoKzgqdC5hdWRpb1NlbmMubGVuZ3RoKTt2YXIgbD1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwyNTUmdC5pZCxyPj4yNCYyNTUscj4+MTYmMjU1LHI+PjgmMjU1LDI1NSZyLGk+PjI0JjI1NSxpPj4xNiYyNTUsaT4+OCYyNTUsMjU1JmksMCwwLDAsMCwwLDAsMCwxLDAsbz4+MTYmMjU1LG8+PjgmMjU1LDI1NSZvLG4+PjI0JjI1NSxuPj4xNiYyNTUsbj4+OCYyNTUsMjU1Jm4sMTQ0LDAsMCwwXSk7cmV0dXJuIGUuYm94KGUudHlwZXMuc2lkeCxsKX19LHtrZXk6Im1kYXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLm1kYXQsdCl9fV0pLGV9KCk7aSh6ZSwidHlwZXMiLFsiT3B1cyIsImRPcHMiLCJhdjAxIiwiYXYxQyIsImF2YzEiLCJhdmNDIiwiaHZjMSIsImh2Y0MiLCJkaW5mIiwiZHJlZiIsImVzZHMiLCJmdHlwIiwiaGRsciIsIm1kYXQiLCJtZGhkIiwibWRpYSIsIm1maGQiLCJtaW5mIiwibW9vZiIsIm1vb3YiLCJtcDRhIiwibXZleCIsIm12aGQiLCJwYXNwIiwic3RibCIsInN0Y28iLCJzdHNjIiwic3RzZCIsInN0c3oiLCJzdHRzIiwidGZkdCIsInRmaGQiLCJ0cmFmIiwidHJhayIsInRyZXgiLCJ0a2hkIiwidm1oZCIsInNtaGQiLCJjdHRzIiwic3RzcyIsInN0eXAiLCJwc3NoIiwic2lkeCIsInNiZ3AiLCJzYWl6Iiwic2FpbyIsInNlbmMiLCJ0cnVuIiwiZW5jdiIsImVuY2EiLCJzaW5mIiwiYnRydCIsImZybWEiLCJ0ZW5jIiwic2NobSIsInNjaGkiLCJtZWhkIiwiZmllbCIsInNkdHAiXS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF09W3QuY2hhckNvZGVBdCgwKSx0LmNoYXJDb2RlQXQoMSksdC5jaGFyQ29kZUF0KDIpLHQuY2hhckNvZGVBdCgzKV0sZX0pLE9iamVjdC5jcmVhdGUobnVsbCkpKSxpKHplLCJIRExSX1RZUEVTIix7dmlkZW86bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwxMTgsMTA1LDEwMCwxMDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsODYsMTA1LDEwMCwxMDEsMTExLDcyLDk3LDExMCwxMDAsMTA4LDEwMSwxMTQsMF0pLGF1ZGlvOm5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMTE1LDExMSwxMTcsMTEwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDgzLDExMSwxMTcsMTEwLDEwMCw3Miw5NywxMTAsMTAwLDEwOCwxMDEsMTE0LDBdKX0pLGkoemUsIkZUWVBBVkMxIix6ZS5ib3goemUudHlwZXMuZnR5cCxuZXcgVWludDhBcnJheShbMTA1LDExNSwxMTEsMTA5LDAsMCwwLDEsMTA1LDExNSwxMTEsMTA5LDk3LDExOCw5OSw0OV0pKSksaSh6ZSwiRlRZUEhFVjEiLHplLmJveCh6ZS50eXBlcy5mdHlwLG5ldyBVaW50OEFycmF5KFsxMDUsMTE1LDExMSwxMDksMCwwLDAsMSwxMDUsMTE1LDExMSwxMDksMTA0LDEwMSwxMTgsNDldKSkpLGkoemUsIkRJTkYiLHplLmJveCh6ZS50eXBlcy5kaW5mLHplLmJveCh6ZS50eXBlcy5kcmVmLG5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDEsMCwwLDAsMTIsMTE3LDExNCwxMDgsMzIsMCwwLDAsMV0pKSkpLGkoemUsIlZNSEQiLHplLmJveCh6ZS50eXBlcy52bWhkLG5ldyBVaW50OEFycmF5KFswLDAsMCwxLDAsMCwwLDAsMCwwLDAsMF0pKSksaSh6ZSwiU01IRCIsemUuYm94KHplLnR5cGVzLnNtaGQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMF0pKSksaSh6ZSwiU3RibFRhYmxlIixuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwXSkpLGkoemUsIlNUVFMiLHplLmJveCh6ZS50eXBlcy5zdHRzLHplLlN0YmxUYWJsZSkpLGkoemUsIlNUU0MiLHplLmJveCh6ZS50eXBlcy5zdHNjLHplLlN0YmxUYWJsZSkpLGkoemUsIlNUU1oiLHplLmJveCh6ZS50eXBlcy5zdHN6LG5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0pKSksaSh6ZSwiU1RDTyIsemUuYm94KHplLnR5cGVzLnN0Y28semUuU3RibFRhYmxlKSk7dmFyIE9lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LGEpe3IodGhpcyxlKSx0aGlzLm5hbWU9dHx8IiIsdGhpcy5fcHJlZml4PSJbIi5jb25jYXQodGhpcy5uYW1lLCJdIiksZS5kaXNhYmxlZD1hfXJldHVybiBuKGUsW3trZXk6ImRlYnVnIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2lmKCFlLmRpc2FibGVkKXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShyKSxuPTA7bjxyO24rKylhW25dPWFyZ3VtZW50c1tuXTsodD1jb25zb2xlKS5kZWJ1Zy5hcHBseSh0LFt0aGlzLl9wcmVmaXhdLmNvbmNhdChhKSl9fX0se2tleToibG9nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2lmKCFlLmRpc2FibGVkKXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShyKSxuPTA7bjxyO24rKylhW25dPWFyZ3VtZW50c1tuXTsodD1jb25zb2xlKS5sb2cuYXBwbHkodCxbdGhpcy5fcHJlZml4XS5jb25jYXQoYSkpfX19LHtrZXk6Indhcm4iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7aWYoIWUuZGlzYWJsZWQpe2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KHIpLG49MDtuPHI7bisrKWFbbl09YXJndW1lbnRzW25dOyh0PWNvbnNvbGUpLndhcm4uYXBwbHkodCxbdGhpcy5fcHJlZml4XS5jb25jYXQoYSkpfX19LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2lmKCFlLmRpc2FibGVkKXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShyKSxuPTA7bjxyO24rKylhW25dPWFyZ3VtZW50c1tuXTsodD1jb25zb2xlKS5lcnJvci5hcHBseSh0LFt0aGlzLl9wcmVmaXhdLmNvbmNhdChhKSl9fX0se2tleToidGFibGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7ZS5kaXNhYmxlZHx8KGNvbnNvbGUuZ3JvdXAodGhpcy5fcHJlZml4KSwodD1jb25zb2xlKS50YWJsZS5hcHBseSh0LGFyZ3VtZW50cyksY29uc29sZS5ncm91cEVuZCgpKX19XSxbe2tleToiZW5hYmxlIix2YWx1ZTpmdW5jdGlvbigpe2UuZGlzYWJsZWQ9ITF9fSx7a2V5OiJkaXNhYmxlIix2YWx1ZTpmdW5jdGlvbigpe2UuZGlzYWJsZWQ9ITB9fV0pLGV9KCk7aShPZSwiZGlzYWJsZWQiLCEwKTtmb3IodmFyIFJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LGEsbil7cih0aGlzLGUpLHRoaXMudmlkZW9UcmFjaz10LHRoaXMuYXVkaW9UcmFjaz1hO3ZhciBpPS9DaHJvbWVcLyhbXi5dKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7dGhpcy5mb3JjZUZpcnN0SURSPWkmJk51bWJlcihpWzFdKTw1MCx0aGlzLmxvZz1uZXcgT2UoIkZNUDRSZW11eGVyIiwhbnx8IW4ub3BlbkxvZ3x8IW4ub3BlbkxvZyl9cmV0dXJuIG4oZSxbe2tleToicmVtdXgiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdCxyLGEsbixpPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0scz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbz10aGlzLnZpZGVvVHJhY2ssdT10aGlzLmF1ZGlvVHJhY2ssYz1vLmV4aXN0KCksbD11LmV4aXN0KCksZj1bXTtyZXR1cm4gaSYmKHMmJnMuaW5pdE1lcmdlPyhjJiZmLnB1c2godGhpcy52aWRlb1RyYWNrKSxsJiZmLnB1c2godGhpcy5hdWRpb1RyYWNrKSxyPXplLmluaXRTZWdtZW50KGYpKTooYyYmKGU9emUuaW5pdFNlZ21lbnQoW3RoaXMudmlkZW9UcmFja10pKSxsJiYodD16ZS5pbml0U2VnbWVudChbdGhpcy5hdWRpb1RyYWNrXSkpKSksYyYmby5oYXNTYW1wbGUoKSYmKGE9dGhpcy5fcmVtdXhWaWRlbygpKSxsJiZ1Lmhhc1NhbXBsZSgpJiYobj10aGlzLl9yZW11eEF1ZGlvKCkpLG8uc2FtcGxlcz1bXSx1LnNhbXBsZXM9W10se2luaXRTZWdtZW50OnIsdmlkZW9Jbml0U2VnbWVudDplLGF1ZGlvSW5pdFNlZ21lbnQ6dCx2aWRlb1NlZ21lbnQ6YSxhdWRpb1NlZ21lbnQ6bn19fSx7a2V5OiJfcmVtdXhWaWRlbyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnZpZGVvVHJhY2s7dGhpcy5mb3JjZUZpcnN0SURSJiYoZS5zYW1wbGVzWzBdLmZsYWc9e2RlcGVuZHNPbjoyLGlzTm9uU3luY1NhbXBsZTowfSk7dmFyIHQ9ZS5zYW1wbGVzLHI9L2F2MDEvLnRlc3QoZS5jb2RlYyksYT0wO3I/dC5mb3JFYWNoKChmdW5jdGlvbihlKXthKz1lLmRhdGEuYnl0ZUxlbmd0aH0pKTp0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2ErPWUudW5pdHMucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QuYnl0ZUxlbmd0aH0pLDApLGErPTQqZS51bml0cy5sZW5ndGh9KSk7dmFyIG49bmV3IFVpbnQ4QXJyYXkoYSk7aWYocilmb3IodmFyIGkscz0wLG89dC5sZW5ndGgsdT0wO3M8bztzKyspaT10W3NdLG4uc2V0KGkuZGF0YSx1KSxpLnNpemU9aS5kYXRhLmJ5dGVMZW5ndGgsdSs9aS5zaXplO2Vsc2UgZm9yKHZhciBjLGw9bmV3IERhdGFWaWV3KG4uYnVmZmVyKSxmPWZ1bmN0aW9uKGUscil7cj10W2RdO3ZhciBhPTA7ci51bml0cy5mb3JFYWNoKChmdW5jdGlvbih0KXtsLnNldFVpbnQzMihlLHQuYnl0ZUxlbmd0aCksZSs9NCxuLnNldCh0LGUpLGUrPXQuYnl0ZUxlbmd0aCxhKz00K3QuYnl0ZUxlbmd0aH0pKSxyLnNpemU9YSxwPWUsYz1yfSxkPTAsaD10Lmxlbmd0aCxwPTA7ZDxoO2QrKylmKHAsYyk7dmFyIHY9emUubWRhdChuKTtyZXR1cm4gJCh6ZS5tb29mKFtlXSksdil9fSx7a2V5OiJfcmVtdXhBdWRpbyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmF1ZGlvVHJhY2ssdD1uZXcgVWludDhBcnJheShlLnNhbXBsZXMucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3Quc2l6ZX0pLDApKTtlLnNhbXBsZXMucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiB0LnNldChyLmRhdGEsZSksZStyLnNpemV9KSwwKTt2YXIgcj16ZS5tZGF0KHQpO3JldHVybiAkKHplLm1vb2YoW2VdKSxyKX19LHtrZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudmlkZW9UcmFjay5yZXNldCgpLHRoaXMuYXVkaW9UcmFjay5yZXNldCgpfX1dKSxlfSgpLExlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3IodGhpcyxlKX1yZXR1cm4gbihlLFt7a2V5OiJtaXhJbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcyxlKX19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiBPYmplY3QuYXNzaWduKGUsdGhpcyksZX19XSxbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKXRbcl09YXJndW1lbnRzW3JdO3JldHVybiBsKHRoaXMsdCl9fV0pLGV9KCksVmU9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYSgpe3ZhciBlLG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjQqbi5sZW5ndGg7cih0aGlzLGEpLGU9dC5jYWxsKHRoaXMpO3ZhciBzPW47aWYocyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyJiYocz1uZXcgVWludDhBcnJheShzKSksKHMgaW5zdGFuY2VvZiBJbnQ4QXJyYXl8fHMgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheXx8cyBpbnN0YW5jZW9mIEludDE2QXJyYXl8fHMgaW5zdGFuY2VvZiBVaW50MTZBcnJheXx8cyBpbnN0YW5jZW9mIEludDMyQXJyYXl8fHMgaW5zdGFuY2VvZiBVaW50MzJBcnJheXx8cyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8cyBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkmJihzPW5ldyBVaW50OEFycmF5KHMuYnVmZmVyLHMuYnl0ZU9mZnNldCxzLmJ5dGVMZW5ndGgpKSxzIGluc3RhbmNlb2YgVWludDhBcnJheSl7Zm9yKHZhciBvPXMuYnl0ZUxlbmd0aCx1PVtdLGM9MDtjPG87Yys9MSl1W2M+Pj4yXXw9c1tjXTw8MjQtYyU0Kjg7ZS53b3Jkcz11LGUuc2lnQnl0ZXM9b31lbHNlIGUud29yZHM9bixlLnNpZ0J5dGVzPWk7cmV0dXJuIGV9cmV0dXJuIG4oYSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOkZlO3JldHVybiBlLnN0cmluZ2lmeSh0aGlzKX19LHtrZXk6ImNvbmNhdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy53b3JkcyxyPWUud29yZHMsYT10aGlzLnNpZ0J5dGVzLG49ZS5zaWdCeXRlcztpZih0aGlzLmNsYW1wKCksYSU0KWZvcih2YXIgaT0wO2k8bjtpKz0xKXt2YXIgcz1yW2k+Pj4yXT4+PjI0LWklNCo4JjI1NTt0W2EraT4+PjJdfD1zPDwyNC0oYStpKSU0Kjh9ZWxzZSBmb3IodmFyIG89MDtvPG47bys9NCl0W2Erbz4+PjJdPXJbbz4+PjJdO3JldHVybiB0aGlzLnNpZ0J5dGVzKz1uLHRoaXN9fSx7a2V5OiJjbGFtcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndvcmRzLHQ9dGhpcy5zaWdCeXRlcztlW3Q+Pj4yXSY9NDI5NDk2NzI5NTw8MzItdCU0KjgsZS5sZW5ndGg9TWF0aC5jZWlsKHQvNCl9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1wKG8oYS5wcm90b3R5cGUpLCJjbG9uZSIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gZS53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLGV9fV0sW3trZXk6InJhbmRvbSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9W10sbj1mdW5jdGlvbihlKXt2YXIgdD1lLHI9OTg3NjU0MzIxLGE9NDI5NDk2NzI5NTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT0oKHI9MzY5NjkqKDY1NTM1JnIpKyhyPj4xNikmYSk8PDE2KSsodD0xOGUzKig2NTUzNSZ0KSsodD4+MTYpJmEpJmE7cmV0dXJuIGUvPTQyOTQ5NjcyOTYsKGUrPS41KSooTWF0aC5yYW5kb20oKT4uNT8xOi0xKX19LGk9MDtpPGU7aSs9NCl7dmFyIHM9big0Mjk0OTY3Mjk2Kih0fHxNYXRoLnJhbmRvbSgpKSk7dD05ODc2NTQwNzEqcygpLHIucHVzaCg0Mjk0OTY3Mjk2KnMoKXwwKX1yZXR1cm4gbmV3IGEocixlKX19XSksYX0oTGUpLEZlPXtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUud29yZHMscj1lLnNpZ0J5dGVzLGE9W10sbj0wO248cjtuKz0xKXt2YXIgaT10W24+Pj4yXT4+PjI0LW4lNCo4JjI1NTthLnB1c2goKGk+Pj40KS50b1N0cmluZygxNikpLGEucHVzaCgoMTUmaSkudG9TdHJpbmcoMTYpKX1yZXR1cm4gYS5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLHI9W10sYT0wO2E8dDthKz0yKXJbYT4+PjNdfD1wYXJzZUludChlLnN1YnN0cihhLDIpLDE2KTw8MjQtYSU4KjQ7cmV0dXJuIG5ldyBWZShyLHQvMil9fSxOZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGgscj1bXSxhPTA7YTx0O2ErPTEpclthPj4+Ml18PSgyNTUmZS5jaGFyQ29kZUF0KGEpKTw8MjQtYSU0Kjg7cmV0dXJuIG5ldyBWZShyLHQpfSxqZT1mdW5jdGlvbihlKXtyZXR1cm4gTmUodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKSl9LEdlPWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoKXt2YXIgZTtyZXR1cm4gcih0aGlzLGEpLChlPXQuY2FsbCh0aGlzKSkuX21pbkJ1ZmZlclNpemU9MCxlfXJldHVybiBuKGEsW3trZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2RhdGE9bmV3IFZlLHRoaXMuX25EYXRhQnl0ZXM9MH19LHtrZXk6Il9hcHBlbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWU7InN0cmluZyI9PXR5cGVvZiB0JiYodD1qZSh0KSksdGhpcy5fZGF0YS5jb25jYXQodCksdGhpcy5fbkRhdGFCeXRlcys9dC5zaWdCeXRlc319LHtrZXk6Il9wcm9jZXNzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMuX2RhdGEsYT10aGlzLmJsb2NrU2l6ZSxuPXIud29yZHMsaT1yLnNpZ0J5dGVzLHM9aS8oNCphKSxvPShzPWU/TWF0aC5jZWlsKHMpOk1hdGgubWF4KCgwfHMpLXRoaXMuX21pbkJ1ZmZlclNpemUsMCkpKmEsdT1NYXRoLm1pbig0Km8saSk7aWYobyl7Zm9yKHZhciBjPTA7YzxvO2MrPWEpdGhpcy5fZG9Qcm9jZXNzQmxvY2sobixjKTt0PW4uc3BsaWNlKDAsbyksci5zaWdCeXRlcy09dX1yZXR1cm4gbmV3IFZlKHQsdSl9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1wKG8oYS5wcm90b3R5cGUpLCJjbG9uZSIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gZS5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCksZX19XSksYX0oTGUpLEhlPWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoZSl7dmFyIG47cmV0dXJuIHIodGhpcyxhKSwobj10LmNhbGwodGhpcykpLmJsb2NrU2l6ZT0xNixuLmNmZz1PYmplY3QuYXNzaWduKG5ldyBMZSxlKSxuLnJlc2V0KCksbn1yZXR1cm4gbihhLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXtwKG8oYS5wcm90b3R5cGUpLCJyZXNldCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLl9kb1Jlc2V0KCl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hcHBlbmQoZSksdGhpcy5fcHJvY2VzcygpLHRoaXN9fSx7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMuX2FwcGVuZChlKSx0aGlzLl9kb0ZpbmFsaXplKCl9fV0sW3trZXk6Il9jcmVhdGVIZWxwZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBuZXcgZShyKS5maW5hbGl6ZSh0KX19fSx7a2V5OiJfY3JlYXRlSG1hY0hlbHBlciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIG5ldyBLZShlLHIpLmZpbmFsaXplKHQpfX19XSksYX0oR2UpLEtlPWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoZSxuKXt2YXIgaTtyKHRoaXMsYSksaT10LmNhbGwodGhpcyk7dmFyIHM9bmV3IGU7aS5faGFzaGVyPXM7dmFyIG89bjsic3RyaW5nIj09dHlwZW9mIG8mJihvPWplKG8pKTt2YXIgdT1zLmJsb2NrU2l6ZSxjPTQqdTtvLnNpZ0J5dGVzPmMmJihvPXMuZmluYWxpemUobikpLG8uY2xhbXAoKTt2YXIgbD1vLmNsb25lKCk7aS5fb0tleT1sO3ZhciBmPW8uY2xvbmUoKTtpLl9pS2V5PWY7Zm9yKHZhciBkPWwud29yZHMsaD1mLndvcmRzLHA9MDtwPHU7cCs9MSlkW3BdXj0xNTQ5NTU2ODI4LGhbcF1ePTkwOTUyMjQ4NjtyZXR1cm4gbC5zaWdCeXRlcz1jLGYuc2lnQnl0ZXM9YyxpLnJlc2V0KCksaX1yZXR1cm4gbihhLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9oYXNoZXI7ZS5yZXNldCgpLGUudXBkYXRlKHRoaXMuX2lLZXkpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faGFzaGVyLnVwZGF0ZShlKSx0aGlzfX0se2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2hhc2hlcixyPXQuZmluYWxpemUoZSk7cmV0dXJuIHQucmVzZXQoKSx0LmZpbmFsaXplKHRoaXMuX29LZXkuY2xvbmUoKS5jb25jYXQocikpfX1dKSxhfShMZSkscWU9e3N0cmluZ2lmeTpmdW5jdGlvbihlKXt2YXIgdD1lLndvcmRzLHI9ZS5zaWdCeXRlcyxhPXRoaXMuX21hcDtlLmNsYW1wKCk7Zm9yKHZhciBuPVtdLGk9MDtpPHI7aSs9Mylmb3IodmFyIHM9KHRbaT4+PjJdPj4+MjQtaSU0KjgmMjU1KTw8MTZ8KHRbaSsxPj4+Ml0+Pj4yNC0oaSsxKSU0KjgmMjU1KTw8OHx0W2krMj4+PjJdPj4+MjQtKGkrMiklNCo4JjI1NSxvPTA7bzw0JiZpKy43NSpvPHI7bys9MSluLnB1c2goYS5jaGFyQXQocz4+PjYqKDMtbykmNjMpKTt2YXIgdT1hLmNoYXJBdCg2NCk7aWYodSlmb3IoO24ubGVuZ3RoJTQ7KW4ucHVzaCh1KTtyZXR1cm4gbi5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGgscj10aGlzLl9tYXAsYT10aGlzLl9yZXZlcnNlTWFwO2lmKCFhKXt0aGlzLl9yZXZlcnNlTWFwPVtdLGE9dGhpcy5fcmV2ZXJzZU1hcDtmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rPTEpYVtyLmNoYXJDb2RlQXQobildPW59dmFyIGk9ci5jaGFyQXQoNjQpO2lmKGkpe3ZhciBzPWUuaW5kZXhPZihpKTstMSE9PXMmJih0PXMpfXJldHVybiBmdW5jdGlvbihlLHQscil7Zm9yKHZhciBhPVtdLG49MCxpPTA7aTx0O2krPTEpaWYoaSU0KXt2YXIgcz1yW2UuY2hhckNvZGVBdChpLTEpXTw8aSU0KjJ8cltlLmNoYXJDb2RlQXQoaSldPj4+Ni1pJTQqMjthW24+Pj4yXXw9czw8MjQtbiU0Kjgsbis9MX1yZXR1cm4gVmUuY3JlYXRlKGEsbil9KGUsdCxhKX0sX21hcDoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0ifSxXZT1bXSxYZT0wO1hlPDY0O1hlKz0xKVdlW1hlXT00Mjk0OTY3Mjk2Kk1hdGguYWJzKE1hdGguc2luKFhlKzEpKXwwO3ZhciBZZT1mdW5jdGlvbihlLHQscixhLG4saSxzKXt2YXIgbz1lKyh0JnJ8fnQmYSkrbitzO3JldHVybihvPDxpfG8+Pj4zMi1pKSt0fSxaZT1mdW5jdGlvbihlLHQscixhLG4saSxzKXt2YXIgbz1lKyh0JmF8ciZ+YSkrbitzO3JldHVybihvPDxpfG8+Pj4zMi1pKSt0fSxRZT1mdW5jdGlvbihlLHQscixhLG4saSxzKXt2YXIgbz1lKyh0XnJeYSkrbitzO3JldHVybihvPDxpfG8+Pj4zMi1pKSt0fSxKZT1mdW5jdGlvbihlLHQscixhLG4saSxzKXt2YXIgbz1lKyhyXih0fH5hKSkrbitzO3JldHVybihvPDxpfG8+Pj4zMi1pKSt0fSwkZT1mdW5jdGlvbihlKXtzKGEsZSk7dmFyIHQ9ZChhKTtmdW5jdGlvbiBhKCl7cmV0dXJuIHIodGhpcyxhKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gbihhLFt7a2V5OiJfZG9SZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBWZShbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSl9fSx7a2V5OiJfZG9Qcm9jZXNzQmxvY2siLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUsYT0wO2E8MTY7YSs9MSl7dmFyIG49dCthLGk9ZVtuXTtyW25dPTE2NzExOTM1JihpPDw4fGk+Pj4yNCl8NDI3ODI1NTM2MCYoaTw8MjR8aT4+PjgpfXZhciBzPXRoaXMuX2hhc2gud29yZHMsbz1yW3QrMF0sdT1yW3QrMV0sYz1yW3QrMl0sbD1yW3QrM10sZj1yW3QrNF0sZD1yW3QrNV0saD1yW3QrNl0scD1yW3QrN10sdj1yW3QrOF0seT1yW3QrOV0sbT1yW3QrMTBdLGc9clt0KzExXSxrPXJbdCsxMl0sYj1yW3QrMTNdLF89clt0KzE0XSx3PXJbdCsxNV0seD1zWzBdLFM9c1sxXSxEPXNbMl0sQT1zWzNdO3g9WWUoeCxTLEQsQSxvLDcsV2VbMF0pLEE9WWUoQSx4LFMsRCx1LDEyLFdlWzFdKSxEPVllKEQsQSx4LFMsYywxNyxXZVsyXSksUz1ZZShTLEQsQSx4LGwsMjIsV2VbM10pLHg9WWUoeCxTLEQsQSxmLDcsV2VbNF0pLEE9WWUoQSx4LFMsRCxkLDEyLFdlWzVdKSxEPVllKEQsQSx4LFMsaCwxNyxXZVs2XSksUz1ZZShTLEQsQSx4LHAsMjIsV2VbN10pLHg9WWUoeCxTLEQsQSx2LDcsV2VbOF0pLEE9WWUoQSx4LFMsRCx5LDEyLFdlWzldKSxEPVllKEQsQSx4LFMsbSwxNyxXZVsxMF0pLFM9WWUoUyxELEEseCxnLDIyLFdlWzExXSkseD1ZZSh4LFMsRCxBLGssNyxXZVsxMl0pLEE9WWUoQSx4LFMsRCxiLDEyLFdlWzEzXSksRD1ZZShELEEseCxTLF8sMTcsV2VbMTRdKSxTPVllKFMsRCxBLHgsdywyMixXZVsxNV0pLHg9WmUoeCxTLEQsQSx1LDUsV2VbMTZdKSxBPVplKEEseCxTLEQsaCw5LFdlWzE3XSksRD1aZShELEEseCxTLGcsMTQsV2VbMThdKSxTPVplKFMsRCxBLHgsbywyMCxXZVsxOV0pLHg9WmUoeCxTLEQsQSxkLDUsV2VbMjBdKSxBPVplKEEseCxTLEQsbSw5LFdlWzIxXSksRD1aZShELEEseCxTLHcsMTQsV2VbMjJdKSxTPVplKFMsRCxBLHgsZiwyMCxXZVsyM10pLHg9WmUoeCxTLEQsQSx5LDUsV2VbMjRdKSxBPVplKEEseCxTLEQsXyw5LFdlWzI1XSksRD1aZShELEEseCxTLGwsMTQsV2VbMjZdKSxTPVplKFMsRCxBLHgsdiwyMCxXZVsyN10pLHg9WmUoeCxTLEQsQSxiLDUsV2VbMjhdKSxBPVplKEEseCxTLEQsYyw5LFdlWzI5XSksRD1aZShELEEseCxTLHAsMTQsV2VbMzBdKSxTPVplKFMsRCxBLHgsaywyMCxXZVszMV0pLHg9UWUoeCxTLEQsQSxkLDQsV2VbMzJdKSxBPVFlKEEseCxTLEQsdiwxMSxXZVszM10pLEQ9UWUoRCxBLHgsUyxnLDE2LFdlWzM0XSksUz1RZShTLEQsQSx4LF8sMjMsV2VbMzVdKSx4PVFlKHgsUyxELEEsdSw0LFdlWzM2XSksQT1RZShBLHgsUyxELGYsMTEsV2VbMzddKSxEPVFlKEQsQSx4LFMscCwxNixXZVszOF0pLFM9UWUoUyxELEEseCxtLDIzLFdlWzM5XSkseD1RZSh4LFMsRCxBLGIsNCxXZVs0MF0pLEE9UWUoQSx4LFMsRCxvLDExLFdlWzQxXSksRD1RZShELEEseCxTLGwsMTYsV2VbNDJdKSxTPVFlKFMsRCxBLHgsaCwyMyxXZVs0M10pLHg9UWUoeCxTLEQsQSx5LDQsV2VbNDRdKSxBPVFlKEEseCxTLEQsaywxMSxXZVs0NV0pLEQ9UWUoRCxBLHgsUyx3LDE2LFdlWzQ2XSksUz1RZShTLEQsQSx4LGMsMjMsV2VbNDddKSx4PUplKHgsUyxELEEsbyw2LFdlWzQ4XSksQT1KZShBLHgsUyxELHAsMTAsV2VbNDldKSxEPUplKEQsQSx4LFMsXywxNSxXZVs1MF0pLFM9SmUoUyxELEEseCxkLDIxLFdlWzUxXSkseD1KZSh4LFMsRCxBLGssNixXZVs1Ml0pLEE9SmUoQSx4LFMsRCxsLDEwLFdlWzUzXSksRD1KZShELEEseCxTLG0sMTUsV2VbNTRdKSxTPUplKFMsRCxBLHgsdSwyMSxXZVs1NV0pLHg9SmUoeCxTLEQsQSx2LDYsV2VbNTZdKSxBPUplKEEseCxTLEQsdywxMCxXZVs1N10pLEQ9SmUoRCxBLHgsUyxoLDE1LFdlWzU4XSksUz1KZShTLEQsQSx4LGIsMjEsV2VbNTldKSx4PUplKHgsUyxELEEsZiw2LFdlWzYwXSksQT1KZShBLHgsUyxELGcsMTAsV2VbNjFdKSxEPUplKEQsQSx4LFMsYywxNSxXZVs2Ml0pLFM9SmUoUyxELEEseCx5LDIxLFdlWzYzXSksc1swXT1zWzBdK3h8MCxzWzFdPXNbMV0rU3wwLHNbMl09c1syXStEfDAsc1szXT1zWzNdK0F8MH19LHtrZXk6Il9kb0ZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2RhdGEsdD1lLndvcmRzLHI9OCp0aGlzLl9uRGF0YUJ5dGVzLGE9OCplLnNpZ0J5dGVzO3RbYT4+PjVdfD0xMjg8PDI0LWElMzI7dmFyIG49TWF0aC5mbG9vcihyLzQyOTQ5NjcyOTYpLGk9cjt0WzE1KyhhKzY0Pj4+OTw8NCldPTE2NzExOTM1JihuPDw4fG4+Pj4yNCl8NDI3ODI1NTM2MCYobjw8MjR8bj4+PjgpLHRbMTQrKGErNjQ+Pj45PDw0KV09MTY3MTE5MzUmKGk8PDh8aT4+PjI0KXw0Mjc4MjU1MzYwJihpPDwyNHxpPj4+OCksZS5zaWdCeXRlcz00Kih0Lmxlbmd0aCsxKSx0aGlzLl9wcm9jZXNzKCk7Zm9yKHZhciBzPXRoaXMuX2hhc2gsbz1zLndvcmRzLHU9MDt1PDQ7dSs9MSl7dmFyIGM9b1t1XTtvW3VdPTE2NzExOTM1JihjPDw4fGM+Pj4yNCl8NDI3ODI1NTM2MCYoYzw8MjR8Yz4+PjgpfXJldHVybiBzfX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9cChvKGEucHJvdG90eXBlKSwiY2xvbmUiLHRoaXMpLmNhbGwodGhpcyk7cmV0dXJuIGUuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLGV9fV0pLGF9KEhlKTtIZS5fY3JlYXRlSGVscGVyKCRlKSxIZS5fY3JlYXRlSG1hY0hlbHBlcigkZSk7dmFyIGV0PWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoZSl7dmFyIG47cmV0dXJuIHIodGhpcyxhKSwobj10LmNhbGwodGhpcykpLmNmZz1PYmplY3QuYXNzaWduKG5ldyBMZSx7a2V5U2l6ZTo0LGhhc2hlcjokZSxpdGVyYXRpb25zOjF9LGUpLG59cmV0dXJuIG4oYSxbe2tleToiY29tcHV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsYT10aGlzLmNmZyxuPWEuaGFzaGVyLmNyZWF0ZSgpLGk9VmUuY3JlYXRlKCkscz1pLndvcmRzLG89YS5rZXlTaXplLHU9YS5pdGVyYXRpb25zO3MubGVuZ3RoPG87KXtyJiZuLnVwZGF0ZShyKSxyPW4udXBkYXRlKGUpLmZpbmFsaXplKHQpLG4ucmVzZXQoKTtmb3IodmFyIGM9MTtjPHU7Yys9MSlyPW4uZmluYWxpemUociksbi5yZXNldCgpO2kuY29uY2F0KHIpfXJldHVybiBpLnNpZ0J5dGVzPTQqbyxpfX1dKSxhfShMZSksdHQ9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYShlLG4saSl7dmFyIHM7cmV0dXJuIHIodGhpcyxhKSwocz10LmNhbGwodGhpcykpLmNmZz1PYmplY3QuYXNzaWduKG5ldyBMZSxpKSxzLl94Zm9ybU1vZGU9ZSxzLl9rZXk9bixzLnJlc2V0KCksc31yZXR1cm4gbihhLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXtwKG8oYS5wcm90b3R5cGUpLCJyZXNldCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLl9kb1Jlc2V0KCl9fSx7a2V5OiJwcm9jZXNzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYXBwZW5kKGUpLHRoaXMuX3Byb2Nlc3MoKX19LHtrZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy5fYXBwZW5kKGUpLHRoaXMuX2RvRmluYWxpemUoKX19XSxbe2tleToiY3JlYXRlRW5jcnlwdG9yIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNyZWF0ZSh0aGlzLl9FTkNfWEZPUk1fTU9ERSxlLHQpfX0se2tleToiY3JlYXRlRGVjcnlwdG9yIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNyZWF0ZSh0aGlzLl9ERUNfWEZPUk1fTU9ERSxlLHQpfX0se2tleToiX2NyZWF0ZUhlbHBlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP2Z0OmN0fTtyZXR1cm57ZW5jcnlwdDpmdW5jdGlvbihyLGEsbil7cmV0dXJuIHQoYSkuZW5jcnlwdChlLHIsYSxuKX0sZGVjcnlwdDpmdW5jdGlvbihyLGEsbil7cmV0dXJuIHQoYSkuZGVjcnlwdChlLHIsYSxuKX19fX1dKSxhfShHZSk7dHQuX0VOQ19YRk9STV9NT0RFPTEsdHQuX0RFQ19YRk9STV9NT0RFPTIsdHQua2V5U2l6ZT00LHR0Lml2U2l6ZT00O3ZhciBydD1mdW5jdGlvbihlKXtzKGEsZSk7dmFyIHQ9ZChhKTtmdW5jdGlvbiBhKGUsbil7dmFyIGk7cmV0dXJuIHIodGhpcyxhKSwoaT10LmNhbGwodGhpcykpLl9jaXBoZXI9ZSxpLl9pdj1uLGl9cmV0dXJuIG4oYSxudWxsLFt7a2V5OiJjcmVhdGVFbmNyeXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuRW5jcnlwdG9yLmNyZWF0ZShlLHQpfX0se2tleToiY3JlYXRlRGVjcnlwdG9yIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLkRlY3J5cHRvci5jcmVhdGUoZSx0KX19XSksYX0oTGUpO2Z1bmN0aW9uIGF0KGUsdCxyKXt2YXIgYSxuPWUsaT10aGlzLl9pdjtpPyhhPWksdGhpcy5faXY9dm9pZCAwKTphPXRoaXMuX3ByZXZCbG9jaztmb3IodmFyIHM9MDtzPHI7cys9MSluW3Qrc11ePWFbc119dmFyIG50PWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gcih0aGlzLGEpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBuKGEpfShydCk7bnQuRW5jcnlwdG9yPWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gcih0aGlzLGEpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBuKGEsW3trZXk6InByb2Nlc3NCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9jaXBoZXIsYT1yLmJsb2NrU2l6ZTthdC5jYWxsKHRoaXMsZSx0LGEpLHIuZW5jcnlwdEJsb2NrKGUsdCksdGhpcy5fcHJldkJsb2NrPWUuc2xpY2UodCx0K2EpfX1dKSxhfShudCksbnQuRGVjcnlwdG9yPWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gcih0aGlzLGEpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBuKGEsW3trZXk6InByb2Nlc3NCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9jaXBoZXIsYT1yLmJsb2NrU2l6ZSxuPWUuc2xpY2UodCx0K2EpO3IuZGVjcnlwdEJsb2NrKGUsdCksYXQuY2FsbCh0aGlzLGUsdCxhKSx0aGlzLl9wcmV2QmxvY2s9bn19XSksYX0obnQpO3ZhciBpdD17cGFkOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTQqdCxhPXItZS5zaWdCeXRlcyVyLG49YTw8MjR8YTw8MTZ8YTw8OHxhLGk9W10scz0wO3M8YTtzKz00KWkucHVzaChuKTt2YXIgbz1WZS5jcmVhdGUoaSxhKTtlLmNvbmNhdChvKX0sdW5wYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZSxyPTI1NSZ0LndvcmRzW3Quc2lnQnl0ZXMtMT4+PjJdO3Quc2lnQnl0ZXMtPXJ9fSxzdD1mdW5jdGlvbihlKXtzKGEsZSk7dmFyIHQ9ZChhKTtmdW5jdGlvbiBhKGUsbixpKXt2YXIgcztyZXR1cm4gcih0aGlzLGEpLChzPXQuY2FsbCh0aGlzLGUsbixPYmplY3QuYXNzaWduKHttb2RlOm50LHBhZGRpbmc6aXR9LGkpKSkuYmxvY2tTaXplPTQsc31yZXR1cm4gbihhLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTtwKG8oYS5wcm90b3R5cGUpLCJyZXNldCIsdGhpcykuY2FsbCh0aGlzKTt2YXIgdD10aGlzLmNmZyxyPXQuaXYsbj10Lm1vZGU7dGhpcy5feGZvcm1Nb2RlPT09dGhpcy5jb25zdHJ1Y3Rvci5fRU5DX1hGT1JNX01PREU/ZT1uLmNyZWF0ZUVuY3J5cHRvcjooZT1uLmNyZWF0ZURlY3J5cHRvcix0aGlzLl9taW5CdWZmZXJTaXplPTEpLHRoaXMuX21vZGU9ZS5jYWxsKG4sdGhpcyxyJiZyLndvcmRzKSx0aGlzLl9tb2RlLl9fY3JlYXRvcj1lfX0se2tleToiX2RvUHJvY2Vzc0Jsb2NrIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX21vZGUucHJvY2Vzc0Jsb2NrKGUsdCl9fSx7a2V5OiJfZG9GaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuY2ZnLnBhZGRpbmc7cmV0dXJuIHRoaXMuX3hmb3JtTW9kZT09PXRoaXMuY29uc3RydWN0b3IuX0VOQ19YRk9STV9NT0RFPyh0LnBhZCh0aGlzLl9kYXRhLHRoaXMuYmxvY2tTaXplKSxlPXRoaXMuX3Byb2Nlc3MoITApKTooZT10aGlzLl9wcm9jZXNzKCEwKSx0LnVucGFkKGUpKSxlfX1dKSxhfSh0dCksb3Q9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYShlKXt2YXIgbjtyZXR1cm4gcih0aGlzLGEpLChuPXQuY2FsbCh0aGlzKSkubWl4SW4oZSksbn1yZXR1cm4gbihhLFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fHRoaXMuZm9ybWF0dGVyKS5zdHJpbmdpZnkodGhpcyl9fV0pLGF9KExlKSx1dD17c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe3ZhciB0PWUuY2lwaGVydGV4dCxyPWUuc2FsdDtyZXR1cm4ocj9WZS5jcmVhdGUoWzEzOTg4OTM2ODQsMTcwMTA3NjgzMV0pLmNvbmNhdChyKS5jb25jYXQodCk6dCkudG9TdHJpbmcocWUpfSxwYXJzZTpmdW5jdGlvbihlKXt2YXIgdCxyPXFlLnBhcnNlKGUpLGE9ci53b3JkcztyZXR1cm4gMTM5ODg5MzY4ND09PWFbMF0mJjE3MDEwNzY4MzE9PT1hWzFdJiYodD1WZS5jcmVhdGUoYS5zbGljZSgyLDQpKSxhLnNwbGljZSgwLDQpLHIuc2lnQnl0ZXMtPTE2KSxvdC5jcmVhdGUoe2NpcGhlcnRleHQ6cixzYWx0OnR9KX19LGN0PWZ1bmN0aW9uKGUpe3MoYSxlKTt2YXIgdD1kKGEpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gcih0aGlzLGEpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBuKGEsbnVsbCxbe2tleToiZW5jcnlwdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsYSl7dmFyIG49T2JqZWN0LmFzc2lnbihuZXcgTGUsdGhpcy5jZmcsYSksaT1lLmNyZWF0ZUVuY3J5cHRvcihyLG4pLHM9aS5maW5hbGl6ZSh0KSxvPWkuY2ZnO3JldHVybiBvdC5jcmVhdGUoe2NpcGhlcnRleHQ6cyxrZXk6cixpdjpvLml2LGFsZ29yaXRobTplLG1vZGU6by5tb2RlLHBhZGRpbmc6by5wYWRkaW5nLGJsb2NrU2l6ZTppLmJsb2NrU2l6ZSxmb3JtYXR0ZXI6bi5mb3JtYXR9KX19LHtrZXk6ImRlY3J5cHQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBuPXQsaT1PYmplY3QuYXNzaWduKG5ldyBMZSx0aGlzLmNmZyxhKTtyZXR1cm4gbj10aGlzLl9wYXJzZShuLGkuZm9ybWF0KSxlLmNyZWF0ZURlY3J5cHRvcihyLGkpLmZpbmFsaXplKG4uY2lwaGVydGV4dCl9fSx7a2V5OiJfcGFyc2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP3QucGFyc2UoZSx0aGlzKTplfX1dKSxhfShMZSk7Y3QuY2ZnPU9iamVjdC5hc3NpZ24obmV3IExlLHtmb3JtYXQ6dXR9KTt2YXIgbHQ9e2V4ZWN1dGU6ZnVuY3Rpb24oZSx0LHIsYSl7dmFyIG49YTtufHwobj1WZS5yYW5kb20oOCkpO3ZhciBpPWV0LmNyZWF0ZSh7a2V5U2l6ZTp0K3J9KS5jb21wdXRlKGUsbikscz1WZS5jcmVhdGUoaS53b3Jkcy5zbGljZSh0KSw0KnIpO3JldHVybiBpLnNpZ0J5dGVzPTQqdCxvdC5jcmVhdGUoe2tleTppLGl2OnMsc2FsdDpufSl9fSxmdD1mdW5jdGlvbihlKXtzKGEsZSk7dmFyIHQ9ZChhKTtmdW5jdGlvbiBhKCl7cmV0dXJuIHIodGhpcyxhKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gbihhLG51bGwsW3trZXk6ImVuY3J5cHQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBuPU9iamVjdC5hc3NpZ24obmV3IExlLHRoaXMuY2ZnLGEpLGk9bi5rZGYuZXhlY3V0ZShyLGUua2V5U2l6ZSxlLml2U2l6ZSk7bi5pdj1pLml2O3ZhciBzPWN0LmVuY3J5cHQuY2FsbCh0aGlzLGUsdCxpLmtleSxuKTtyZXR1cm4gcy5taXhJbihpKSxzfX0se2tleToiZGVjcnlwdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsYSl7dmFyIG49dCxpPU9iamVjdC5hc3NpZ24obmV3IExlLHRoaXMuY2ZnLGEpO249dGhpcy5fcGFyc2UobixpLmZvcm1hdCk7dmFyIHM9aS5rZGYuZXhlY3V0ZShyLGUua2V5U2l6ZSxlLml2U2l6ZSxuLnNhbHQpO3JldHVybiBpLml2PXMuaXYsY3QuZGVjcnlwdC5jYWxsKHRoaXMsZSxuLHMua2V5LGkpfX1dKSxhfShjdCk7ZnQuY2ZnPU9iamVjdC5hc3NpZ24oY3QuY2ZnLHtrZGY6bHR9KTtmb3IodmFyIGR0PVtdLGh0PVtdLHB0PVtdLHZ0PVtdLHl0PVtdLG10PVtdLGd0PVtdLGt0PVtdLGJ0PVtdLF90PVtdLHd0PVtdLHh0PTA7eHQ8MjU2O3h0Kz0xKXd0W3h0XT14dDwxMjg/eHQ8PDE6eHQ8PDFeMjgzO2Zvcih2YXIgU3Q9MCxEdD0wLEF0PTA7QXQ8MjU2O0F0Kz0xKXt2YXIgVHQ9RHReRHQ8PDFeRHQ8PDJeRHQ8PDNeRHQ8PDQ7VHQ9VHQ+Pj44XjI1NSZUdF45OSxkdFtTdF09VHQsaHRbVHRdPVN0O3ZhciBCdD13dFtTdF0sRXQ9d3RbQnRdLFV0PXd0W0V0XSxDdD0yNTcqd3RbVHRdXjE2ODQzMDA4KlR0O3B0W1N0XT1DdDw8MjR8Q3Q+Pj44LHZ0W1N0XT1DdDw8MTZ8Q3Q+Pj4xNix5dFtTdF09Q3Q8PDh8Q3Q+Pj4yNCxtdFtTdF09Q3QsQ3Q9MTY4NDMwMDkqVXReNjU1MzcqRXReMjU3KkJ0XjE2ODQzMDA4KlN0LGd0W1R0XT1DdDw8MjR8Q3Q+Pj44LGt0W1R0XT1DdDw8MTZ8Q3Q+Pj4xNixidFtUdF09Q3Q8PDh8Q3Q+Pj4yNCxfdFtUdF09Q3QsU3Q/KFN0PUJ0Xnd0W3d0W3d0W1V0XkJ0XV1dLER0Xj13dFt3dFtEdF1dKTpTdD1EdD0xfXZhciBQdD1bMCwxLDIsNCw4LDE2LDMyLDY0LDEyOCwyNyw1NF0sSXQ9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYSgpe3JldHVybiByKHRoaXMsYSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG4oYSxbe2tleToiX2RvUmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU7aWYoIXRoaXMuX25Sb3VuZHN8fHRoaXMuX2tleVByaW9yUmVzZXQhPT10aGlzLl9rZXkpe3RoaXMuX2tleVByaW9yUmVzZXQ9dGhpcy5fa2V5O3ZhciB0PXRoaXMuX2tleVByaW9yUmVzZXQscj10LndvcmRzLGE9dC5zaWdCeXRlcy80O3RoaXMuX25Sb3VuZHM9YSs2O3ZhciBuPTQqKHRoaXMuX25Sb3VuZHMrMSk7dGhpcy5fa2V5U2NoZWR1bGU9W107Zm9yKHZhciBpPXRoaXMuX2tleVNjaGVkdWxlLHM9MDtzPG47cys9MSlzPGE/aVtzXT1yW3NdOihlPWlbcy0xXSxzJWE/YT42JiZzJWE9PTQmJihlPWR0W2U+Pj4yNF08PDI0fGR0W2U+Pj4xNiYyNTVdPDwxNnxkdFtlPj4+OCYyNTVdPDw4fGR0WzI1NSZlXSk6KGU9ZHRbKGU9ZTw8OHxlPj4+MjQpPj4+MjRdPDwyNHxkdFtlPj4+MTYmMjU1XTw8MTZ8ZHRbZT4+PjgmMjU1XTw8OHxkdFsyNTUmZV0sZV49UHRbcy9hfDBdPDwyNCksaVtzXT1pW3MtYV1eZSk7dGhpcy5faW52S2V5U2NoZWR1bGU9W107Zm9yKHZhciBvPXRoaXMuX2ludktleVNjaGVkdWxlLHU9MDt1PG47dSs9MSl7dmFyIGM9bi11O2U9dSU0P2lbY106aVtjLTRdLG9bdV09dTw0fHxjPD00P2U6Z3RbZHRbZT4+PjI0XV1ea3RbZHRbZT4+PjE2JjI1NV1dXmJ0W2R0W2U+Pj44JjI1NV1dXl90W2R0WzI1NSZlXV19fX19LHtrZXk6ImVuY3J5cHRCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9kb0NyeXB0QmxvY2soZSx0LHRoaXMuX2tleVNjaGVkdWxlLHB0LHZ0LHl0LG10LGR0KX19LHtrZXk6ImRlY3J5cHRCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLGE9clt0KzFdO3JbdCsxXT1yW3QrM10sclt0KzNdPWEsdGhpcy5fZG9DcnlwdEJsb2NrKHIsdCx0aGlzLl9pbnZLZXlTY2hlZHVsZSxndCxrdCxidCxfdCxodCksYT1yW3QrMV0sclt0KzFdPXJbdCszXSxyW3QrM109YX19LHtrZXk6Il9kb0NyeXB0QmxvY2siLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLGEsbixpLHMsbyl7Zm9yKHZhciB1PWUsYz10aGlzLl9uUm91bmRzLGw9dVt0XV5yWzBdLGY9dVt0KzFdXnJbMV0sZD11W3QrMl1eclsyXSxoPXVbdCszXV5yWzNdLHA9NCx2PTE7djxjO3YrPTEpe3ZhciB5PWFbbD4+PjI0XV5uW2Y+Pj4xNiYyNTVdXmlbZD4+PjgmMjU1XV5zWzI1NSZoXV5yW3BdO3ArPTE7dmFyIG09YVtmPj4+MjRdXm5bZD4+PjE2JjI1NV1eaVtoPj4+OCYyNTVdXnNbMjU1JmxdXnJbcF07cCs9MTt2YXIgZz1hW2Q+Pj4yNF1ebltoPj4+MTYmMjU1XV5pW2w+Pj44JjI1NV1ec1syNTUmZl1ecltwXTtwKz0xO3ZhciBrPWFbaD4+PjI0XV5uW2w+Pj4xNiYyNTVdXmlbZj4+PjgmMjU1XV5zWzI1NSZkXV5yW3BdO3ArPTEsbD15LGY9bSxkPWcsaD1rfXZhciBiPShvW2w+Pj4yNF08PDI0fG9bZj4+PjE2JjI1NV08PDE2fG9bZD4+PjgmMjU1XTw8OHxvWzI1NSZoXSlecltwXTtwKz0xO3ZhciBfPShvW2Y+Pj4yNF08PDI0fG9bZD4+PjE2JjI1NV08PDE2fG9baD4+PjgmMjU1XTw8OHxvWzI1NSZsXSlecltwXTtwKz0xO3ZhciB3PShvW2Q+Pj4yNF08PDI0fG9baD4+PjE2JjI1NV08PDE2fG9bbD4+PjgmMjU1XTw8OHxvWzI1NSZmXSlecltwXTtwKz0xO3ZhciB4PShvW2g+Pj4yNF08PDI0fG9bbD4+PjE2JjI1NV08PDE2fG9bZj4+PjgmMjU1XTw8OHxvWzI1NSZkXSlecltwXTtwKz0xLHVbdF09Yix1W3QrMV09Xyx1W3QrMl09dyx1W3QrM109eH19XSksYX0oc3QpO0l0LmtleVNpemU9ODt2YXIgTXQ9c3QuX2NyZWF0ZUhlbHBlcihJdCksenQ9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYSgpe3JldHVybiByKHRoaXMsYSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG4oYSl9KHJ0KTt6dC5FbmNyeXB0b3I9ZnVuY3Rpb24oZSl7cyhhLGUpO3ZhciB0PWQoYSk7ZnVuY3Rpb24gYSgpe3JldHVybiByKHRoaXMsYSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG4oYSxbe2tleToicHJvY2Vzc0Jsb2NrIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsYT10aGlzLl9jaXBoZXIsbj1hLmJsb2NrU2l6ZSxpPXRoaXMuX2l2LHM9dGhpcy5fY291bnRlcjtpJiYodGhpcy5fY291bnRlcj1pLnNsaWNlKDApLHM9dGhpcy5fY291bnRlcix0aGlzLl9pdj12b2lkIDApO3ZhciBvPXMuc2xpY2UoMCk7YS5lbmNyeXB0QmxvY2sobywwKSxzW24tMV09c1tuLTFdKzF8MDtmb3IodmFyIHU9MDt1PG47dSs9MSlyW3QrdV1ePW9bdV19fV0pLGF9KHp0KSx6dC5EZWNyeXB0b3I9enQuRW5jcnlwdG9yO3ZhciBPdD17cGFkOmZ1bmN0aW9uKCl7fSx1bnBhZDpmdW5jdGlvbigpe319LFJ0PXtkZWNyeXB0V29yZEFycmF5OmZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1GZS5wYXJzZSh0KSxuPUZlLnBhcnNlKGllKHIpKSxpPVZlLmNyZWF0ZShuZXcgVWludDhBcnJheShlKSkscz1NdC5kZWNyeXB0KG90LmNyZWF0ZSh7Y2lwaGVydGV4dDppfSksYSx7aXY6bixtb2RlOnp0LHBhZGRpbmc6T3R9KTtyZXR1cm4gUnQud29yZEFycmF5VG9VaW50OEFycmF5KHMpfSx3b3JkQXJyYXlUb1VpbnQ4QXJyYXk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuc2lnQnl0ZXMscj1lLndvcmRzLGE9bmV3IFVpbnQ4QXJyYXkodCksbj0wLGk9MDtuIT09dDspe3ZhciBzPXJbaSsrXTtpZihhW24rK109KDQyNzgxOTAwODAmcyk+Pj4yNCxuPT09dClicmVhaztpZihhW24rK109KDE2NzExNjgwJnMpPj4+MTYsbj09PXQpYnJlYWs7aWYoYVtuKytdPSg2NTI4MCZzKT4+Pjgsbj09PXQpYnJlYWs7YVtuKytdPTI1NSZzfXJldHVybiBhfSxkZWNvZGVyQUVTQ1RSRGF0YTpmdW5jdGlvbihlLHQscil7aWYoZS52aWRlb1NlbmMpe3ZhciBhPWUua2lkVmFsdWUsbj1lLnZpZGVvU2VuYztlLnNhbXBsZXMuZm9yRWFjaCgoZnVuY3Rpb24odCxpKXt2YXIgcz1uW2ldLG89dC5kYXRhLHU9W10sYz1bXSxsPXMuSW5pdGlhbGl6YXRpb25WZWN0b3I7aWYocy5zdWJzYW1wbGVzJiZzLnN1YnNhbXBsZXMubGVuZ3RoKXMuc3Vic2FtcGxlcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLkJ5dGVzT2ZDbGVhckRhdGErZS5CeXRlc09mUHJvdGVjdGVkRGF0YSxyPW8uc2xpY2UoMCx0KTt1LnB1c2goci5zbGljZSgwLGUuQnl0ZXNPZkNsZWFyRGF0YSkpLGMucHVzaChyLnNsaWNlKGUuQnl0ZXNPZkNsZWFyRGF0YSkpLG89by5zbGljZSh0KX0pKTtlbHNle3ZhciBmPXQuc2l6ZTt1LnB1c2goby5zbGljZSgwLDApKSxjLnB1c2goby5zbGljZSgwLGYpKSxvPW8uc2xpY2UoZil9dmFyIGQ9bmV3IEllO2Qud3JpdGUuYXBwbHkoZCxjKTt2YXIgaD1yP3IoZC5idWZmZXIsYSxsKTpSdC5kZWNyeXB0V29yZEFycmF5KGQuYnVmZmVyLGEsbCkscD1uZXcgSWU7dS5mb3JFYWNoKChmdW5jdGlvbihlLHQpe3ZhciByPWNbdF0ubGVuZ3RoLGE9aC5zbGljZSgwLHIpO3Aud3JpdGUoZSkscC53cml0ZShhKSxoPWguc2xpY2Uocil9KSksZS5zYW1wbGVzW2ldLmRhdGE9cC5idWZmZXJ9KSl9aWYodC5hdWRpb1NlbmMpe3ZhciBpPXQua2lkVmFsdWUscz10LmF1ZGlvU2VuYzt0LnNhbXBsZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSxhKXt2YXIgbj1zW2FdLG89cj9yKGUuZGF0YSxpLG4uSW5pdGlhbGl6YXRpb25WZWN0b3IpOlJ0LmRlY3J5cHRXb3JkQXJyYXkoZS5kYXRhLGksbi5Jbml0aWFsaXphdGlvblZlY3Rvcik7dC5zYW1wbGVzW2FdLmRhdGE9b30pKX19fSxMdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxhLG4scyl7dmFyIG89dGhpcztyKHRoaXMsZSksaSh0aGlzLCJfdmlkZW9TYW1wbGVzIixbXSksaSh0aGlzLCJfYXVkaW9TYW1wbGVzIixbXSksaSh0aGlzLCJfbGFzdFJlbWFpbkJ1ZmZlciIsW10pLGkodGhpcywiX2xhc3RSZW1haW5CdWZmZXJTdGFydFBvcyIsMCksdGhpcy52aWRlb1RyYWNrPW5ldyBSLHRoaXMuYXVkaW9UcmFjaz1uZXcgTCx0aGlzLm1ldGFkYXRhVHJhY2s9bnx8bmV3IEgsdGhpcy5sb2c9bmV3IE9lKCJNUDREZW11eGVyIiwhc3x8IXMub3BlbkxvZ3x8IXMub3BlbkxvZyksdCYmdC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDsodD1vLl92aWRlb1NhbXBsZXMpLnB1c2guYXBwbHkodCx5KGUuZnJhbWVzKSl9KSksYSYmYS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDsodD1vLl9hdWRpb1NhbXBsZXMpLnB1c2guYXBwbHkodCx5KGUuZnJhbWVzKSl9KSl9cmV0dXJuIG4oZSxbe2tleToicGFyc2VTYW1wbGVzIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIm1vb3YgaXMgcmVxdWlyZWQiKTtpZih0aGlzLnZpZGVvVHJhY2suY29kZWN8fHRoaXMuYXVkaW9UcmFjay5jb2RlY3x8KERlLm1vb3ZUb1RyYWNrKGUsdGhpcy52aWRlb1RyYWNrLHRoaXMuYXVkaW9UcmFjayksdGhpcy52aWRlb1NlbmM9dGhpcy52aWRlb1RyYWNrLnZpZGVvU2VuYyx0aGlzLmF1ZGlvU2VuYz10aGlzLmF1ZGlvVHJhY2suYXVkaW9TZW5jKSwhdGhpcy5fYXVkaW9TYW1wbGVzLmxlbmd0aCYmIXRoaXMuX3ZpZGVvU2FtcGxlcy5sZW5ndGgpe3ZhciB0PURlLm1vb3ZUb1NhbXBsZXMoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgcGFyc2Ugc2FtcGxlcyBmcm9tIG1vb3YgYm94Iik7dGhpcy5fdmlkZW9TYW1wbGVzPXQudmlkZW9TYW1wbGVzfHxbXSx0aGlzLl9hdWRpb1NhbXBsZXM9dC5hdWRpb1NhbXBsZXN8fFtdfX19LHtrZXk6ImRlbXV4Iix2YWx1ZTpmdW5jdGlvbihlLHQscixhLG4pe3RoaXMucGFyc2VTYW1wbGVzKG4pO3ZhciBpLHMsbyx1PXRoaXMudmlkZW9UcmFjayxjPXRoaXMuYXVkaW9UcmFjaztpZih1LnNhbXBsZXM9W10sYy5zYW1wbGVzPVtdLHIpe2Zvcih2YXIgbCxmPTAsZD1yWzBdLGg9clsxXTtkPD1oO2QrKyl7aWYoIShpPXRoaXMuX3ZpZGVvU2FtcGxlc1tkXSkpdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgZm91bmQgdmlkZW8gZnJhbWUgIyIuY29uY2F0KGQpKTtvPWkub2Zmc2V0LXQscz1lLnN1YmFycmF5KG8sbytpLnNpemUpLChsPW5ldyBWKGkucHRzfHxpLmR0cyxpLmR0cykpLmR1cmF0aW9uPWkuZHVyYXRpb24sbC5nb3BJZD1pLmdvcElkLGkua2V5ZnJhbWUmJmwuc2V0VG9LZXlmcmFtZSgpO2Zvcih2YXIgcD0wLHY9cy5sZW5ndGgtMTtwPHY7KWY9cmUocyxwKSxwKz00LGwudW5pdHMucHVzaChzLnN1YmFycmF5KHAscCtmKSkscCs9Zjt1LnNhbXBsZXMucHVzaChsKX11LmJhc2VNZWRpYURlY29kZVRpbWU9dS5zYW1wbGVzWzBdLmR0c31pZihhKXtmb3IodmFyIHk9YVswXSxtPWFbMV07eTw9bTt5Kyspe2lmKCEoaT10aGlzLl9hdWRpb1NhbXBsZXNbeV0pKXRocm93IG5ldyBFcnJvcigiY2Fubm90IGZvdW5kIHZpZGVvIGZyYW1lICMiLmNvbmNhdCh5KSk7bz1pLm9mZnNldC10LHM9ZS5zdWJhcnJheShvLG8raS5zaXplKSxjLnNhbXBsZXMucHVzaChuZXcgRihpLmR0cyxzLGkuZHVyYXRpb24pKX1jLmJhc2VNZWRpYURlY29kZVRpbWU9Yy5zYW1wbGVzWzBdLmR0c31yZXR1cm57dmlkZW9UcmFjazp1LGF1ZGlvVHJhY2s6YyxtZXRhZGF0YVRyYWNrOnRoaXMubWV0YWRhdGFUcmFja319fSx7a2V5OiJkZW11eFBhcnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLGEsbixpLHMsbyl7aWYodGhpcy5wYXJzZVNhbXBsZXMobiksdGhpcy52aWRlb1RyYWNrLnVzZUVNRT1pLHRoaXMuYXVkaW9UcmFjay51c2VFTUU9aSx0aGlzLl9sYXN0UmVtYWluQnVmZmVyJiZ0aGlzLl9sYXN0UmVtYWluQnVmZmVyLmJ5dGVMZW5ndGg+MCYmdD50aGlzLl9sYXN0UmVtYWluQnVmZmVyU3RhcnRQb3MmJnQ8PXRoaXMuX2xhc3RSZW1haW5CdWZmZXJTdGFydFBvcyt0aGlzLl9sYXN0UmVtYWluQnVmZmVyLmJ5dGVMZW5ndGgpZm9yKHZhciB1PTA7dTwyMDspdHJ5e3ZhciBjPXRoaXMuX2xhc3RSZW1haW5CdWZmZXIuc3ViYXJyYXkoMCx0LXRoaXMuX2xhc3RSZW1haW5CdWZmZXJTdGFydFBvcyksbD1uZXcgVWludDhBcnJheShlLmJ5dGVMZW5ndGgrYy5ieXRlTGVuZ3RoKTtsLnNldChjLDApLGwuc2V0KG5ldyBVaW50OEFycmF5KGUpLGMuYnl0ZUxlbmd0aCksZT1sLHQtPWMuYnl0ZUxlbmd0aCx0aGlzLl9sYXN0UmVtYWluQnVmZmVyPW51bGwsdGhpcy5fbGFzdFJlbWFpbkJ1ZmZlclN0YXJ0UG9zPTA7YnJlYWt9Y2F0Y2goVCl7aWYoISh1PDIwKSl0aHJvdyBuZXcgRXJyb3IoIm5ldyBVaW50OEFycmF5IGVycm9yOiwiK1QuZXJyb3JNZXNzYWdlKTt1Kyt9dmFyIGYsZCxoLHA9dGhpcy52aWRlb1RyYWNrLHY9dGhpcy5hdWRpb1RyYWNrO3Auc2FtcGxlcz1bXSx2LnNhbXBsZXM9W10scC52aWRlb1NlbmM9bnVsbCx2LmF1ZGlvU2VuYz1udWxsO3ZhciB5PTAsbT0wO2lmKHRoaXMuX3ZpZGVvU2FtcGxlcy5sZW5ndGg+MCYmci5sZW5ndGg+MCl7Zm9yKHZhciBnLGs9ZS5ieXRlTGVuZ3RoK3QsYj1yWzBdO2I8PXJbMV07YisrKXtpZighKGY9dGhpcy5fdmlkZW9TYW1wbGVzW2JdKSl0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCBmb3VuZCB2aWRlbyBmcmFtZSAjIi5jb25jYXQoYikpO2Yub2Zmc2V0Pj10JiZmLm9mZnNldCtmLnNpemU8PWsmJih5PShoPWYub2Zmc2V0LXQpK2Yuc2l6ZSxkPWUuc3ViYXJyYXkoaCx5KSwoZz1uZXcgVihmLnB0c3x8Zi5kdHMsZi5kdHMpKS5kdXJhdGlvbj1mLmR1cmF0aW9uLGcuZ29wSWQ9Zi5nb3BJZCxnLnNhbXBsZU9mZnNldD1mLmluZGV4LGYua2V5ZnJhbWUmJmcuc2V0VG9LZXlmcmFtZSgpLGcuZGF0YT1kLGcuc2l6ZT1mLnNpemUscC5zYW1wbGVzLnB1c2goZykpfXAuc2FtcGxlcy5sZW5ndGg+MCYmKHAuZ29wSWQ9cC5zYW1wbGVzWzBdLmdvcElkLHAuYmFzZU1lZGlhRGVjb2RlVGltZT1wLnNhbXBsZXNbMF0uZHRzLHAuc3RhcnRQdHM9cC5zYW1wbGVzWzBdLnB0cy9wLnRpbWVzY2FsZSxwLmVuZFB0cz1wLnNhbXBsZXNbcC5zYW1wbGVzLmxlbmd0aC0xXS5wdHMvcC50aW1lc2NhbGUsdGhpcy52aWRlb1NlbmMmJihwLnZpZGVvU2VuYz10aGlzLnZpZGVvU2VuYy5zbGljZShwLnNhbXBsZXNbMF0uc2FtcGxlT2Zmc2V0LHAuc2FtcGxlc1swXS5zYW1wbGVPZmZzZXQrcC5zYW1wbGVzLmxlbmd0aCkscC5raWRWYWx1ZT1zKSl9aWYodGhpcy5fYXVkaW9TYW1wbGVzLmxlbmd0aD4wJiZhLmxlbmd0aD4wKXtmb3IodmFyIF89YVswXTtfPD1hWzFdO18rKyl7aWYoIShmPXRoaXMuX2F1ZGlvU2FtcGxlc1tfXSkpdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgZm91bmQgdmlkZW8gZnJhbWUgIyIuY29uY2F0KF8pKTtmLm9mZnNldD49dCYmZi5vZmZzZXQrZi5zaXplPD1lLmJ5dGVMZW5ndGgrdCYmKG09KGg9Zi5vZmZzZXQtdCkrZi5zaXplLGQ9ZS5zdWJhcnJheShoLG0pLHYuc2FtcGxlcy5wdXNoKG5ldyBGKGYuZHRzLGQsZi5kdXJhdGlvbixmLmluZGV4KSkpfXYuc2FtcGxlcy5sZW5ndGg+MCYmKHYuZ29wSWQ9di5zYW1wbGVzWzBdLmdvcElkfHxwLmdvcElkLHYuYmFzZU1lZGlhRGVjb2RlVGltZT12LnNhbXBsZXNbMF0uZHRzLHYuc3RhcnRQdHM9di5zYW1wbGVzWzBdLnB0cy92LnRpbWVzY2FsZSx2LmVuZFB0cz12LnNhbXBsZXNbdi5zYW1wbGVzLmxlbmd0aC0xXS5wdHMvdi50aW1lc2NhbGUsdGhpcy5hdWRpb1NlbmMmJih2LmF1ZGlvU2VuYz10aGlzLmF1ZGlvU2VuYy5zbGljZSh2LnNhbXBsZXNbMF0uc2FtcGxlT2Zmc2V0LHYuc2FtcGxlc1swXS5zYW1wbGVPZmZzZXQrdi5zYW1wbGVzLmxlbmd0aCksdi5raWRWYWx1ZT1zKSl9dGhpcy5kZWNvZGVyRGF0YShwLHYsbyk7Zm9yKHZhciB3PTAseD0wO3g8cC5zYW1wbGVzLmxlbmd0aDt4KyspZm9yKHZhciBTPTAsRD1wLnNhbXBsZXNbeF0uZGF0YSxBPUQubGVuZ3RoLTE7UzxBOyl3PXJlKEQsUyksUys9NCxwLnNhbXBsZXNbeF0udW5pdHMucHVzaChELnN1YmFycmF5KFMsUyt3KSksUys9dztyZXR1cm4gdGhpcy5fbGFzdFJlbWFpbkJ1ZmZlcj1lLnN1YmFycmF5KE1hdGgubWF4KHksbSkpLHRoaXMuX2xhc3RSZW1haW5CdWZmZXIuYnl0ZUxlbmd0aD4wP3RoaXMuX2xhc3RSZW1haW5CdWZmZXJTdGFydFBvcz10K2UuYnl0ZUxlbmd0aC10aGlzLl9sYXN0UmVtYWluQnVmZmVyLmJ5dGVMZW5ndGg6dGhpcy5fbGFzdFJlbWFpbkJ1ZmZlclN0YXJ0UG9zPTAse3ZpZGVvVHJhY2s6cCxhdWRpb1RyYWNrOnYsbWV0YWRhdGFUcmFjazp0aGlzLm1ldGFkYXRhVHJhY2t9fX0se2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdmlkZW9TYW1wbGVzPVtdLHRoaXMuX2F1ZGlvU2FtcGxlcz1bXSx0aGlzLl9sYXN0UmVtYWluQnVmZmVyPW51bGwsdGhpcy5fbGFzdFJlbWFpbkJ1ZmZlclN0YXJ0UG9zPTAsdGhpcy52aWRlb1RyYWNrLnJlc2V0KCksdGhpcy5hdWRpb1RyYWNrLnJlc2V0KCksdGhpcy5tZXRhZGF0YVRyYWNrLnJlc2V0KCl9fSx7a2V5OiJkZWNvZGVyRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2UudXNlRU1FfHx0LnVzZUVNRXx8UnQuZGVjb2RlckFFU0NUUkRhdGEoZSx0LHIpfX1dLFt7a2V5OiJwcm9iZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIERlLnByb2JlKGUpfX1dKSxlfSgpLFZ0PXtub3dUaW1lOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBwYXJzZUludChwZXJmb3JtYW5jZS5ub3coKSwxMCl9Y2F0Y2goZSl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9fSxjb25jYXREYXRhOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W10sYT0wO2UmJnIucHVzaChlKSx0JiZyLnB1c2godCksci5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihhKz1lLmJ5dGVMZW5ndGgpLCEwfSkpO3ZhciBuPW5ldyBVaW50OEFycmF5KGEpLGk9MDtyZXR1cm4gci5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihuLnNldChlLGkpLGkrPWUuYnl0ZUxlbmd0aCksITB9KSksbn19O29ubWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgcj1lLmRhdGE7c3dpdGNoKHIubWV0aG9kKXtjYXNlImluaXQiOnRoaXMuY29kZWNUeXBlPXIuYXJncy5jb2RlY1R5cGUsdGhpcy5vcGVubG9nPXIuYXJncy5vcGVuTG9nLHRoaXMuTVA0RGVtdXhlcj1udWxsLHRoaXMuRk1QNFJlbXV4ZXI9bnVsbCx0aGlzLl9uZWVkSW5pdFNlZ21lbnQ9ITAsdGhpcy5zdXBwb3J0SGV2Yz1yLmFyZ3Muc3VwcG9ydEhldmM7YnJlYWs7Y2FzZSJ0cmFuc211eCI6dmFyIGE9ZS5kYXRhLmFyZ3Msbj1uZXcgVWludDhBcnJheShlLmRhdGEuYnVmZmVyKTt0aGlzLk1QNERlbXV4ZXJ8fCh0aGlzLk1QNERlbXV4ZXI9bmV3IEx0KG51bGwsbnVsbCxudWxsLHtvcGVubG9nOnRoaXMub3BlbmxvZ30pKTt2YXIgaSxzPXRoaXMuTVA0RGVtdXhlci5kZW11eFBhcnQobixhLnN0YXJ0LGEudmlkZW9JZHgsYS5hdWRpb0lkeCxhLm1vb3YsYS51c2VFTUUsYS5raWRWYWx1ZSk7aWYodGhpcy5GTVA0UmVtdXhlcnx8ImgyNjUiPT09dGhpcy5jb2RlY1R5cGUmJiF0aGlzLnN1cHBvcnRIZXZjfHwodGhpcy5GTVA0UmVtdXhlcj1uZXcgUmUodGhpcy5NUDREZW11eGVyLnZpZGVvVHJhY2ssdGhpcy5NUDREZW11eGVyLmF1ZGlvVHJhY2sse29wZW5Mb2c6dGhpcy5vcGVubG9nfSkpLHRoaXMuRk1QNFJlbXV4ZXIpe3ZhciBvPXRoaXMuRk1QNFJlbXV4ZXIucmVtdXgodGhpcy5fbmVlZEluaXRTZWdtZW50LHtpbml0TWVyZ2U6ITB9KTtvLmluaXRTZWdtZW50JiYodGhpcy5fbmVlZEluaXRTZWdtZW50PSExKSxpPXtidWZmZXI6VnQuY29uY2F0RGF0YShvLmF1ZGlvU2VnbWVudCxvLnZpZGVvU2VnbWVudCkscmFuZ2U6YS5jb250ZXh0LnJhbmdlLHN0YXRlOmEuY29udGV4dC5zdGF0ZSxjb250ZXh0OntyYW5nZTphLmNvbnRleHQucmFuZ2UsZnJhZ0luZGV4OmEuY29udGV4dC5mcmFnSW5kZXgsc3RhcnRQdHM6TWF0aC5taW4ocy52aWRlb1RyYWNrLnN0YXJ0UHRzLHMuYXVkaW9UcmFjay5zdGFydFB0cyksZW5kUHRzOk1hdGgubWF4KHMudmlkZW9UcmFjay5lbmRQdHMscy5hdWRpb1RyYWNrLmVuZFB0cyl9LGluaXRTZWc6by5pbml0U2VnbWVudH19dGhpcy5wb3N0TWVzc2FnZSh7bWV0aG9kOiJ0cmFuc211eCIsaWQ6ZS5kYXRhLmlkLGFyZ3M6dCh7fSxpKX0pO2JyZWFrO2Nhc2UicmVzZXQiOnRoaXMuRk1QNFJlbXV4ZXImJnRoaXMuRk1QNFJlbXV4ZXIucmVzZXQoKSx0aGlzLk1QNERlbXV4ZXImJnRoaXMuTVA0RGVtdXhlci5yZXNldCgpLHRoaXMuRk1QNFJlbXV4ZXI9bnVsbCx0aGlzLk1QNERlbXV4ZXI9bnVsbCx0aGlzLl9uZWVkSW5pdFNlZ21lbnQ9ITB9fX0oKTsK",Ji=typeof window<"u"&&window.Blob&&new Blob([atob(Rs)],{type:"text/javascript;charset=utf-8"});function nr(){var t=Ji&&(window.URL||window.webkitURL).createObjectURL(Ji);try{return t?new Worker(t,{}):new Worker("data:application/javascript;base64,"+Rs,{type:"module"})}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}var ar=function(t){si(l,t);var i=li(l);function l(e){var s;return Pe(this,l),s=i.call(this),s.openlog=e.openLog,s.codecType=e.codecType,s.supportHevc=e.supportHevc,s.worker=new nr,s.worker.onmessage=function(n){s.emit(n.data.method,n.data)},s.worker.postMessage({method:"init",id:e.id||0,args:{openlog:s.openlog,supportHevc:s.supportHevc,codecType:s.codecType}}),s}return Je(l,[{key:"transmux",value:function(s,n,a,o,r,d,c,u,h){var m=n.buffer;this.worker&&this.worker.postMessage({method:"transmux",id:s,buffer:m,args:{start:a,videoIdx:o,audioIdx:r,moov:d,useEME:c,kidValue:u,context:h}},[m])}},{key:"reset",value:function(){this.worker&&this.worker.postMessage({method:"reset"})}},{key:"destroy",value:function(){this.worker&&this.worker.terminate()}}]),l}(_t),re={ERROR:"error",META_READY:"metaReady",MOOV_REQ_PROGRESS:"moov_request_Progress",UPDATE_LOAD_IDX:"update_load_fragmentIdx"},rr=function(t){si(l,t);var i=li(l);function l(e,s){var n;if(Pe(this,l),n=i.call(this),fe(q(n),"onprogressDataArrive",function(){var a=ne(j().mark(function o(r,d,c){var u;return j().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:r&&r.byteLength>0&&(u=n.timeRange[c.index].range,u&&c.range[1]>=u[1]&&!d&&(d=!0),n.log("[mp4.loadFragment onprogressDataArrive ] receive data, >>> index,",c.index,",range,",JSON.stringify(c.range),", dataLen,",r.byteLength),n._mux(r,c.range[0],c.index,d)),d&&(n.timeRange[c.index].downloaded=!0,n.bufferLoadedPos=-1,n.log("[FragLoadDowned],fragmentIdx,",c.index,",rangeEnd,",c.range[1]));case 2:case"end":return m.stop()}},o)}));return function(o,r,d){return a.apply(this,arguments)}}()),n.url=e,n.options=l.getDefaultConfig(),Object.keys(s).map(function(a){s[a]!==void 0&&s[a]!==null&&(n.options[a]=s[a])}),n.timeRange=[],n.CHUNK_SIZE=n.options.chunkSize,n.bufferLoaded=new Uint8Array(0),n.bufferLoadedPos=0,n.meta=null,n.videoTrak=null,n.audioTrak=null,n.canDownload=!0,n._loadSuccessCallBack=null,n._isPending=!1,n._metaLoading=!1,n.MP4Loader=new qa(Re(Re({segmentDuration:n.options.segmentDuration,url:e,vid:s.vid,retry:n.options.retryCount,retryDelay:n.options.retryDelay,timeout:n.options.timeout},s.reqOptions),{},{preferMMS:n.options.preferMMS,openLog:et()})),n.fMP4Demuxer=null,n.MP4Demuxer=null,n.FMP4Remuxer=null,n._needInitSegment=!0,n._switchBitRate=!1,n.enableWorker=n.options.enableWorker,n.enableWorker&&typeof Worker<"u")try{n.workerSequence=0,n.transmuxerWorkerControl=new ar({id:n.workerSequence,codecType:s.codecType,supportHevc:n.options.supportHevc,openLog:et()}),n.transmuxerWorkerControl.on("transmux",function(a){var o=a.args;n.log("[transmuxerworker end] ,range, ",JSON.stringify(o.range),",dataLen,",o.buffer.byteLength,o.context),n._loadSuccessCallBack&&n._loadSuccessCallBack(o)})}catch(a){n.log("Error in worker:",a),n.enableWorker=!1,n.transmuxerWorkerControl=null}return n.enableWorker||(n.MP4Demuxer=null,n.FMP4Remuxer=null),n.seekTime=-1,n.changeBitRateTime=-1,n}return Je(l,[{key:"changeBitRate",value:function(){var e=ne(j().mark(function n(a){return j().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.url=a.url,r.next=3,this.MP4Loader.changeUrl(this.url,this.options.vid+Date.now(),this.CHUNK_SIZE);case 3:this._switchBitRate=!0,this.log("[switchBitrate] changeUrl, bitRate,",this.url);case 5:case"end":return r.stop()}},n,this)}));function s(n){return e.apply(this,arguments)}return s}()},{key:"log",value:function(s){for(var n=this.options,a=n&&n.vid?"[MP4] ".concat(n.vid," ").concat(s):"[MP4] ".concat(s),o=arguments.length,r=new Array(o>1?o-1:0),d=1;d<o;d++)r[d-1]=arguments[d];Ts.apply(void 0,[a].concat(r))}},{key:"errorHandler",value:function(){var e=ne(j().mark(function n(a,o){var r,d,c,u;return j().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:r=a.response,d=a.message,c=this.options?this.options.vid:"",u=null,this._isPending=!0,r?(u=new Ra("network",r.status,{httpText:r.httpText,message:d,url:r.url}),this.emit(re.ERROR,u)):(console.log("[MP4] [".concat(c,"] errorHandler,"),a),u=a,this.emit(re.ERROR,u));case 6:case"end":return m.stop()}},n,this)}));function s(n,a){return e.apply(this,arguments)}return s}()},{key:"init",value:function(){var e=ne(j().mark(function n(){return j().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.url){o.next=3;break}return o.next=3,this.MP4Loader.changeUrl(this.url,this.options.vid+Date.now(),this.CHUNK_SIZE);case 3:return o.next=5,this.getMetaInfo();case 5:case"end":return o.stop()}},n,this)}));function s(){return e.apply(this,arguments)}return s}()},{key:"getTimeRange",value:function(){for(var s=[],n=null,a=0;this.videoTrak&&a<this.videoTrak.length;a++)n={startTime:this.videoTrak[a].startTime,endTime:this.videoTrak[a].endTime,downloaded:!1,isLoading:!1},s.push(n);if(this.audioTrak&&this.audioTrak.length>s.length)for(var o=s.length;o<this.audioTrak.length;o++)n={startTime:Math.max(this.audioTrak[o].startTime,n?n.endTime:0),endTime:Math.max(this.audioTrak[o].endTime,n?n.endTime:0),downloaded:!1,isLoading:!1},s.push(n);return s}},{key:"getMetaInfo",value:function(){var e=ne(j().mark(function n(){var a=this,o,r,d,c=arguments;return j().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return o=c.length>0&&c[0]!==void 0?c[0]:!0,h.prev=1,this._metaLoading=!0,this.log("getMetaInfo start"),this.bufferLoaded=new Uint8Array(0),r=0,d=function(){var m=ne(j().mark(function p(y,g,V){var L;return j().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:a.log("getMetaInfo onProgressHandle, dataLen,",y?y.byteLength:-1,", state,",g,",range,",JSON.stringify(V.range)),y&&V.range[0]===r&&(a.bufferLoaded=Ma(Uint8Array,a.bufferLoaded,new Uint8Array(y)),r+=y.byteLength),V.meta&&!a.meta&&(L=V.meta,a.videoTrak=L.videoSegments,a.audioTrak=L.audioSegments,a.timeRange=a.getTimeRange(),a.meta=Re(Re({},L.meta),{},{ext:{videoTrak:a.videoTrak,audioTrak:a.audioTrak}}),L.bufferLoaded=a.bufferLoaded,a.log("meta reach"),o&&a.emit(re.META_READY,a.meta)),a.meta&&g&&(a.log("[getMetaInfo req end]"),a._metaLoading=!1),a.meta&&(y||g)&&(a.log("emit moov_req_progress"),a.emit(re.MOOV_REQ_PROGRESS));case 5:case"end":return Y.stop()}},p)}));return function(y,g,V){return m.apply(this,arguments)}}(),h.next=9,this.MP4Loader.loadMetaProcess(this.MP4Loader.cache,[0,this.CHUNK_SIZE],d);case 9:h.next=15;break;case 11:h.prev=11,h.t0=h.catch(1),console.error("[MP4] trigger errorHandler getMetaInfo",h.t0===null||h.t0===void 0?void 0:h.t0.message),this.loadError(h.t0,"getMetaInfo");case 15:case"end":return h.stop()}},n,this,[[1,11]])}));function s(){return e.apply(this,arguments)}return s}()},{key:"getFragmentIdx",value:function(s){var n,a;if(this.videoTrak.length){if(n=this.videoTrak.find(function(r){return r.startTime<=s&&r.endTime>s}),a=this.audioTrak.find(function(r){return r.startTime<=s&&r.endTime>s}),n&&a)return Math.min(n.index,a.index);if(n||a)return n?n.index:a.index;var o=Number.MAX_VALUE;return this.videoTrak&&this.videoTrak.length>0&&(o=this.videoTrak.length-1),this.audioTrak&&this.audioTrak.length>0&&(o=Math.min(this.audioTrak.length-1,o)),o}else return a=this.audioTrak.find(function(r){return r.startTime<=s&&r.endTime>s}),a?a.index:0}},{key:"_checkHasMeta",value:function(){var e=ne(j().mark(function n(){var a;return j().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.log(" loadMeta start"),this._metaLoading=!0,r.next=4,this.MP4Loader.loadMeta(this.MP4Loader.cache,Math.round(this.CHUNK_SIZE/2));case 4:return a=r.sent,this._metaLoading=!1,this.videoTrak=a.videoSegments,this.audioTrak=a.audioSegments,this.meta=Re(Re({},a.meta),{},{ext:{videoTrak:this.videoTrak,audioTrak:this.audioTrak}}),this.timeRange=this.getTimeRange(),this.bufferLoaded=new Uint8Array(0),a.bufferLoaded=this.bufferLoaded,r.abrupt("return",!0);case 13:case"end":return r.stop()}},n,this)}));function s(){return e.apply(this,arguments)}return s}()},{key:"resetFragmentLoadState",value:function(s){for(var n=0;n<this.timeRange.length;n++)n<s?(this.timeRange[n].downloaded=!0,this.timeRange[n].isLoading=!0):(this.timeRange[n].downloaded=!1,this.timeRange[n].isLoading=!1)}},{key:"getFragRange",value:function(s){var n,a,o,r,d=null;this.videoTrak&&(d=s<this.videoTrak.length?this.videoTrak[s]:this.videoTrak[this.videoTrak.length-1]);var c=null;this.audioTrak&&(c=s<this.audioTrak.length?this.audioTrak[s]:this.audioTrak[this.audioTrak.length-1]);var u=0,h=0;this.videoTrak&&s>=this.videoTrak.length-1&&(u=-1),this.audioTrak&&s>=this.audioTrak.length-1&&(h=-1);var m=[Math.min(((n=d)===null||n===void 0?void 0:n.range[0])||1/0,((a=c)===null||a===void 0?void 0:a.range[0])||1/0),Math.max(((o=d)===null||o===void 0?void 0:o.range[1])+u||0,((r=c)===null||r===void 0?void 0:r.range[1])+h||0)];return s<this.timeRange.length&&(this.timeRange[s].range=m),m}},{key:"load",value:function(){var e=ne(j().mark(function n(a,o){var r,d,c;return j().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this._loadSuccessCallBack=o,!(this._switchBitRate&&!this._metaLoading)){h.next=12;break}return this.log("[switchBitrate], switch bitRate start load, time,",a>=this.videoTrak.length?this.audioTrak[a].startTime:this.videoTrak[a].startTime,", fragIndex,",a),h.next=5,this._checkHasMeta();case 5:r=h.sent,this.changeBitRateTime>0&&(this.timeRange[a].startTime<=this.changeBitRateTime&&this.changeBitRateTime<this.timeRange[a].endTime?this.log("[switchBitrate], not need update load fragIndex",a,",stTime,",this.changeBitRateTime):(a=this.getFragmentIdx(this.changeBitRateTime),this.log("[switchBitrate], need update load fragIndex",a,",stTime,",this.changeBitRateTime,",newBitrateTimeRange,",this.timeRange[a].startTime,"-",this.timeRange[a].endTime),this.emit(re.UPDATE_LOAD_IDX,a)),this.seekTime=this.changeBitRateTime,this.changeBitRateTime=-1),this.resetFragmentLoadState(a),this.log("[switchBitrate], reset timerange state,",a),this._needInitSegment=!0,this.resetTansmuxer(),r&&(this._switchBitRate=!1);case 12:if(!(this._switchBitRate&&this._metaLoading)){h.next=14;break}return h.abrupt("return");case 14:d=this.getFragRange(a),this.log("loadFragment,",a,",range,",JSON.stringify(d)),this.seekTime>0?(c=this.getSubRange(a,this.seekTime,d),this.loadFragment(a,c),this.seekTime=-1):this.loadFragment(a,d);case 17:case"end":return h.stop()}},n,this)}));function s(n,a){return e.apply(this,arguments)}return s}()},{key:"getSubRange",value:function(s,n,a){var o=a[0],r=a[0],d=1,c=!1;if(this.log(">>>>>getSubRange time,",n,JSON.stringify(a)),this.videoTrak&&this.videoTrak.length>0){var u=s<this.videoTrak.length?this.videoTrak[s]:this.videoTrak[this.videoTrak.length-1];if(u.frames.length===0)return this.log(">>>>>getSubRange video, no frames"),a;var h=u.frames.filter(or),m=this.meta.videoTimescale,p=h[0].startTime/m;this.log(">>>>>getSubRange video, startTime,",u.startTime,",endTime,",u.endTime);for(var y=0;y<h.length;y++)this.log(">>>>>getSubRange video keyFrameList, startTime,",h[y].startTime/m,",range,",h[y].offset);for(;d<h.length;d++){var g=h[d].startTime/m;if(p<=n&&n<g&&a[0]<h[d-1].offset){o=h[d-1].offset,c=!0,this.log(">>>>>getSubRange video end, startTime,",p,",endTime,",g,",startRange,",o,", keyFrameIndex,",d-1);break}p=g}!c&&p<=n&&n<u.endTime+.8&&(o=h[d-1].offset,this.log(">>>>>getSubRange video last, startTime,",p,",endTime,",u.endTime,",startRange,",o))}if(d=1,this.audioTrak&&this.audioTrak.length>0){var V=s<this.audioTrak.length?this.audioTrak[s]:this.audioTrak[this.audioTrak.length-1];if(V.frames.length===0)return this.log(">>>>>getSubRange video, no frames"),a;var L=V.frames,v=this.meta.audioTimescale;d=Math.floor((n*v-L[0].startTime)/V.frames[0].duration),d=Math.min(L.length-1,d);for(var Y=d>0?L[d-1].startTime/v:L[0].startTime/v;d>=0&&d<L.length;){if(d>0&&Y>n){d-=1,Y=L[d].startTime/v;continue}var X=(L[d].startTime+L[d].duration)/v;if(Y<=n&&n<X&&a[0]<L[d].offset){r=L[d].offset,c=!0,this.log(">>>>>getSubRange audio end, startTime,",Y,",endTime,",X,",startRange,",r,", index,",d);break}Y=X,d++}}var G=[Math.min(r,o),a[1]];return this.log(">>>>>getSubRange finalRange ",JSON.stringify(G),",oldRange,",JSON.stringify(a)),G}},{key:"_mux",value:function(s,n,a,o){var r=this.getSamplesRange(a,"video"),d=this.getSamplesRange(a,"audio"),c=[n,n+s.byteLength];if(this.transmuxerWorkerControl&&!this.meta.isFragmentMP4){var u={range:c,state:o,fragIndex:a};this.log("[transmuxerworker start] ,range, ",JSON.stringify(c),",dataLen,",s.byteLength,u),this.transmuxerWorkerControl.transmux(this.workerSequence,s,n,r,d,this.meta.moov,this.useEME,this.kidValue,u)}else try{var h;this.meta.isFragmentMP4?(this.fMP4Demuxer||(this.fMP4Demuxer=new el),h=this.fMP4Demuxer.demuxPart(s,n,this.meta.moov)):(this.MP4Demuxer||(this.MP4Demuxer=new Ga(this.videoTrak,this.audioTrak,null,{openLog:et()})),h=this.MP4Demuxer.demuxPart(s,n,r,d,this.meta.moov,this.useEME,this.kidValue)),!this.FMP4Remuxer&&(!this.checkCodecH265()||this.options.supportHevc)&&(this.FMP4Remuxer=new tl(h.videoTrack,h.audioTrack,{openLog:et()}));var m;this.log("[mux], videoTimeRange,",h.videoTrack?[h.videoTrack.startPts,h.videoTrack.endPts]:null,",audioTimeRange,",h.audioTrack?[h.audioTrack.startPts,h.audioTrack.endPts]:null);var p=Math.min(h.videoTrack.startPts,h.audioTrack.startPts),y=Math.max(h.videoTrack.endPts,h.audioTrack.endPts),g=[p,y];if(this.FMP4Remuxer){var V=this.FMP4Remuxer.remux(this._needInitSegment,{initMerge:!0,range:c});V.initSegment&&(this._needInitSegment=!1);var L=ve.concatData(V.audioSegment,V.videoSegment);m={buffer:L,range:c,state:o,context:{range:c,fragIndex:a,timeRange:g},initSeg:V.initSegment}}else m={videoTrack:h.videoTrack,audioTrack:h.audioTrack,buffer:null,range:c,state:o,context:{range:c,fragIndex:a,timeRange:g}};this._loadSuccessCallBack&&this._loadSuccessCallBack(m)}catch(Y){console.error("mux err:",Y);var v=new Ia(je.remux,Ve.muxError,{msg:JSON.stringify(Y)});this.errorHandler(v,"mux",{fragIndex:a,range:[n,n+s.byteLength]})}}},{key:"getSamplesRange",value:function(s,n){var a=[];switch(n){case"video":if(this.videoTrak&&s<this.videoTrak.length){var o=this.videoTrak[s].frames;if(!o.length)break;a.push(o[0].index),a.push(o[o.length-1].index)}break;case"audio":if(this.audioTrak&&s<this.audioTrak.length){var r=this.audioTrak[s].frames;if(!r.length)break;a.push(r[0].index),a.push(r[r.length-1].index)}break;default:console.warn("[getSamplesRange] type ",n," is invalid");break}return a}},{key:"loadFragment",value:function(){var e=ne(j().mark(function n(a,o){var r,d,c,u;return j().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!(this._isPending||o.length>0&&o[0]===0&&o[1]===0||this.timeRange[a].isLoading)){m.next=2;break}return m.abrupt("return");case 2:if(this.log("[MP4.loadFragment] ,fragIndex,",a,",range ",o,",len ,",o[1]-o[0],", bufferLoaded_Len,",this.bufferLoaded.byteLength),!(o.length>=2&&o[1]&&o[1]>0&&o[1]<=this.bufferLoaded.byteLength)){m.next=13;break}this.timeRange[a].isLoading=!0,r=Math.max(o[0],this.bufferLoadedPos),d=new Uint8Array(this.bufferLoaded.slice(r,o[1])),this.log("[mp4.loadFragment] has all data: ",r,o[1]),this.timeRange[a].downloaded=!0,this.bufferLoadedPos=-1,this._mux(d,r,a,!0),m.next=34;break;case 13:if(!(o.length>=2&&o[0]&&o[0]<=this.bufferLoaded.byteLength)){m.next=29;break}if(this.timeRange[a].isLoading){m.next=27;break}if(c=Math.max(o[0],this.bufferLoadedPos),u=new Uint8Array(this.bufferLoaded.slice(c,o[1])),!(u.byteLength>0)){m.next=22;break}return this.bufferLoadedPos=c+u.byteLength,this.log("[mp4.loadFragment] has part data: ",c,c+u.byteLength),this._mux(u,c,a,o[1]<=this.bufferLoadedPos),m.abrupt("return");case 22:if(!(!this._metaLoading&&!this.timeRange[a].isLoading)){m.next=27;break}return this.log("[mp4.loadFragment] ready to load part data >>> ",this.bufferLoaded.byteLength,o[1]),this.timeRange[a].isLoading=!0,m.next=27,this.startLoad([this.bufferLoaded.byteLength,o[1]],a);case 27:m.next=34;break;case 29:if(!((!this._metaLoading||o[0]>=this.CHUNK_SIZE)&&!this.timeRange[a].isLoading)){m.next=34;break}return this.timeRange[a].isLoading=!0,this.log("[mp4.loadFragment],ready to load all data ,segmentIdx, ",a,",range >>> ",JSON.stringify(o)),m.next=34,this.startLoad(o,a);case 34:case"end":return m.stop()}},n,this)}));function s(n,a){return e.apply(this,arguments)}return s}()},{key:"startLoad",value:function(){var e=ne(j().mark(function n(a,o){return j().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,this.MP4Loader.loadData(a,this.MP4Loader.cache,{index:o,onProgress:this.onprogressDataArrive,onProcessMinLen:this.options.onProcessMinLen});case 3:d.next=9;break;case 5:d.prev=5,d.t0=d.catch(0),console.error("[MP4] trigger errorHandler getMetaInfo",d.t0===null||d.t0===void 0?void 0:d.t0.message),this.loadError(d.t0,"loadFragment",{range:a,fragIndex:o});case 9:case"end":return d.stop()}},n,this,[[0,5]])}));function s(n,a){return e.apply(this,arguments)}return s}()},{key:"loadError",value:function(s,n,a){var o;!s.response&&(s.response={}),s.isTimeout?s.response.status="timeout":s!=null&&(o=s.response)!==null&&o!==void 0&&o.status||(s.response.status="networkError"),this.errorHandler(s,n,a)}},{key:"cancelLoading",value:function(){var e=ne(j().mark(function n(){return j().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.MP4Loader;case 2:if(o.t0=o.sent,!o.t0){o.next=5;break}this.MP4Loader.cancel();case 5:case"end":return o.stop()}},n,this)}));function s(){return e.apply(this,arguments)}return s}()},{key:"update",value:function(s){this.url=s}},{key:"checkCodecH265",value:function(){var s=this.meta&&(this.meta.videoCodec.indexOf("hvc1")>-1||this.meta.videoCodec.indexOf("hev1")>-1);return s}},{key:"destroy",value:function(){this.hasDestroyed||(this.resetTansmuxer(),this.transmuxerWorkerControl&&this.transmuxerWorkerControl.destroy(),this._isPending=!1,this._metaLoading=!1,this.bufferLoadedPos=0,this.bufferLoaded=new Uint8Array(0),this.MP4Loader&&(this.MP4Loader.cancel(),this.MP4Loader.destroy()),this.hasDestroyed=!0)}},{key:"resetTansmuxer",value:function(){this.MP4Demuxer&&this.MP4Demuxer.reset(),this.MP4Demuxer=null,this.FMP4Remuxer&&this.FMP4Remuxer.reset(),this.FMP4Remuxer=null,this.transmuxerWorkerControl&&this.transmuxerWorkerControl.reset()}}],[{key:"getDefaultConfig",value:function(){return{segmentDuration:5,onProcessMinLen:1024,chunkSize:8e5,retryCount:3,retryDelay:1e3,timeout:3e3,enableWorker:!1,playerId:"",vid:"",ext:{},preferMMS:!1}}}]),l}(_t);function or(t){if(t.keyframe)return t}var dr=function(){function t(i){Pe(this,t),this.onTick_=i,this.cancelPending_=null}return Je(t,[{key:"tickAfter",value:function(l){var e=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.stop();var n=!0,a=null;this.cancelPending_=function(){window.clearTimeout(a),n=!1};var o=function(){n&&(e.onTick_(),s&&s())};return a=window.setTimeout(o,l*1e3),this}},{key:"tickEvery",value:function(l){var e=this;this.tickAfter(l,function(){e.tickEvery(l)})}},{key:"stop",value:function(){this.cancelPending_&&(this.cancelPending_(),this.cancelPending_=null)}}]),t}(),cr=function(){function t(){Pe(this,t);var i,l,e=new Promise(function(n,a){i=n,l=a}),s=e;return s.resolve=function(n){i(n),s.state="fulfilled"},s.reject=function(n){l(n),s.state="rejected",s.isBreak=n==="DESTROYED"},s.state="pending",s}return Je(t,[{key:"resolve",value:function(l){}},{key:"reject",value:function(l){}}]),t}(),ur="DESTROYED",Ui=null,Ct=null,Ei=null,ji=null,mr=function(t){si(l,t);var i=li(l);function l(e){var s;return Pe(this,l),s=i.call(this,e),fe(q(s),"_onMp4DataCallBack",function(){s._isMseInit&&s._onTimeUpdate()}),fe(q(s),"_onMp4MetaReady",function(n){var a=q(s),o=a.config,r=s.mp4.checkCodecH265();try{if(r&&!s.config.supportHevc){var d="browser not support HEVC",c=new _e(s.player,{errorType:"runtime",errorTypeCode:je.runtime,errorCode:Ve.h265Error,errorMessage:d,vid:o.vid,mediaError:{code:Ve.h265Error,message:d}});s._errorHandler(c)}else s._initMse(n),s._initPromise.resolve()}catch(h){var u=new _e(s.player,{errorType:"runtime",errorTypeCode:je.runtime,errorCode:Ve.mse,errorMessage:h?.message,vid:o.vid,mediaError:{code:Ve.other1,message:h?.message}});s._errorHandler(u);return}s._loadData()}),fe(q(s),"_onMp4Error",function(n){var a=s.playerConfig.vid;console.error("[Index] _onMp4Error",a,n),s._errorHandler(n)}),fe(q(s),"_loadDataSuccess",function(n){if(!(s.isDestroy||!s.mse)){s.log("[loadFragment] _loadDataSuccess ",JSON.stringify(n.context.range),",dataLen,",n.buffer?n.buffer.byteLength:0,n.state);try{n.initSeg&&(s._appendInitSeg(n.initSeg),(!n.buffer||n.buffer.byteLength<1)&&(s.log("no data, must load data"),s._onTimeUpdate()));var a=n.buffer,o=n.state,r=n.context;if(s.mse&&o&&(!a||a.byteLength<=0)&&r.fragIndex===s.mp4.timeRange.length-1){var d=s.player.buffered;d&&d.length>0&&(s.bufferEndTime=d.end(d.length-1)),s._isEnded(),s.log("loaded ended !!!==>>>",JSON.stringify(r.range),", fragIndex,",r.fragIndex,", bufferEndTime,",s.bufferEndTime,",meta_duration,",s.mp4.meta.duration)}if(s.mse&&o&&r.fragIndex===s.mp4.timeRange.length-1&&(!a||a.byteLength<=0)){var c=s.player.buffered;c&&c.length>0&&(s.bufferEndTime=c.end(c.length-1)),s._isEnded(),s.log("load ended !!!==>>>",s.playerConfig.vid,JSON.stringify(r.range),", fragIndex,",r.fragIndex,", bufferEndTime,",s.bufferEndTime,",meta_duration,",s.mp4.meta.duration)}a&&s.mse&&a&&a.byteLength>0&&s._appendBuffer(xe.VIDEO,a,r,o)}catch(h){s.log("appendBuffer error",h);var u=new _e(s.player,{errorType:"runtime",errorTypeCode:je.runtime,errorCode:Ve.mse,vid:s.player.config.vid,errorMessage:h.message,mediaError:{code:Ve.mse,message:h.message}});s._errorHandler(u)}n!=null&&n.state&&s._onTimeUpdate()}}),fe(q(s),"_onWaiting",function(){var n=q(s),a=n.player,o=n.config;clearTimeout(s._waitInBufferTimer),s._waitInBufferTimer=null;var r=a.currentTime,d=a.bufferedPoint;d.end>0&&d.end-a.currentTime>=2&&s._waitAdjustTimeCnt<o.waitJampBufferMaxCnt&&(s._waitInBufferTimer=setTimeout(function(){s._waitAdjustTimeCnt++,a.currentTime=a.currentTime+.5,s.log("[waitInBufferTimeout], waitAdjustTimeCnt,",s._waitAdjustTimeCnt,",curtime,",r,ve.nowTime())},o.waitingInBufferTimeOut))}),fe(q(s),"_onSeeking",ne(j().mark(function n(){var a,o,r,d,c,u,h,m,p,y,g;return j().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(a=q(s),o=a.player,r=a.mp4,d=o.currentTime,s.log("[seekTime], curTime,",d,",buffer,",o.buffered2.bufferedList),!(!r||!r.meta)){L.next=5;break}return L.abrupt("return");case 5:if(s.endofstream=!1,r.bufferLoadedPos=-1,r._metaLoading=!1,c=o.bufferedPoint,u=!1,h=0,!(c.end>0)){L.next=25;break}if(u=!0,!(r.meta.duration-c.end<.5)){L.next=17;break}return s._startProgress(),s.log("[seeking in buffered range], buffer end,",c.end,", duration,",r.meta.duration),L.abrupt("return");case 17:if(h=r.getFragmentIdx(c.end),s._curLoadSegmentIdx!==h){L.next=22;break}return s._startProgress(),s.log("[seeking in buffered range], seek fragIndex is current load segmentIdx",h),L.abrupt("return");case 22:r.seekTime=c.end,h<0&&(h=s._curLoadSegmentIdx),s.log("[seeking in buffered range], seekTime ",d,",bufferRange,",c.start,"-",c.end,", fragIndex,",h);case 25:return u||(r.seekTime=d,h=r.getFragmentIdx(d),h<0&&(h=s._curLoadSegmentIdx),s.log("[seekTime out buffer range], curTime,",d,", Idx,",h),m=q(s),p=m.mse,p&&p.isFull()&&(y=o.buffered2.bufferedList,g=y[y.length-1],p.clearOpQueues(xe.VIDEO),s._checkRemoveSourceBuffer([g.start,g.end],o.currentTime,!0,!0))),L.next=28,r.cancelLoading();case 28:r.resetFragmentLoadState(h),s._curLoadSegmentIdx=h,s._onTimeUpdate(),s._startProgress(),s._isEnded();case 33:case"end":return L.stop()}},n)}))),fe(q(s),"changeDefineCanPlay",function(n,a,o,r){var d=q(s),c=d.player;if(c.ended){c.currentTime=0;return}s.log("[oldChangeDefinition],this._changeDefState,",s._changeDefState),c.currentTime=s._changeDefState?s._changeDefState.currentTime:n;var u=s._changeDefState?s._changeDefState.paused:a;u?c.pause():c.play(),s._changeDefState=null,c.emit(il,{from:o,to:r})}),fe(q(s),"changeDefinition",function(){var n=ne(j().mark(function a(o,r){var d,c,u,h,m,p,y;return j().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(d=q(s),c=d.player,u=d.config,h=d.mp4,r||(r=c.curDefinition),s._MSEError=!1,!u.witchBitRateWay){V.next=6;break}return s.oldChangeDefinition(o,r),V.abrupt("return");case 6:if(c.emit(ll,{from:r,to:o}),m=c.currentTime,p=h.getFragmentIdx(m),p<0&&(p=s._curLoadSegmentIdx),s.log("switchBitrate:point,fragIndex,",p,",startTime,",h.timeRange[p].startTime,",currentTime,",c.currentTime),!h){V.next=16;break}return s.mp4.changeBitRateTime=m,V.next=15,h.cancelLoading();case 15:h._metaLoading&&(h._metaLoading=!1);case 16:return s._removeBuffeEndTime=h.timeRange[p].startTime,s._isChangeDefinition=!0,y=c.getBufferedRange(c.buffered),y[1]>0&&y[1]-c.currentTime>5&&(s.mse.clearOpQueues(xe.VIDEO),s.mse.remove(xe.VIDEO,c.currentTime+5,y[1])),s.log("switchBitrate: resetFragmentLoadState,",p),h.resetFragmentLoadState(p),s._curLoadSegmentIdx=p,V.next=25,s.mp4.changeBitRate(o);case 25:s._onTimeUpdate(),c.emit("RESOLUTION_UPDATE",o);case 27:case"end":return V.stop()}},a)}));return function(a,o){return n.apply(this,arguments)}}()),fe(q(s),"_replayHook",function(){var n;return(n=s.player)===null||n===void 0||n.play(),!1}),fe(q(s),"_retryHook",function(){return s.beforePlayerInit(),!1}),s.mp4=null,s.mse=null,s._waitAdjustTimeCnt=0,s._lastCheckTime=ve.nowTime(),s._removeBuffeEndTime=0,s._pendingPromises=[],s}return Je(l,[{key:"afterCreate",value:function(){var s=this;window.__mp4player=this;try{bi.defineGetterOrSetter(this.player,{__url:{get:function(){try{return s.mse?s.mse.url:s.config.url}catch{return null}}}})}catch{}this._proxyPlayer()}},{key:"attachEvents",value:function(){this.off(St,this._onSeeking),this.on(St,this._onSeeking),this.on(fi,this._onWaiting),this.off(Gt,this.switchURL),this.on(Gt,this.switchURL)}},{key:"detachEvents",value:function(){this.off(St,this._onSeeking),this.off(fi,this._onWaiting),this.off(Gt,this.switchURL)}},{key:"_proxyPlayer",value:function(){var s=this;typeof this.player.playNext=="function"&&(Ui=this.player.playNext),this.player.playNext=function(){s.playNext.apply(s,arguments)},Ct=this.player._startInit,ji=this.player.switchURL,Ei=this.player.changeDefinition,this.player._startInit=this._playerStartInit.bind(this),this.player.switchURL=this.switchURL.bind(this),this.player.changeDefinition=this.changeDefinition.bind(this),this.player.removeHooks("replay",this._replayHook),this.player.removeHooks("retry",this._retryHook)}},{key:"_playerStartInit",value:function(s){var n=this,a=this.config,o=this.playerConfig;a.supportHevc===void 0&&at!==null&&at!==void 0&&at.isHevcSupported&&at.isHevcSupported()&&(a.supportHevc=!0);var r=this.initMp4();this._initPromise=r,this._addPendingPromise(this._initPromise),this.mse&&sl.typeOf(s)==="String"&&/^blob/.test(s)&&s!==this.mse.url&&(s=o.url),r.then(function(){n.mse&&(s=n.mse.url),n.attachEvents(),n._startProgress()}).catch(function(d){var c=n._initPromise?n._initPromise.isBreak:!1;if(!(n.isDestroy||c)){var u=d;u.errorCode||(u=new _e(n.player,{errorType:je.RUNTIME,errorCode:d?.errorCode||Ve.other,vid:n.playerConfig.vid,errorMessage:d?.errorMessage||d?.message,mediaError:{code:d?.httpCode||Ve.other,message:d?.errorMessage||d?.message,errorType:d?.errorType}}),u.url=s),n.useVideoLoad=!0,n.player.vtype="MP4_1",n.player.emit("playCatch",n.player.vtype,u)}}).finally(function(){if(n._initPromise){var d=n._initPromise.isBreak;d||(n._initPromise&&n._removePendingPromise(n._initPromise),n._initPromise=null,!n.isDestroy&&!d&&Ct.call(n.player,s))}})}},{key:"initMp4",value:function(){var s=this,n=this.player;n.config.vid||(n.config.vid=Date.now());var a=new cr;return this.mp4&&(this.mp4.off(re.META_READY,this._onMp4MetaReady),this.mp4.off(re.ERROR,this._onMp4Error),this.mp4.off(re.MOOV_REQ_PROGRESS,this._onMp4DataCallBack),this.mp4.destroy(),this.mp4=null),this.mp4=new rr(n.config.url,Re(Re({},this.config),{},{vid:n.config.vid})),this.mp4.on(re.META_READY,this._onMp4MetaReady),this.mp4.on(re.ERROR,this._onMp4Error),this.mp4.on(re.MOOV_REQ_PROGRESS,this._onMp4DataCallBack),this.mp4.on(re.UPDATE_LOAD_IDX,function(o){s._curLoadSegmentIdx=o,s.log("[update curLoadSegmentIdx]",o)}),this.mp4.init(),a}},{key:"setConfig",value:function(s){this.config=Object.assign(this.config,s)}},{key:"playNext",value:function(s){var n=this.player;this._defInited=!1,n.resetState(),n._currentTime=0,n._duration=0,n.isPlaying=!1,this._MSEError=!1,n.pause(),this._reset(),n.setConfig(s),this.log("[Index] playNext",s),n.play(),this.emit("playnext")}},{key:"checkDegrade",value:function(s){var n=this.config.closeDowngrade;return!n||s.httpCode==="networkError"}},{key:"_errorHandler",value:function(s){var n,a=this.player,o=this.config;if(!(!a||this.useVideoLoad)){!s.url&&(n=this.mp4)!==null&&n!==void 0&&n.url&&(s.url=this.mp4.url);var r=a.paused;console.error("final error !!!!, ",o.vid,s),this.player.vtype="MP4_2",this.player.emit("playCatch",this.player.vtype,s);var d=this.checkDegrade(s);if(d)this._initPromise?this._removeAndRejectInitPromise(s):this._startDegradedPlayback(s,r);else{this.player.pause(),this._reset();var c=a.currentTime;this.destroyMSE(),a.currentTime=c,this.emit("error",s)}}}},{key:"_startDegradedPlayback",value:function(s,n){var a=this;console.log(">>>_startDegradedPlayback");var o=this.player,r=this.playerConfig;this.useVideoLoad=!0,this.destroyMSE(),this._currentTime=o.currentTime,this.__onmetadataHandle=function(){a._currentTime&&(o.currentTime=a._currentTime),n?a.player.pause():a.player.play(),o.media.removeEventListener("loadedmetadata",a.__onmetadataHandle),a.__onmetadataHandle=null},o.media.addEventListener("loadedmetadata",this.__onmetadataHandle);var d=r.url;o.media.src=d}},{key:"_addPendingPromise",value:function(s){this._pendingPromises.push(s)}},{key:"_removePendingPromise",value:function(s){var n=this._pendingPromises.indexOf(s);n>-1&&this._pendingPromises.splice(n,1)}},{key:"_cancelPendingPromises",value:function(){this._pendingPromises.length>0&&this._pendingPromises.forEach(function(s){s.reject(ur)}),this._pendingPromises=[]}},{key:"_removeAndRejectInitPromise",value:function(s){this._initPromise&&(this._removePendingPromise(this._initPromise),this._initPromise.reject(s))}},{key:"_initMse",value:function(){var e=ne(j().mark(function n(a){var o=this,r,d,c,u,h;return j().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!this.mse){p.next=4;break}return p.next=3,this.mse.unbindMedia();case 3:this.mse=null;case 4:r=!!a.videoCodec,d=!!a.audioCodec,r&&d?c='video/mp4; codecs="'.concat(a.videoCodec,', mp4a.40.5"'):r?c='video/mp4; codecs="'.concat(a.videoCodec,'"'):c='video/mp4; codecs="mp4a.40.5"',u=fe({},xe.VIDEO,{mimeType:"video/mp4",codec:c}),this.mse=new xe(null,{preferMMS:this.config.preferMMS}),h=this.mse.bindMedia(this.player.video),h.then(function(){var y=Object.keys(u);try{for(var g=0;g<y.length;g++){var V=y[g];o.mse.createSource(V,u[V].codec)}}catch(L){console.error("MSE error: ",L),o._errorHandler(L)}o._isMseInit=!0,o._onTimeUpdate()});case 11:case"end":return p.stop()}},n,this)}));function s(n){return e.apply(this,arguments)}return s}()},{key:"destroyMSE",value:function(){var e=ne(j().mark(function n(){var a;return j().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(a=this.mse)===null||a===void 0?void 0:a.unbindMedia();case 2:this.mse=null;case 3:case"end":return r.stop()}},n,this)}));function s(){return e.apply(this,arguments)}return s}()},{key:"_onTimeUpdate",value:function(){var s=this,n=this.mse,a=this.mp4,o=this.player,r=this.config;if(a){var d=a.timeRange,c=o.getBufferedRange(o.buffered2);if(n&&a&&a.canDownload){ve.nowTime()-this._lastCheckTime>1e3&&(this._lastCheckTime=ve.nowTime(),this._loadStuckCheck(),this._checkRemoveSourceBuffer(c,o.currentTime));var u=o.paused?o.currentTime+r.minBufferLength:o.currentTime+r.maxBufferLength;c[1]-u<0&&d.every(function(h,m){if(h.downloaded)return!0;if(!s._isChangeDefinition&&h.endTime-h.startTime>1&&s._isInBuffer(h))return h.downloaded=!0,h.isLoading=!0,s.log("onTimeUpdate, ".concat(m," download segment, has buffer"),h.startTime,h.endTime),!0;h.startTime-o.currentTime<r.maxBufferLength&&(s._curLoadSegmentIdx=m,s.log("[onTimeUpdate],load index==>>>, ",m,",IdxTimeRange, ",h.startTime,"-",h.endTime,",buffEnd, ",c[1],",playCurTime,",o.currentTime,", bufferLen,",c[1]-o.currentTime,",bufferRangeList,",s.player.buffered2?s.player.buffered2.bufferedList:null),s._loadData())}),this._isEnded()}this.checkRemoveOldBitrateBuffer()}}},{key:"checkRemoveOldBitrateBuffer",value:function(){var s=this.mse,n=this.player;s&&this._removeBuffeEndTime>0&&n.currentTime>this._removeBuffeEndTime+1&&(this.log("remove old bitrate buffer",this._removeBuffeEndTime),s.remove(xe.VIDEO,0,this._removeBuffeEndTime-1),this._removeBuffeEndTime=0)}},{key:"_isInBuffer",value:function(s){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=!1,o=this.player.video.buffered,r=0;r<o.length;r++){var d=o.start(r)-n,c=o.end(r)+n;if(d<=s.startTime&&s.endTime<=c){a=!0;break}}return a}},{key:"_loadData",value:function(){var e=ne(j().mark(function n(){return j().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(!this.mp4||!this._isMseInit)){o.next=3;break}return this.log("loadData, player.mp4 null",this._isMseInit),o.abrupt("return");case 3:return o.prev=3,o.next=6,this.mp4.load(this._curLoadSegmentIdx,this._loadDataSuccess);case 6:o.next=11;break;case 8:o.prev=8,o.t0=o.catch(3),console.error("[Index] _loadData error",this.playerConfig.vid,o.t0);case 11:case"end":return o.stop()}},n,this,[[3,8]])}));function s(){return e.apply(this,arguments)}return s}()},{key:"_appendInitSeg",value:function(s){var n=this;!this.mp4||!this.mse||this.mse.append(xe.VIDEO,s,{vid:this.playerConfig.vid,range:null,dataLen:s.byteLength,isinit:!0}).then(function(a){n.log("appendInitSeg end ==>>>",a?.context," costTime,",a?.costtime)})}},{key:"_appendBuffer",value:function(s,n){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,d=this.mse,c=this.config;d.append(s,n,{vid:c.vid,fragIndex:o.fragIndex,range:o.range,dataLen:n.byteLength,state:r}).then(function(u){if(a.log("player appendBuffer end ==>>>",u.context?u.context:null,", costTime,",u.costtime,", opt,",u.name,",bufferRange,",a.player.getBufferedRange()),a.mse&&o.state&&o.fragIndex===a.mp4.timeRange.length-1){var h=a.player.buffered;h&&h.length>0&&(a.bufferEndTime=h.end(h.length-1)),a._isEnded(),a.log("loaded ended !!!==>>>",o.range,", fragIndex,",o.fragIndex,", bufferEndTime,",a.bufferEndTime,",meta_duration,",a.mp4.meta.duration)}}).catch(function(u){if(console.log("[MSE error]",u),u&&d!==null&&d!==void 0&&d.isFull()){var h=a.player.getBufferedRange(a.player.buffered2);a._checkRemoveSourceBuffer(h,a.player.currentTime,!0)}})}},{key:"_checkRemoveSourceBuffer",value:function(s,n,a){var o=this,r=this.mse,d=this.mp4,c=this.player;if(!(!r||!d||!c)&&(a&&(clearTimeout(this._removeBufferTimer),this._removeBufferTimer=null),s||(s=c.getBufferedRange(c.buffered2)),n||(n=c.currentTime),!(!a&&ve.nowTime()-this._checkRemoveBufferLastTime<=this.config.removeBufferLen||this.endofstream)&&(this._checkRemoveBufferLastTime=ve.nowTime(),s&&s[0]>=0&&(n-s[0]>this.config.removeBufferLen||r.isFull())))){var u=s[1],h=d.getFragmentIdx(u);if(h>=0&&d.timeRange[h].startTime<n){var m=Math.floor(Math.min(d.timeRange[h].startTime,s[1]));s[0]<m?(this.log("[checkremoveSourceBuffer], remove range==>>>",s[0],m),r.remove(xe.VIDEO,s[0],m)):r.isFull()&&!this._removeBufferTimer&&(this._removeBufferTimer=setTimeout(function(){o._checkRemoveSourceBuffer(null,null,!0)},10*1e3))}}}},{key:"_isEnded",value:function(){var s=this.player,n=this.mp4,a=s.bufferedPoint,o=a?a.end:0;return!this.endofstream&&this.mse&&n.meta.duration-s.currentTime<.5&&(this.log("[check player isEnded],deal mse.endOfStream, currentTime,",s.currentTime,", bufferend,",o,", duration,",n.meta.duration),this.endofstream=!0,this.mse.endOfStream()),n&&n.meta&&n.meta.duration-s.currentTime<.5?(this._stopProgress(),this.log("[check player isEnded],stopProgress and endOfStream,currentTime, ",s.currentTime,", bufferend,",o,", duration,",n.meta.duration),this.mse&&this.mse.endOfStream(),!0):!1}},{key:"switchURL",value:function(s){this.changeDefinition(s)}},{key:"oldChangeDefinition",value:function(s,n){var a=this,o=this.config,r=this.player;this.log("[oldChangeDefinition],currentTime,",r.currentTime,",from,",n,",to,",s);var d=r.currentTime,c=r.paused;this._changeDefState||(this._changeDefState={currentTime:d,paused:c},this.log("[oldChangeDefinition],currentTime,",r.currentTime,",pause,",c)),r.config.url=s.url,o.focusUserDefinition=!0,r.currentTime=0,r.pause(),this._reset(),this._isMseInit=!1,this._changeDefineCanPlay&&r.off("canplay",this._changeDefineCanPlay),this._changeDefineCanPlay=function(){a.changeDefineCanPlay(d,c,n,s),a._changeDefineCanPlay=null},r.once("canplay",this._changeDefineCanPlay),this.player.video.load(),this.initMp4()}},{key:"_loadStuckCheck",value:function(){var s=this,n=this.config,a=this.player;n.disableBufferBreakCheck||(a.currentTime-(this._lastCurrentTime||0)>.1||a.paused?(this._bufferBreakFlag===1||this._bufferBreakFlag===2)&&(this.log("视频没有卡死,重置卡死标记"),this._bufferBreakFlag=0,clearTimeout(this._bufferBreakTimer),this._bufferBreakFlag=null):this._bufferBreakFlag||(this._bufferBreakFlag=1,this.log("卡死计时开始! 持续".concat(n.waitingTimeOut,"毫秒则确认卡死")),this._bufferBreakTimer=setTimeout(function(){s.isDestroy||(s._bufferBreakFlag===1&&(s._bufferBreakFlag=2,s.log("确认卡死!!!"),s._errorHandler(new _e(s.player,{errorType:"runtime",errorTypeCode:je.runtime,errorCode:Ve.waitTimeout,errorMessage:"wait_timeout",vid:n.vid}))),s._bufferBreakTimer=null)},n.waitingTimeOut)),this._lastCurrentTime=a.currentTime)}},{key:"isDestroy",get:function(){return!this.player}},{key:"_stopProgress",value:function(){this._hasStartProgress=!1,this._requestTimer&&(this._requestTimer.stop(),this._requestTimer=null),this._bufferBreakTimer&&(clearTimeout(this._bufferBreakTimer),this._bufferBreakTimer=null,this._bufferBreakFlag=void 0)}},{key:"_startProgress",value:function(){var s=this;this._hasStartProgress||(this._stopProgress(),this._requestTimer=new dr(function(){s._requestTimer&&s._onTimeUpdate()}),this._requestTimer.tickEvery(this.config.tickInSeconds),this._hasStartProgress=!0)}},{key:"log",value:function(s){for(var n=this.playerConfig,a=n&&n.vid?"[Index]".concat(n.vid," ").concat(s):"[Index] ".concat(s),o=arguments.length,r=new Array(o>1?o-1:0),d=1;d<o;d++)r[d-1]=arguments[d];Ts.apply(void 0,[a].concat(r))}},{key:"_reset",value:function(){this._isMseInit=!1,this.endofstream=!1,this._curLoadSegmentIdx=0,this._removeBuffeEndTime=0,this._isChangeDefinition=!1,this._stopProgress(),this.mp4&&(this.mp4.off(re.META_READY,this._onMp4MetaReady),this.mp4.off(re.ERROR,this._onMp4Error),this.mp4.off(re.MOOV_REQ_PROGRESS,this._onMp4DataCallBack),this.mp4.destroy(),this.mp4=null),this.mse&&(this.mse.unbindMedia(),this.mse=null),this._unloadVideo()}},{key:"_unloadVideo",value:function(){var s=this.player;try{this.log("unloadVideo src ".concat(s.video.src)),s.video&&s.video.src&&(s.video.removeAttribute("src"),s.video.load())}catch(n){this.log("unloadVideo error",n)}}},{key:"destroy",value:function(){var s=this.player;s.removeHooks("replay",this._replayHook),s.removeHooks("retry",this._retryHook),this.detachEvents(),this._reset(),this.player.playNext=Ui,this.player._startInit=Ct,this.player.changeDefinition=Ei,this.player.switchURL=ji,this._bufferBreakTimer&&clearInterval(this._bufferBreakTimer),this._removeBufferTimer&&(clearTimeout(this._removeBufferTimer),this._removeBufferTimer=null),this._waitInBufferTimer&&(clearTimeout(this._waitInBufferTimer),this._waitInBufferTimer=null)}}],[{key:"pluginName",get:function(){return"mp4Plugin"}},{key:"defaultConfig",get:function(){return{maxBufferLength:40,minBufferLength:5,disableBufferBreakCheck:!1,waitingTimeOut:15e3,waitingInBufferTimeOut:5e3,waitJampBufferMaxCnt:3,tickInSeconds:.1,reqOptions:null,closeDowngrade:!1,preferMMS:!1}}},{key:"version",get:function(){return"3.0.23"}}]),l}(bi);const hr={class:"play-box",style:{height:"100%"}},pr={class:"play-top absolute"},Zr={class:"play-right absolute"},br={class:"interactive"},fr={class:"count"},yr={class:"count"},Xr={class:"count"},Wr={class:"play-content"},Lr=["id"],Sr={class:"details"},Gr={class:"desc-txt title"},Vr={key:0,class:"desc-txt actor"},gr={class:"wrapper"},vr={xmlns:"http://www.w3.org/2000/svg",class:"svg-icon",style:{width:"1em","margin-right":"6px",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1"},xr={src:qi,width:"25",alt:""},Yr={src:es,width:"25",alt:""},wr=st({__name:"VerticalPlayer",props:{video:{},active:{type:Boolean},isSeries:{type:Boolean},currentRate:{},isCls:{type:Boolean},hdlCmtPopup:{type:Function},hdlSpdPopup:{type:Function}},emits:["update:video","update:isCls","goNext","fullscreenChange"],setup(t,{emit:i}){const l=Ks(),e=ks(),s=window.Telegram?.WebApp,n=new AbortController,a=U(null),o=U(null);let r=null;const d=U(!1),c=U(null),u=U(null),h=U(-1),m=s?.isVersionAtLeast("8.0"),p=t,y=i,g=p.isSeries?p.video.seriesDescription:`${p.video.title}集 | ${p.video.seriesInfo.description}`,V=()=>{window.history.state?.back?e.back():e.push("/")},L=()=>{const x=c.value;x&&(x.style.setProperty("--full-height",`${x.scrollHeight}px`),d.value=!d.value)},v=()=>{e.push(`/series/${p.video.seriesShortId}`)},Y=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),X=async x=>{const H=x.includes(".m3u8");if(!u.value){console.log("播放器加载失败");return}const F={el:u.value,playsinline:!0,plugins:H?[rl]:Y()?[]:[mr],mp4plugin:{maxBufferLength:30,minBufferLength:5,timeout:6e3},ignores:["volume","play","time"],playbackRate:!1,"x5-video-player-type":"h5","x5-video-player-fullscreen":"false","x5-video-orientation":"portrait",width:"100%",height:"100%",fullscreen:{useCssFullscreen:!0,needBackIcon:!s?.initData},videoInit:!0,preload:"metadata",url:x,closeVideoDblclick:!0,controls:{autoHide:!1,mode:"bottom"},commonStyle:{playedColor:"rgba(150, 150, 150, 0.3)",progressColor:"rgba(95, 95, 95, 0.3)",sliderBtnStyle:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#fff",border:"none",boxShadow:"none"}},mobile:{gradient:"none"},start:{isShowPause:!0,disableAnimate:!0},icons:{startPlay:"/play.png",startPause:"/pause.png"}};r=new al(F),r?.plugins.fullscreen?.hide(),r.once("ready",()=>{Ce.currentFull&&r?.getCssFullscreen(),p.isSeries&&r?.root?.querySelector(".xg-left-grid")?.appendChild(o.value)}),r.on("pause",P=>{const Q=Math.floor(P.currentTime);Q&&!p.isSeries&&I(p.video.shortId,Q)}),r.on("timeupdate",P=>{const Q=Math.floor(P.currentTime);Q!=h.value&&!p.isSeries&&(h.value=Q,Q%15===0&&Q!=0&&I(p.video.shortId,Q))}),r.on("ended",()=>{p.isSeries?r?.play():y("goNext")}),r.on(ol,P=>{P?(Ce.currentFull=!0,y("fullscreenChange",!0),y("update:isCls",!0)):(Ce.currentFull=!1,y("fullscreenChange",!1),y("update:isCls",!1))})};Hs(()=>{r?.pause(),N()});const G=async()=>{try{const x=await ge.post("/api/video/url/query",{type:"episode",accessKey:p.video.episodeAccessKey},{signal:n.signal}),H=x.data.urls||x.data.data?.urls;if(H&&H.length>0)return H[0].cdnUrl||H[0].ossUrl;throw new Error("无法获取播放地址")}catch(x){throw console.error("获取播放地址失败:",x),x}},S=()=>{r?.isCssfullScreen?(f(),l.name=="discovery"&&(s?.BackButton.hide(),m&&s?.exitFullscreen())):window.history.length>1&&(s?.BackButton.hide(),m&&s?.exitFullscreen(),V())},Z=()=>{s?.initData&&(p.isSeries||(s.BackButton.show(),m&&s.requestFullscreen()),l.name=="discovery"?p.active&&s.BackButton.onClick(S):s.BackButton.onClick(S))},N=()=>{s?.initData&&s.BackButton.offClick(S)};Wt(async()=>{if(Z(),r&&p.active&&r.play().catch(()=>{}),await Bi(),p.video.playUrl)X(p.video.playUrl);else{const x=await G();y("update:video",{...p.video,playUrl:x}),X(x)}}),At(()=>{n.abort(),K(),N()}),zs(()=>{Z()});const K=()=>{r&&(r.destroy(),r=null)},I=async(x,H)=>{try{return H==-1?(await ge.get("/api/video/progress?episodeIdentifier="+x)).data.data.stopAtSecond||0:await ge.post("/api/video/progress",{episodeIdentifier:x,stopAtSecond:H})}catch(F){console.error(F)}};ht(()=>p.active,x=>{r&&(x?r.play().catch(()=>{}):r.pause())}),ht(()=>p.currentRate,x=>{r&&(r.playbackRate=x)});const b=()=>{Ce.currentFull=!0,r?.getCssFullscreen(),p.isSeries&&s?.initData&&(m&&s.requestFullscreen(),s.BackButton.isVisible||s.BackButton.show())},f=()=>{Ce.currentFull=!1,r?.exitCssFullscreen()};ht(()=>Ce.currentFull,x=>{!p.active&&!p.isSeries&&(x?r?.getCssFullscreen():r?.exitCssFullscreen())});const W=U(p.video.userInteraction?.liked||!1),T=U(p.video.userInteraction?.favorited||!1),w=async()=>{let x=0,H="";if(W.value)try{await ge.post("/api/video/episode/reaction/remove",{shortId:p.video.shortId}),x=-1,H="已取消点赞",W.value=!W.value}catch(F){console.error("取消点赞失败",F),H="取消点赞失败"}else try{await ge.post("/api/video/episode/activity",{shortId:p.video.shortId,type:"like"}),x=1,H="已点赞",W.value=!W.value}catch(F){console.error("点赞失败",F),H="点赞失败"}x!==0&&y("update:video",{...p.video,likeCount:p.video.likeCount+x,userInteraction:{...p.video.userInteraction,liked:W.value}}),Ke({message:H,duration:200,forbidClick:!0})},C=async()=>{let x=0,H="";if(T.value)try{await ge.post("/api/user/favorites/remove",{shortId:p.video.shortId}),x=-1,H="已取消收藏",T.value=!T.value}catch(F){console.error("取消收藏失败",F),H="取消收藏失败"}else try{await ge.post("/api/video/episode/activity",{shortId:p.video.shortId,type:"favorite"}),x=1,H="已收藏",T.value=!T.value}catch(F){console.error("收藏失败",F),H="收藏失败"}x!==0&&y("update:video",{...p.video,favoriteCount:p.video.favoriteCount+x,userInteraction:{...p.video.userInteraction,favorited:T.value}}),Ke({message:H,duration:200,forbidClick:!0})},M=async x=>{x==="like"?await w():x==="star"&&await C()},R=()=>{b()};return(x,H)=>{const F=ei,P=dl,Q=nl;return O(),Ze("div",{class:$e(["slider-video",{epsnav:x.isSeries}]),style:{height:"100%",width:"100vw"}},[J("div",hr,[J("div",pr,[!x.isSeries&&!ze(s)?.initData?(O(),Te(F,{key:0,name:"arrow-left",onClick:V})):He("",!0)]),ke(J("div",Zr,[J("div",br,[J("div",{class:"i-col",onClick:H[0]||(H[0]=A=>M("like"))},[k(F,{name:"like",size:"31",style:{"padding-bottom":"10px"},class:$e({active:W.value})},null,8,["class"]),J("span",fr,We(x.video.likeCount),1)]),J("div",{class:"i-col",onClick:H[1]||(H[1]=A=>x.hdlCmtPopup(x.video.shortId,x.video.commentCount||0))},[k(F,{name:"comment",size:"31",style:{"padding-bottom":"10px"}}),J("span",yr,We(x.video.commentCount||0),1)]),J("div",{class:"i-col",onClick:H[2]||(H[2]=A=>M("star"))},[k(F,{name:"star",size:"31",style:{"padding-bottom":"10px"},class:$e({active:T.value})},null,8,["class"]),J("span",Xr,We(x.video.favoriteCount),1)]),J("div",{class:"i-col",onClick:H[3]||(H[3]=A=>x.hdlSpdPopup())},[k(P,{width:"31",src:"/rate.png",style:{"padding-bottom":"20px"}})])])],512),[[De,!x.isCls]]),J("div",Wr,[J("div",{id:x.video.shortId,ref_key:"refxg",ref:u},null,8,Lr),x.video.isVertical?He("",!0):(O(),Ze("div",{key:0,class:"play-rotate-full absolute",onClick:R},H[5]||(H[5]=[J("img",{src:ua,alt:""},null,-1)]))),J("div",{class:"play-bottom absolute",ref_key:"playBottom",ref:a,style:Oi({bottom:x.isSeries?"45px":"8px"})},[ke(J("div",Sr,[J("div",Gr,We(x.video.seriesTitle),1),x.video.seriesInfo?.starring||x.video.seriesActor?(O(),Ze("div",Vr,[(O(!0),Ze(Ee,null,qe((x.video.seriesInfo?.starring||x.video.seriesActor||"").split(",").slice(0,2),A=>(O(),Ze("span",{key:A}," 演员•"+We(A),1))),128))])):He("",!0),J("div",gr,[J("div",{ref_key:"textRef",ref:c,class:$e(["text",{expanded:d.value}]),onClick:L},We(ze(g).length>160?ze(g).slice(0,160)+"…":ze(g)),3),J("div",{class:"toggle",onClick:L},We(d.value?"收起":"展开"),1)])],512),[[De,!x.isCls]]),x.isSeries?(O(),Ze("div",{key:0,class:"eps-btn",ref_key:"epsBtn",ref:o,style:{width:"100% !important","padding-left":"5px"}},[k(Q,{onClick:v,background:"rgba(77, 77, 77, 0.3)",color:"white",style:{"border-radius":"5px",width:"100%",height:"35px",padding:"0 10px"},text:`剧集 · ${x.video.updateStatus}`,mode:"link"},{"left-icon":Xe(()=>[(O(),Ze("svg",vr,H[6]||(H[6]=[J("path",{d:"M802.133333 85.333333h-580.266666C98.986667 85.333333 0 184.32 0 307.2v409.6c0 122.88 98.986667 221.866667 221.866667 221.866667h580.266666c122.88 0 221.866667-98.986667 221.866667-221.866667V307.2c0-122.88-98.986667-221.866667-221.866667-221.866667z m-92.16 440.32l-307.2 204.8c-3.413333 3.413333-6.826667 3.413333-10.24 3.413334-3.413333 0-6.826667 0-6.826666-3.413334-6.826667 0-10.24-6.826667-10.24-13.653333V307.2c0-6.826667 3.413333-13.653333 10.24-13.653333s13.653333-3.413333 17.066666 0l307.2 204.8c3.413333 3.413333 6.826667 6.826667 6.826667 13.653333s-3.413333 10.24-6.826667 13.653333z",fill:""},null,-1)])))]),_:1},8,["text"]),J("div",{style:{margin:"3px 5px 0 14px"},onClick:H[4]||(H[4]=A=>y("update:isCls",!x.isCls))},[ke(J("img",xr,null,512),[[De,x.isCls]]),ke(J("img",Yr,null,512),[[De,!x.isCls]])])],512)):He("",!0)],4)])])],2)}}}),Mr=Ai(wr,[["__scopeId","data-v-1596e4c8"]]),Tr={class:"player-container"},Rr={class:"title-popup"},Ir={class:"cmt-content"},Cr={key:0,class:"loading-center"},Kr={style:{"font-size":"12px","margin-left":"3px"}},kr={style:{color:"black"}},Hr={class:"comment-input"},zr=["disabled"],Nr=["onClick"],Fr={key:0,class:"bottom-box"},Pr={style:{width:"100%"}},Jr={src:qi,width:"25",style:{"margin-bottom":"11px","margin-right":"6px"},alt:""},Ur={src:es,width:"25",style:{"margin-bottom":"11px","margin-right":"6px"},alt:""},Er=st({__name:"VertLayoutComp",props:{isSeries:{type:Boolean},seriesId:{}},setup(t){const i=t,l=U(1),e=U(!1),s=U(!1),n=U(!1),a=U(!1),o=U(0),r=U(0),d=U(null),c=Ns([]),u=U(""),h=U(!1),m=U(!1),p=U(!1),y=U(!1),g=U([]),V=(M,R)=>{o.value=R,s.value=!s.value},L=()=>{n.value=!n.value},v=async M=>{y.value=!1,g.value=[],r.value=M.activeIndex;const R=c.length-r.value-1;i.isSeries&&!e.value&&R<=2&&(l.value++,await G(l.value))},Y=M=>{d.value=M},X=async M=>{const R=await ge.get("/api/video/episodes",{params:{seriesShortId:M,page:1,size:200}}),x=R.data.data||R.data,{list:H,...F}=x;c.push(...H.map(P=>({...P,...F})))},G=async M=>{e.value=!0;try{const R=await ge.get("/api/video/recommend",{params:{page:M,size:10}}),H=(R.data.data||R.data).list||[];if(H.length===0){Ke("暂无推荐内容");return}c.push(...H)}catch(R){console.error("加载推荐视频失败:",R),Ke(R.response?.data?.message||"加载失败，请重试")}e.value=!1};Wt(async()=>{try{i.isSeries?await G(l.value):i.seriesId&&await X(i.seriesId)}catch(M){console.error("初始化加载失败:",M),Ke("初始化失败，请刷新重试")}});const S=()=>{d.value?.slideNext()},Z=M=>{M!==-1&&(r.value=M),d.value?.slideTo(M),a.value=!1},N=()=>{K(c[r.value].shortId)},K=async M=>{if(y.value)return;p.value=!0;const R=await ge.get("/api/video/comments",{params:{episodeShortId:M,page:Math.floor(g.value.length/10)+1,size:10}}),x=R.data.data||R.data,{comments:H,total:F}=x;g.value.push(...H),p.value=!1,g.value.length>=F&&(y.value=!0)},I=()=>{K(c[r.value].shortId)},b=M=>{const R=new Date(M),H=new Date().getTime()-R.getTime(),F=Math.floor(H/1e3),P=Math.floor(F/60),Q=Math.floor(P/60),A=Math.floor(Q/24);return A>0?`${A}天前`:Q>0?`${Q}小时前`:P>0?`${P}分钟前`:"刚刚"},f=async()=>{if(!h.value&&u.value.trim()){h.value=!0;try{await ge.post("/api/video/episode/comment",{shortId:c[r.value].shortId,content:u.value.trim()}),Ke("评论成功"),u.value="",y.value=!1,g.value=[],await K(c[r.value].shortId)}catch(M){console.error("评论失败:",M),Ke(M.response?.data?.message||"评论失败")}finally{h.value=!1}}},W=[{label:"3.0x",value:3},{label:"2.0x",value:2},{label:"1.5x",value:1.5},{label:"1.25x",value:1.25},{label:"1.0x (默认)",value:1},{label:"0.75x",value:.75}],T=U(1),w=M=>{T.value=M,n.value=!1},C=M=>{d.value&&i.isSeries&&(d.value.allowTouchMove=!M)};return(M,R)=>{const x=ul,H=xl,F=Es,P=Us,Q=Js,A=cl,Ue=ei,_=Kl,Oe=Tl;return O(),Ze(Ee,null,[J("div",Tr,[k(ze(da),{direction:"vertical","slides-per-view":1,onSlideChange:v,speed:400,onSwiper:Y,touchRatio:1,longSwipesRatio:.12,longSwipesMs:50,followFinger:!0,class:"player-swiper"},{default:Xe(()=>[(O(!0),Ze(Ee,null,qe(c,(E,ae)=>(O(),Te(ze(ca),{key:E.shortId},{default:Xe(()=>[Math.abs(r.value-ae)<=1?(O(),Te(Mr,{key:0,video:c[ae],"onUpdate:video":ue=>c[ae]=ue,active:r.value===ae,isSeries:M.isSeries,hdlCmtPopup:V,hdlSpdPopup:L,currentRate:T.value,isCls:m.value,"onUpdate:isCls":R[0]||(R[0]=ue=>m.value=ue),onGoNext:S,onFullscreenChange:C},null,8,["video","onUpdate:video","active","isSeries","currentRate","isCls"])):He("",!0)]),_:2},1024))),128))]),_:1}),k(A,{show:s.value,"onUpdate:show":R[3]||(R[3]=E=>s.value=E),closeable:"","close-icon-position":"top-left","close-icon":"arrow-down",round:"",position:"bottom",style:{height:"60%"},"overlay-style":{background:"none"},"teleport-to":"body",onOpen:N,duration:"0.05"},{default:Xe(()=>[J("div",null,[J("div",Rr,We(o.value)+"条评论",1),J("div",Ir,[p.value&&g.value.length===0?(O(),Ze("div",Cr,[k(x)])):!p.value&&g.value.length===0?(O(),Te(H,{key:1,description:"暂无评论，快来抢沙发~"})):(O(),Te(P,{key:2,loading:p.value,"onUpdate:loading":R[1]||(R[1]=E=>p.value=E),finished:y.value,"finished-text":"没有更多了",onLoad:I},{default:Xe(()=>[(O(!0),Ze(Ee,null,qe(g.value,E=>(O(),Te(F,{key:E.id,"title-style":"color: #5f5858;"},{title:Xe(()=>[ri(We(E.nickname||E.username||"匿名用户")+" ",1),J("span",Kr,We(b(E.createdAt)),1)]),icon:Xe(()=>R[8]||(R[8]=[J("img",{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"",style:{width:"32px",height:"32px","border-radius":"50%",margin:"7px 13px 0 0"}},null,-1)])),label:Xe(()=>[J("span",kr,We(E.content),1)]),_:2},1024))),128))]),_:1},8,["loading","finished"]))]),J("div",Hr,[ke(J("input",{"onUpdate:modelValue":R[2]||(R[2]=E=>u.value=E),type:"text",placeholder:"说点什么...",onKeyup:Ps(f,["enter"]),disabled:h.value},null,40,zr),[[Fs,u.value]]),k(Q,{type:"primary",size:"small",loading:h.value,disabled:!u.value.trim()||h.value,onClick:f},{default:Xe(()=>R[9]||(R[9]=[ri(" 发送 ")])),_:1,__:[9]},8,["loading","disabled"])])])]),_:1},8,["show"]),k(A,{show:n.value,"onUpdate:show":R[4]||(R[4]=E=>n.value=E),closeable:"","close-icon-position":"top-left","close-icon":"arrow-down",round:"",position:"bottom",style:{height:"60%"},"overlay-style":{background:"none"},"teleport-to":"body",duration:"0.05"},{default:Xe(()=>[J("div",null,[R[10]||(R[10]=J("div",{class:"title-popup"},"倍速",-1)),J("div",null,[(O(),Ze(Ee,null,qe(W,(E,ae)=>J("div",{key:ae,class:"rate-item",onClick:ue=>w(E.value)},[J("span",{style:Oi({color:E.value===T.value?"orange":"#333"})},We(E.label),5),E.value===T.value?(O(),Te(Ue,{key:0,name:"success",color:"orange"})):He("",!0)],8,Nr)),64))])])]),_:1},8,["show"])]),!M.isSeries&&!ze(Ce).currentFull?(O(),Ze("div",Fr,[k(A,{show:a.value,"onUpdate:show":R[5]||(R[5]=E=>a.value=E),closeable:"","close-icon":"arrow-down",round:"",position:"bottom",style:{height:"60%"},"overlay-style":{background:"none"},"teleport-to":"body",duration:"0.05"},{default:Xe(()=>[k(F,{title:"选集",label:`共${c.length}集`,"title-style":"font-weight: bold; font-size: 18px;"},null,8,["label"]),k(Oe,{"column-num":5,square:"",gutter:10,clickable:"",style:{"margin-top":"10px"}},{default:Xe(()=>[(O(!0),Ze(Ee,null,qe(c,(E,ae)=>(O(),Te(_,{key:E.shortId,text:E.episodeTitle,onClick:ue=>Z(ae),class:$e(["episode-item",{epsActive:r.value===ae}]),bordered:!1},null,8,["text","onClick","class"]))),128))]),_:1})]),_:1},8,["show"]),J("div",Pr,[k(F,{class:"eps-list",title:c[0]?.seriesInfo.updateStatus=="已完结"?`剧集 • 全${c.length}集`:`剧集 · 更新至${c.length}集`,icon:"bars","is-link":"","arrow-direction":"up",onClick:R[6]||(R[6]=E=>a.value=!a.value)},null,8,["title"])]),J("div",{onClick:R[7]||(R[7]=E=>m.value=!m.value)},[ke(J("img",Jr,null,512),[[De,m.value]]),ke(J("img",Ur,null,512),[[De,!m.value]])])])):He("",!0)],64)}}}),io=Ai(Er,[["__scopeId","data-v-6487cb7c"]]);export{io as V};
