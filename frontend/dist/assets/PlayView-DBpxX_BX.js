import{d as G,r as h,b as g,j as V,T as $,h as R,f as e,F as S,e as z,v as B,o as p,t as n,_ as T,p as H,a as x,n as J,s as W,M as ee,c as M,w as se,x as I,D as te,z as Q,y as X}from"./index-BUt-9d1d.js";import{x as q,w as j,P as oe,H as ie,v as le}from"./index.min-CP13Kses.js";import{P as ae}from"./index-22Lr7j6y.js";import{s as k}from"./request-CJrpamSW.js";import"./index-CiRnDQBv.js";const Ae="/logowee.png",ne={class:"episodes h_100_vh flex_direction-column"},re={class:"flex_auto overflow-hidden"},de={class:"load-box"},ce={class:"flex episodes_inner flex_direction-column"},ue={class:"episodes_body flex_auto"},pe={class:"episode-list"},ve=["onClick"],ge={class:"van-multi-ellipsis--l2"},fe=G({__name:"EpisodesComp",props:{episodes:{}},setup(C){const c=h(".index-body"),f=()=>{const a=document.querySelector(".detail"),r=document.querySelector(".episodes");a&&(a.style.display="block"),r&&(r.style.display="none")};return(a,r)=>(p(),g("div",null,[(p(),V($,{to:c.value},[R(e("div",ne,[e("div",{class:"nav-bar relative van-hairline--bottom"},[e("div",{class:"left",onClick:f},r[0]||(r[0]=[e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAXNJREFUaEPt2TtKBEEYReFzMZMBd+ASXIGBmhgaGbkDlyGGJgYuQBAjAzP3YOoCRMHcRMTEkoYOOpgHXfU/ZrArmWD6cb6qoXqgxYYPbXg/EyB7BacV+LcrUEqZAXfAEXAl6aJmMlJ+Qn38E7DfR/8CM0nfYxHhgDnxXfOLpL2x8d3xoYAF8a/AoaS3tQZ4xIetgFd8CMAz3h3gHe8KiIh3AyyJP5D0XrPbLDrHfBuNjDdfgeh4U0BGvBkgK94EkBnfDMiObwKsQ3wr4BE4GezP3b9K831+1TOj+jlQSvkCtgc3OJX0sOqG1t+3AG6A80HQJ3As6dk6ctn1WgBbwC1wlomoBnTRpZR0RBNgHRDNgGyECSATYQbIQpgCMhDmgGiECyAS4QaIQrgCIhDuAG9ECMATEQbwQoQCliA+gF1J3YuOUSMcsADxA+xI6j5HjRTAAHHZvyO7lnQ/qrw/OA1QEzvvnAlgNZO115lWoHbmrM77A89a2jFh78iUAAAAAElFTkSuQmCC",alt:"",class:"left-arrow"},null,-1)])),r[1]||(r[1]=e("div",{class:"center flex_auto"},[e("span",null,"选集")],-1)),r[2]||(r[2]=e("div",{class:"right"},null,-1))]),e("div",re,[e("div",de,[e("div",ce,[e("div",ue,[e("ul",pe,[(p(!0),g(S,null,z(a.episodes,(m,d)=>(p(),g("li",{class:"",onClick:E=>a.$emit("toggle",d,m),key:d},[e("p",ge,n(m.episodeTitle),1)],8,ve))),128))])])])])])],512),[[B,!1]])],8,["to"]))]))}}),he=T(fe,[["__scopeId","data-v-523e5664"]]),{POSITIONS:me}=q;class O extends q{static get pluginName(){return"fullTitle"}static get defaultConfig(){return{position:me.ROOT_TOP}}icon=null;titleEl=null;onClick;isFullscreen;constructor(c){super(c);const f=document.createElement("img"),a=document.createElement("div");f.className="icon",f.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAXNJREFUaEPt2TtKBEEYReFzMZMBd+ASXIGBmhgaGbkDlyGGJgYuQBAjAzP3YOoCRMHcRMTEkoYOOpgHXfU/ZrArmWD6cb6qoXqgxYYPbXg/EyB7BacV+LcrUEqZAXfAEXAl6aJmMlJ+Qn38E7DfR/8CM0nfYxHhgDnxXfOLpL2x8d3xoYAF8a/AoaS3tQZ4xIetgFd8CMAz3h3gHe8KiIh3AyyJP5D0XrPbLDrHfBuNjDdfgeh4U0BGvBkgK94EkBnfDMiObwKsQ3wr4BE4GezP3b9K831+1TOj+jlQSvkCtgc3OJX0sOqG1t+3AG6A80HQJ3As6dk6ctn1WgBbwC1wlomoBnTRpZR0RBNgHRDNgGyECSATYQbIQpgCMhDmgGiECyAS4QaIQrgCIhDuAG9ECMATEQbwQoQCliA+gF1J3YuOUSMcsADxA+xI6j5HjRTAAHHZvyO7lnQ/qrw/OA1QEzvvnAlgNZO115lWoHbmrM77A89a2jFh78iUAAAAAElFTkSuQmCC",a.className="title",a.textContent=this.config.title||"",this.titleEl=a,window.Telegram?.WebApp?.initData||(this.root.appendChild(f),this.root.appendChild(a)),this.root.style.display="none"}afterCreate(){this.icon=this.find(".icon"),this.onClick=()=>{this.player.fullscreen&&this.player.exitFullscreen()},this.bind("click",this.onClick),this.isFullscreen=c=>{c?this.root.style.display="flex":this.root.style.display="none"},this.root.style.display="none",this.player.on(j,this.isFullscreen)}destroy(){this.onClick&&this.unbind("click",this.onClick),this.isFullscreen&&this.player.off(j,this.isFullscreen),this.icon=null,this.titleEl=null}render(){return'<div class="xg-top-box"></div>'}setTitle(c){this.titleEl&&(this.titleEl.textContent=c),this.config.title=c}}const ye={class:"scroll-box"},De={class:"introduction"},Ee={class:"play_info flex align_item-center"},Ie={class:"media_info flex_auto overflow-hidden"},Ce={class:"van-ellipsis notranslate"},we={class:"info notranslate"},Re={class:"hot"},Be={key:0,src:Ae,alt:""},be={key:0,class:"line"},Ue={key:1,class:"type updateStatus van-ellipsis flex_auto"},Qe={class:"info"},ke={class:"type notranslate"},Se={class:"introduce overflow-hidden relative"},Me={class:"introduce_info notranslate"},Ge={key:0,class:"anthology"},Te={class:"flex"},Ne={class:"episode-list relative"},Ye=["onClick"],Pe={class:"van-multi-ellipsis--l2"},xe={class:"detail-info"},_e={class:"detail notranslate"},Fe={class:"title"},Ze={class:"info"},je={class:"type"},Oe={class:"year_type"},Ve={class:"year"},ze={class:"type"},He={class:"info"},Je={class:"hot"},We={class:"info"},Xe={class:"type"},qe={class:"actor director"},Ke={class:"actor"},Le={class:"brief_introduction"},$e="data:image/gif;base64,R0lGODlhDwAMAIABAADA/wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBMTY2NTNCMUU2MjJFODExQUQ1Q0MxN0NFRURBQzNCNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowNkVDRjNCRTZBMUQxMUVCOTM0Q0JBNkY5NkM1MEI1RiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowNkVDRjNCRDZBMUQxMUVCOTM0Q0JBNkY5NkM1MEI1RiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmI3MTA4ZmVlLWM1MjEtNjk0MC1hMWM1LTUxNDRjODIxZWVjMyIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjBhMDgxNzZiLWQ0MWQtZDQ0ZS1hY2M3LWZmMzA4ZmRlYmViOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAkAAAEALAAAAAAPAAwAAAIdjANwy6jdEoxvSVvP1dls/1yfA5aYOYphp5ocqhQAIfkECQAAAQAsAAAAAA8ADAAAAhuMj4kA6uwUjKuleaa22e7rhaDxVaRoBmV3tgUAIfkECQAAAQAsAAAAAA8ADAAAAh2Mj4kA6uwUjKuF+ezEZmt7eB04lhd5mlzKrmJaAAAh+QQJAAABACwAAAAADwAMAAACG4yPqasAnJyRjNJlX9U58u9NINIFl4ia2lFKBQAh+QQJAAABACwAAAAADwAMAAACG4yPqcsG0J6DTAa7LFaa7uuFSTeNImiWKEKiBQAh+QQJAAABACwAAAAADwAMAAACHIyPqQaw2l6I0z1KF7baZuiFycZw5VmNYoqQaQEAIfkECQAAAQAsAAAAAA8ADAAAAhqMbwDIqA0fZDKuUJvM9HLnXVYSduQJotxWFgAh+QQJAAABACwAAAAADwAMAAACHIyPqQaw2l6I0z1KF7baZuiFycZw5VmNYoqQaQEAIfkECQAAAQAsAAAAAA8ADAAAAhuMj6nLBtCeg0wGuyxWmu7rhUk3jSJolihCogUAIfkECQAAAQAsAAAAAA8ADAAAAhuMj6mrAJyckYzSZV/VOfLvTSDSBZeImtpRSgUAIfkECQAAAQAsAAAAAA8ADAAAAh2Mj4kA6uwUjKuF+ezEZmt7eB04lhd5mlzKrmJaAAAh+QQFAAABACwAAAAADwAMAAACG4yPiQDq7BSMq6V5prbZ7uuFoPFVpGgGZXe2BQA7",es=G({__name:"IntroComp",props:{title:{},detailShow:{type:Boolean},videoData:{}},emits:["update:detailShow","update:title"],setup(C,{emit:c}){let f=0;const a=h(0),r=H(),m=W(),d=h(),E=h(!1),N={"144P":1,"240P":2,"360P":3,"480P":4,"720P":5,"1080P":6,"1440P":7,"2160P":8,"2K":9,"4K":10},v=C,i=r.query.id,u=h(Array.isArray(i)?i[0]:i||v.videoData.userProgress.currentEpisodeShortId||v.videoData.list?.[0]?.shortId),y=h(v.videoData.userProgress.watchProgress||0),K=async()=>{E.value=!1},_=async s=>(await k.post("/api/video/episode-url/query",{type:"episode",accessKey:s})).data.data.urls.map(o=>({definition:o.quality.toUpperCase(),url:o.cdnUrl,text:{en:o.quality.toUpperCase()},index:N[o.quality.toUpperCase()]||0})).sort((o,D)=>o.index-D.index),Y=c,b=x(()=>v.videoData.list?.find(s=>s.shortId===u.value)),F=x(()=>{const s=v.videoData?.seriesInfo?.channeID||1,t=v.videoData?.total||0;return s===1||s===3||t>1}),U=x(()=>F.value?v.videoData.seriesInfo.title+(b.value?.episodeTitle||""):v.videoData.seriesInfo.title);let l;const Z=/iP(hone|od|ad)/.test(navigator.userAgent);J(async()=>{let s=[];b.value&&(d.value=await _(b.value.episodeAccessKey)),d.value[0].url.endsWith(".m3u8")?s=[ie,O]:s=[O];const t={id:"mse",playsinline:!0,poster:v.videoData.seriesInfo.coverUrl,plugins:s,ignores:["volume"],fullscreen:{useCssFullscreen:!!window.TelegramWebviewProxy},fullTitle:{title:U.value},"x5-video-player-type":"h5","x5-video-player-fullscreen":"false","x5-video-orientation":"portraint",playbackRate:!1,fluid:!0,switchQuality:!0,definitionActive:"清晰度",videoInit:!1,url:d.value[0].url};l=new oe(t),l.once("ready",()=>{window.TelegramWebviewProxy&&typeof window.TelegramWebviewProxy.postEvent=="function"&&l?.usePluginHooks("fullscreen","fullscreenChange",A=>{const{player:o}=A;return o.isFullscreen?(window.TelegramWebviewProxy.postEvent("web_app_exit_fullscreen",null),Z?o.exitFullscreen(o.root):o.exitCssFullscreen()):(window.TelegramWebviewProxy.postEvent("web_app_request_fullscreen",null),Z?o.getFullscreen(o.root):o.getCssFullscreen()),!0})}),l.on("pause",A=>{const o=Math.floor(A.currentTime);u.value&&o&&w(u.value,o)}),l.on("timeupdate",A=>{const o=Math.floor(A.currentTime);a.value=o;const D=Math.floor(o/60);f!=D&&o%60==0&&(f=D,u.value&&o&&w(u.value,o))}),l.on("ended",async()=>{const A=b.value?.episodeNumber||0;A<v.videoData.size&&await P(A,v.videoData.list[A])}),l.once("play",()=>{Y("update:title",U.value),l.seek(y.value)}),l.emit("resourceReady",d.value)});const w=async(s,t)=>{try{return t?await k.post("/api/video/progress",{episodeIdentifier:s,stopAtSecond:t}):(await k.get("/api/video/progress?episodeIdentifier="+s)).data.data.stopAtSecond||0}catch(A){console.error(A)}},L=()=>{const s=document.querySelector(".detail"),t=document.querySelector(".episodes");s&&(s.style.display="none"),t&&(t.style.display="block")},P=async(s,t)=>{if(u.value==t.shortId)return;u.value&&a.value&&w(u.value,a.value),u.value=t.shortId,m.replace({query:{id:t.shortId}});try{d.value=await _(t.episodeAccessKey),y.value=await w(t.shortId),y.value<l.duration-20?l.seek(y.value):l.seek(0),l.src||(l.url=d.value[0].url),l.src=d.value[0].url,l.load(),l.emit("resourceReady",d.value),l.play(),Y("update:title",U.value),l.plugins.fulltitle.setTitle(U.value)}catch(D){console.error("加载视频失败",D)}const A=document.querySelector(".detail"),o=document.querySelector(".episodes");A&&(A.style.display="block"),o&&(o.style.display="none")};return ee(()=>{l&&(u.value&&a.value&&w(u.value,a.value),l.destroy())}),(s,t)=>{const A=ae;return p(),g(S,null,[M(he,{onToggle:P,episodes:s.videoData.list},null,8,["episodes"]),e("div",ye,[M(A,{modelValue:E.value,"onUpdate:modelValue":t[1]||(t[1]=o=>E.value=o),onRefresh:K,"success-text":"刷新成功"},{default:se(()=>[e("div",De,[e("div",Ee,[e("div",Ie,[e("h3",Ce,n(s.videoData.seriesInfo.title),1),e("div",we,[e("div",Re,[t[2]||(t[2]=e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAlNJREFUSEvt1U9IVFEUx/Hvec+oLAuCCIoQIatFuKhcpM2fhZugVSBUUBj9gVoE5sxEEBS2iZk3RZsIWwQVgZK0KAhq0TivP5iJUIsWCbYyiYSoDPoz98RMJmjjzH0juHK275zf575z77wrzPNP5tljAfxv4hoPn0XolWT2bSXbEWikGg9tRRlE+QYckrR/NygaFLyPsnsSUUTaJZW9EgS1BjUe2YeaO9PD1SDOfkllu21RK1ATzZswTj+wskjwVxyzWZLPRm3QsqAmmtdinKdAXYnAW+L5BzW28yTyo0dSA2Oz1ZYE9Xx0CRPGR3V76dXrT35XraEqdxtkTLzskcrAWKgLOGozKqRQdwZDLSL14mVHivXN+oYaCzWADoE4ViBqpmqVpKT900HBm8ABO2xGlTIsab/eGtTWVpfaDx9BVlUE5pvUXS3pzKeZ/UVHqu3RDbi5dxVj+UbHbZRk5pUd2BFpRMzLOYE4TeL1vbADY01bwH0zJ7DKrZOLmfd24LFti1hRPQ7UFEH7EelEtQdYNsuiRsXz11kfmsKex0PXUYr9gfvE86OaCO/BaG9RUOiUlH8uGHgqvB5H82Od/v1UuiXt7y0sKhZ6DLTMCB6FpRvFezQRCCwEdkR2IeYesHiq2eG4JP1rk1NoQ7kx9Uz1C7gtku4bqOjT9hcNh5H8tST5PRnhu9sgVzP5CxiNRXaAeT4Z/hojbXIpO1TqsJW9LQrBieYajHOYnPtALmeG/wXqiehyqnMXcOQJnyceStfgr3In2wosFxLk+QIYZFpWtX8AbCq/Hc3hj6cAAAAASUVORK5CYII=",alt:""},null,-1)),e("span",null,n(s.videoData.seriesInfo.playCount<1e4?s.videoData.seriesInfo.playCount:(s.videoData.seriesInfo.playCount/1e4).toFixed(1)+" 万"),1)]),t[3]||(t[3]=e("span",{class:"line"},"|",-1)),e("div",{class:"score flex align_item-center noRating",style:te({color:s.videoData.seriesInfo.score?"#ff743d":""})},[s.videoData.seriesInfo.score?(p(),g("img",Be)):I("",!0),Q(" "+n(s.videoData.seriesInfo.score?s.videoData.seriesInfo.score:"暂无评分"),1)],4),s.videoData.seriesInfo.channeID!=2?(p(),g("span",be,"|")):I("",!0),s.videoData.seriesInfo.channeID!=2?(p(),g("div",Ue,n(s.videoData.seriesInfo.updateStatus),1)):I("",!0)]),e("div",Qe,[e("div",ke,n(s.videoData.tags.join("·")),1),t[4]||(t[4]=e("span",{class:"line"},"|",-1))])]),t[5]||(t[5]=e("div",{class:"avatar"},[e("div",{class:"my-image"},[e("div",{class:"van-image van-image--round"})])],-1))]),e("div",Se,[e("div",Me,[Q(n(s.videoData.seriesInfo.description?.slice(0,46)||"")+" ",1),e("span",{class:"btn inline_flex align_item-center",onClick:t[0]||(t[0]=()=>Y("update:detailShow",!0))},t[6]||(t[6]=[e("i",null,"...",-1),Q("详情"),e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAANhJREFUSEvd1TsOwjAMBmA7C49rwcpBUEmU5CClbSicg3IWFo7CUKMI2CAPRx0ge/5PsR0ZYeKDE+fD/wOolHVCwLVp6hOnnMESKWUPiFQREQkhKg4SBLS223Ece0RELhJtcikSBXzdS5AkoARJBrhIFsBBsgEpzVoIvADQ3INE2Hddvfv2R7KAZzicAWD5Cjy27d6HUzGglF0h0pAT7tGkF3DDk4CS8ChQGh4FtDYDEWxSG/qp0cEeGGMWROCRW2xa2FMkpZw55+6hUQztiaQp4iya953fBx4l45gZ80ZoqgAAAABJRU5ErkJggg==",alt:""},null,-1)]))])]),F.value?(p(),g("div",Ge,[e("div",Te,[e("ul",Ne,[(p(!0),g(S,null,z(s.videoData.list||[],(o,D)=>(p(),g("li",{key:D,class:X({active:u.value===o.shortId}),onClick:fs=>P(D,o)},[e("p",Pe,n(o.episodeTitle),1),u.value===o.shortId?(p(),g("img",{key:0,src:$e,alt:""})):I("",!0)],10,Ye))),128))]),e("div",{class:"all_episodes flex_none flex align_item-center justify_content-center",onClick:L},t[7]||(t[7]=[e("span",null,"选集",-1),e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAANhJREFUSEvd1TsOwjAMBmA7C49rwcpBUEmU5CClbSicg3IWFo7CUKMI2CAPRx0ge/5PsR0ZYeKDE+fD/wOolHVCwLVp6hOnnMESKWUPiFQREQkhKg4SBLS223Ece0RELhJtcikSBXzdS5AkoARJBrhIFsBBsgEpzVoIvADQ3INE2Hddvfv2R7KAZzicAWD5Cjy27d6HUzGglF0h0pAT7tGkF3DDk4CS8ChQGh4FtDYDEWxSG/qp0cEeGGMWROCRW2xa2FMkpZw55+6hUQztiaQp4iya953fBx4l45gZ80ZoqgAAAABJRU5ErkJggg==",alt:""},null,-1)]))])])):I("",!0)])]),_:1},8,["modelValue"])]),R(e("div",xe,[e("div",_e,[e("div",Fe,n(s.videoData.seriesInfo.title),1),e("div",Ze,[e("div",je,n(s.videoData.seriesInfo.updateStatus),1)]),e("div",Oe,[e("span",Ve,n(s.videoData.seriesInfo.postTime?s.videoData.seriesInfo.postTime.slice(0,4):"")+"年",1),e("span",ze,n(s.videoData.seriesInfo.channeName),1)]),e("div",He,[e("div",Je,[t[8]||(t[8]=e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAlNJREFUSEvt1U9IVFEUx/Hvec+oLAuCCIoQIatFuKhcpM2fhZugVSBUUBj9gVoE5sxEEBS2iZk3RZsIWwQVgZK0KAhq0TivP5iJUIsWCbYyiYSoDPoz98RMJmjjzH0juHK275zf575z77wrzPNP5tljAfxv4hoPn0XolWT2bSXbEWikGg9tRRlE+QYckrR/NygaFLyPsnsSUUTaJZW9EgS1BjUe2YeaO9PD1SDOfkllu21RK1ATzZswTj+wskjwVxyzWZLPRm3QsqAmmtdinKdAXYnAW+L5BzW28yTyo0dSA2Oz1ZYE9Xx0CRPGR3V76dXrT35XraEqdxtkTLzskcrAWKgLOGozKqRQdwZDLSL14mVHivXN+oYaCzWADoE4ViBqpmqVpKT900HBm8ABO2xGlTIsab/eGtTWVpfaDx9BVlUE5pvUXS3pzKeZ/UVHqu3RDbi5dxVj+UbHbZRk5pUd2BFpRMzLOYE4TeL1vbADY01bwH0zJ7DKrZOLmfd24LFti1hRPQ7UFEH7EelEtQdYNsuiRsXz11kfmsKex0PXUYr9gfvE86OaCO/BaG9RUOiUlH8uGHgqvB5H82Od/v1UuiXt7y0sKhZ6DLTMCB6FpRvFezQRCCwEdkR2IeYesHiq2eG4JP1rk1NoQ7kx9Uz1C7gtku4bqOjT9hcNh5H8tST5PRnhu9sgVzP5CxiNRXaAeT4Z/hojbXIpO1TqsJW9LQrBieYajHOYnPtALmeG/wXqiehyqnMXcOQJnyceStfgr3In2wosFxLk+QIYZFpWtX8AbCq/Hc3hj6cAAAAASUVORK5CYII=",alt:""},null,-1)),e("span",null,n(s.videoData.seriesInfo.playCount<1e4?s.videoData.seriesInfo.playCount:(s.videoData.seriesInfo.playCount/1e4).toFixed(1)+" 万"),1)]),t[9]||(t[9]=e("span",{class:"line"},"|",-1))]),e("div",We,[e("div",Xe,n(s.videoData.seriesInfo.contentType),1)]),e("div",qe," 导演："+n(s.videoData.seriesInfo.director),1),e("div",Ke," 主演："+n(s.videoData.seriesInfo.actor),1),t[10]||(t[10]=e("div",{class:"title"},"简介",-1)),e("div",Le,n(s.videoData.seriesInfo.description),1)])],512),[[B,s.detailShow]])],64)}}}),ss=T(es,[["__scopeId","data-v-21d8f960"]]),ts={class:"top"},os={class:"player-container"},is={class:"title_box absolute notranslate"},ls={class:"bar justify_content-sb van-hairline--bottom"},as={class:"left flex align_item-center"},As={class:"close_detail"},ns={class:"bottom flex_auto"},rs={class:"load-box box1"},ds={class:"load-box box2"},cs=G({__name:"VideoPlayer",setup(C){const c=h(""),f=H(),a=W(),r=h({size:0,tags:[],total:0,seriesInfo:{starring:"",id:111,channeID:111,mediaUrl:"",coverUrl:"",cidMapper:"",postTime:"",actor:"",director:"",channeName:"",description:"",contentType:"",updateStatus:"",score:"",playCount:0,title:"",fileName:"",mediaId:"",shareCount:0,comments:0,isHot:!1,isVip:!1},userProgress:{currentEpisode:0,currentEpisodeShortId:"",watchProgress:0,watchPercentage:0,totalWatchTime:0,lastWatchTime:"",isCompleted:!1},list:[]});J(async()=>{const v=f.params.id;try{const i=await k.get(`/api/video/episodes?seriesShortId=${v}&size=500`);r.value=i.data.data,a.replace({query:{id:r.value.userProgress.currentEpisodeShortId}})}catch(i){console.error("获取视频数据失败",i)}});const m=h(!1),d=h("intro"),E=h(null),N=()=>{window.history.state?.back?a.back():a.push("/")};return(v,i)=>{const u=le;return p(),g(S,null,[e("div",ts,[e("div",os,[e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAXNJREFUaEPt2TtKBEEYReFzMZMBd+ASXIGBmhgaGbkDlyGGJgYuQBAjAzP3YOoCRMHcRMTEkoYOOpgHXfU/ZrArmWD6cb6qoXqgxYYPbXg/EyB7BacV+LcrUEqZAXfAEXAl6aJmMlJ+Qn38E7DfR/8CM0nfYxHhgDnxXfOLpL2x8d3xoYAF8a/AoaS3tQZ4xIetgFd8CMAz3h3gHe8KiIh3AyyJP5D0XrPbLDrHfBuNjDdfgeh4U0BGvBkgK94EkBnfDMiObwKsQ3wr4BE4GezP3b9K831+1TOj+jlQSvkCtgc3OJX0sOqG1t+3AG6A80HQJ3As6dk6ctn1WgBbwC1wlomoBnTRpZR0RBNgHRDNgGyECSATYQbIQpgCMhDmgGiECyAS4QaIQrgCIhDuAG9ECMATEQbwQoQCliA+gF1J3YuOUSMcsADxA+xI6j5HjRTAAHHZvyO7lnQ/qrw/OA1QEzvvnAlgNZO115lWoHbmrM77A89a2jFh78iUAAAAAElFTkSuQmCC",alt:"",class:"left-arrow",onClick:N}),e("div",is,[M(u,{scrollable:!1,text:c.value,background:"transparent",color:"#fff"},null,8,["text"])]),e("div",{id:"mse",ref_key:"playerRef",ref:E},null,512)]),e("div",ls,[e("div",as,[e("div",{class:X(["button",{active:d.value==="intro"}]),onClick:i[0]||(i[0]=y=>d.value="intro")},i[4]||(i[4]=[Q(" 简介"),e("i",null,null,-1)]),2)]),i[6]||(i[6]=e("div",{class:"right flex_none flex align_item-center"},[e("div",{class:"danmu-control flex_none"})],-1)),R(e("div",As,[i[5]||(i[5]=e("span",null,"详情",-1)),e("img",{onClick:i[1]||(i[1]=y=>m.value=!m.value),src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAyRJREFUWEftlslPFEEUxr831fYguKAn1Agibmd3Pc0YMUDiv4AhIJOexQgJ8b9gklntIBkP3j0ZRYwkbpjgdnTfl5MrIsxMVz9TMGNEmelujfFCXTrpqlff7331XlcT/vOg/6yPRYBFByo6kMmYZ4mwDbDbDcN4/ifFmk6nG4i08wB9Dod7AwvtUREgmz15jpk6ADy3bRGIRnteeIFIp3MNQGFMJUGEccMI7fcEMDw8vDyfty4AUIHPbLsYjEajriBM01xj27jMrBzEPdsuHoxGo+89AajFCmJmxhohwj5mPNM0BEKh0MtqTiSTybVC6JcBbAVwV9fFwZ6eng+VYhy7IJFIrBDCf0FBAHgqBIKVIJLJ4bVCWGMAthDhzvS0aO3vryyuoBwB1CIFoWk1IwDvBfhpoUDB48fnO5HNZtcx+5T4ZiK6zWy1hsPhj0514wpgIQhmGYhEIq/U3M/iAG4D0pW4awfKWSQSZ1YIMXWRCHsAPGG2grquc7Foq8w3MeNWba3e2tXV9ckp8/K8awfKAaZprpQSI8AcROl9C4CJfP7bob6+Ptfinh2YD0GjAO8qvZsQAq2hUOiz28z/2AEVaJpmo5Q8BtDG0kaPLcsXPHbs6Ot/DpBKpZqIlqgvXDNAN4ngY+bdAB4T2QHDMN54gfBUA6nUqSafT6qCa2bGuJT5Nimlz++vvQhAHccjIjvoBcI1QDab3VDq8w0Abvj9Wlt3d/ekyjYej9freu0oEXZ6hXAFkEwONQsx22pNRHRd10V7Wbxsdzyeq6+pKYwyz0FIqQVise63TsfhCDA0NNRcLKqC4yYA1yYntY4TJ+Yy/3Xkcrn6mZkfEA+lLARjsVhViKoAmUxmIyBU5o0AXWUudkQika/VsspkMqsATbXoDiI8sKzCgWoQFQESCbNF02ZbbT3AV5mlo3gZTEEQaaPMvAPAg9IF9m4h8Gp/RPfVlUqEK3V1Szs6OzunnM7z5/k5CHGJGdvVtRwOh9Tzt1EN4DSAZVNTX44MDAx4Ei+rDA6eWu33y7M+H30xjN7DngC8ZPs3ax274G82dxO7CLDowHc0yEkwMWOySAAAAABJRU5ErkJggg==",alt:""})],512),[[B,m.value]])])]),e("div",ns,[R(e("div",rs,[r.value.seriesInfo.coverUrl?(p(),V(ss,{key:0,videoData:r.value,detailShow:m.value,"onUpdate:detailShow":i[2]||(i[2]=y=>m.value=y),title:c.value,"onUpdate:title":i[3]||(i[3]=y=>c.value=y)},null,8,["videoData","detailShow","title"])):I("",!0)],512),[[B,d.value==="intro"]]),R(e("div",ds,null,512),[[B,d.value==="comment"]])])],64)}}}),us=T(cs,[["__scopeId","data-v-06f656c7"]]),ps={class:"detail h_100_vh"},vs={class:"detail-body flex_direction-column"},gs=G({__name:"PlayView",setup(C){return(c,f)=>(p(),g("div",ps,[e("div",vs,[M(us)])]))}}),Is=T(gs,[["__scopeId","data-v-0979dc6c"]]);export{Is as default};
