import{d as i,O as c,S as d,P as g,R as m}from"./index-Dc7xxWUz.js";const p=i({__name:"TgadView",setup(u){const t=d(),s=g(),o=async()=>{const e=s.query.utm_campaign||"";if(e)try{await m.post("/api/tracking/advertising/event",{campaignCode:e,eventType:"click",sessionId:n(),deviceId:a()}),localStorage.setItem("campaignCode",e)}catch(r){console.error(r)}};c(()=>{o(),t.push("/")});const n=()=>{let e=sessionStorage.getItem("sessionId");return e||(e="session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),sessionStorage.setItem("sessionId",e)),e},a=()=>{let e=localStorage.getItem("deviceId");return e||(e="device_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("deviceId",e)),e};return()=>{}}});export{p as default};
