import{d as B,r as d,n as U,b as C,c as r,w as c,F as R,e as V,f as a,i as h,o as f,j as H,t as S,y as G,_ as I,l as D,q as E}from"./index-BUt-9d1d.js";import{P as N}from"./index-22Lr7j6y.js";import{S as Y,a as M}from"./index-Dgq7X-t3.js";import{I as L}from"./index-DgOa4PE7.js";import{L as Q}from"./index-CtvN6bhi.js";import{R as j,C as k}from"./index-N2QlJerl.js";import{C as b}from"./CoverComp-BjIvQbsH.js";import{s as F}from"./request-CJrpamSW.js";import"./index-CiRnDQBv.js";const T={class:"swipe-container"},_={class:"my-image"},P={class:"describe"},J={class:"custom-indicator"},x=["onClick"],Z=B({__name:"SwineComp",props:{HomeBanners:{default:()=>[]}},setup(l){const u=d(0),t=d(),n=p=>{u.value=p,t.value?.swipeTo(p)},A=d("");return U(()=>{/iphone|ipod|android|blackberry|windows phone/i.test(navigator.userAgent.toLowerCase())?A.value="seriesPlay":A.value="play"}),(p,m)=>{const g=L,w=h("RouterLink"),i=M,s=Y;return f(),C("div",T,[r(s,{ref_key:"swipeRef",ref:t,active:u.value,"onUpdate:active":m[0]||(m[0]=o=>u.value=o),class:"image-carousel",autoplay:5e3,"indicator-color":"white","lazy-render":!1},{indicator:c(({active:o,total:e})=>[a("ul",J,[(f(!0),C(R,null,V(e,(y,v)=>(f(),C("li",{key:v,class:G({"is-active":v===o}),onClick:ee=>n(v)},m[1]||(m[1]=[a("div",{class:"indicator-line"},null,-1)]),10,x))),128))])]),default:c(()=>[(f(!0),C(R,null,V(p.HomeBanners,(o,e)=>(f(),H(i,{key:o.id},{default:c(()=>[r(w,{to:o.shortId?{name:A.value,params:{id:o.shortId}}:"",onClick:y=>n(e)},{default:c(()=>[a("div",_,[r(g,{src:o.showURL,fit:"cover","show-error":"","show-loading":""},null,8,["src"])]),a("div",P,[a("p",null,S(o.title),1)])]),_:2},1032,["to","onClick"])]),_:2},1024))),128))]),_:1},8,["active"])])}}}),z=I(Z,[["__scopeId","data-v-086b953c"]]),W={class:"screen-bar"},O=B({__name:"ScreenComp",props:{catInfo:Object},setup(l){return(u,t)=>{const n=h("RouterLink");return f(),C("ul",W,[r(n,{to:{name:"list",params:{id:l.catInfo?.categoryId},query:{channeid:l.catInfo?.id,ids:"0,0,0,0,0,0,0"}}},{default:c(()=>t[0]||(t[0]=[a("div",null,[a("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAZtJREFUWEftlb8rxHEYx1/PoeiIkgHJYDFgECVyd36k25TV5g8wW/yabFJmZZDRYJEM53vdJCWFwSg6yik6WbhHd0Xpvj+e4cTw/dR3+j7v5/P6vOt5P8IfH/nj+/lnACmtp46oyZU8MCkPpdojbaSBWpOumg8G5PGr9qcDjq6hLJgaQYGEVJVqU7qDMGvU3ZCQziCAU+Cb0qXxCBB1AcgARW+8zgSQDQaIkCQmh55tjvUc6CkDKNDDuFx66hzNoeRDgNCB0AGLA+sUuPAcJ2EVpb1sDJVFhDufHNgEcsEAtkj7lSQcRhmw3Y+SkOKLwNEplG6TLsILMdl2j2JTh8oW/VxGae1D6TVfEWMXESWlQ0ToMureiMue1zJaQVk2NgKlhjF5x9EtlDmj7p6EtAYBbCN4LxVlHugoAxA2wGcKlCXgNRhAmCYu+z7b8AQYdAHoJy5nPrps6V+gAyFA6EDogOAAt57jpCSBZpcgOkB48tHNAM/BY2iMtMonYVpbgOJnOzG5KhVmtI0CTSaR8M6oXP/TbWh6QmWLPgEowYQwL8OowAAAAABJRU5ErkJggg==",alt:""})],-1),a("p",null,"全部",-1)])),_:1,__:[0]},8,["to"]),r(n,{to:{name:"list",params:{id:l.catInfo?.categoryId},query:{channeid:l.catInfo?.id,ids:"0,0,0,0,0,0,0"}}},{default:c(()=>t[1]||(t[1]=[a("div",null,[a("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAActJREFUWEftlsFLFHEUxz9vdoNoFesPiCIIBMHTIuymMy62KoSQB2/iTRACrytdslshHTp08Bbh2UNIUWSzo6wS7rHwpnbvsiyGsLpPml1pk6Lf7EwtyMzvNPDmfT/vO7/3+z2hw490WJ8YIJwDH/UeCRI48rrdX9k+gKvjwBrir8l2IdoDcLUXYRu42qy8ipIlJ5+DOhEcYFOvccIn4DZwjKAoSeAAZYCcfAsCEQxANYHHWyCP8gyLKV9MWQEeInikyJOWmilEMABPn6PMI7zBZoIN9n0hm5t4rAL3EZZxZC56AFfTCDvALjUy5KWCp199IUdu4GoXFiWUfiwGsaVkAmHuQFmv8J0CykscaVTeCtB4v44yS5IlBqUaLcDvsp0HMFE8F2PuQAwQO/BfHPB0lCNKjMmh0YYO2gXvNMVl7uDI+7P8P7ugqBlgC2WBnDz9JwCuFhCeAFmG5cdl1jIRbegIdT4gPMaRRUOAL82TsM8wfhHlERZ3sWU9PMCm3vKFh2SvMwBGqi1BnkbswMUEwB8uXgUtzjB+Bpj+0yZ0qFM0TBQuzGIYW7xfu6Csl6jyAIuecNn/8nWdCt28OBvbwl3HEZDGAB134BRBvLsh0ppcDQAAAABJRU5ErkJggg==",alt:""})],-1),a("p",null,"最新上传",-1)])),_:1,__:[1]},8,["to"]),r(n,{to:{name:"list",params:{id:l.catInfo?.categoryId},query:{channeid:l.catInfo?.id,ids:"1,0,0,0,0.0.0"}}},{default:c(()=>t[2]||(t[2]=[a("div",null,[a("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAvlJREFUWEft11uIVXUUx/HPmqkpR8UeoggpKgjEIimKoNE558xIVEKGQQ9hCYYkkWUPBWFog5FSkBVBYFHQVbpiUhAJZ86JLoQPSUVEBBXRbYogLCqds2IfZyw7Zy42TFK4Xjbs/+L//64f67f2f4fDHHGYzzd9ANU8C4t1/q3E9IVSvDj6dvoAarlT6m+rcFiiFK8Wa9MHUM15Qp8Q0lzcgqOaQGmVSjwyvQCjpdfzXMNeFuYKv0jd/x5ALZdJj2MmtgpfSxumBvBhdnnOPndEY1wHDeZtwp1SNuUvxxbVvF3Y+M8BqnmtcD++Fy5Rio9aIArAIQ/jGuEnw67SF6808woo7sJK5Xhs8j2QGWo241YUlXfgS8MW6o/PD0BU83jhJSzEZ8JlSvH+X9ZPFW7UYZPeGJocwI7sNtsTWNasfP/zaqzCJ/ZZZHF8q57zpR3S6Xjb0S7XE9+1KFTLCx1ntwXx88QA9TxJ2i6dL32syxI98anMDnXPSFfiPWGTtBVz8LS5Vjojfms5/I28wLB3cI9yFGqOMwfqefZIRaegqtMVFsWPBzZ9NrucYDsuHnlXNNsG5dg4ZnPW8iLptaYjynHd2AC1vFTahtnCo2Za7bzY27Lxruy2R9FMC3RYpzdeGNcZkwKo5w0atggdGtapRNF8k4tqHiuVVLwu2th0QoBa3ifd1JxYDStU4vnJnTySNZjFuL272ajlKNxwcIwLsCvn2OMHDOmwVG+8e0iH7/f5ANYLK5SimICHAFCk1vIce33VtFW7KCyUTmxbXZFfzwGNqQBMVHItd0tnmmVG26acsgITAQxmMXrnSTNU4teW9P82QD17NDypYbm+eLOtGNOqQD3Xjvh/rVIUX7zWOAJwRIH/twKDuQYPSGtU4sExXPAB5pvlmDEm4XoMSMtV4qmWPerZr2EnHlKO64v1P39MittPw83SvSrxTVuAei417OQxAWt5mrRap80HXV5GN3srZ/hdcTPeNnpXnL4/o4nG+sj6YQf4A8satjD8Tj6dAAAAAElFTkSuQmCC",alt:""})],-1),a("p",null,"人气高",-1)])),_:1,__:[2]},8,["to"]),r(n,{to:{name:"list",params:{id:l.catInfo?.categoryId},query:{channeid:l.catInfo?.id,ids:"2,0,0,0,0,0,0"}}},{default:c(()=>t[3]||(t[3]=[a("div",null,[a("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABB9JREFUWEfdlntoVnUYxz/fs2Z5y4Ia3qBwGeg/mUnO23vOW9aWXTS0jKKk0j8q/4i0cIQR0YUW/ZURkZlR1FzkHypl0bb3vE4HYpTYyLyEmlZmLAk13d6dJ35nF9z2bu+FLOj57/wuz/M5z++5if9YVLT9tC0k4i3gGBkWMlc/FqOrOIBGG4/YCwzvMtpEoDn/HkBor2GsRGzCOAfcg8dcEqovFKJwD3xmlzKUI4hRGDMo5Q8ytCDq8VV54QFS9jRQg0jjy48NpuxjxGIibiSpXYVAFOaBzTaMkRwERuNRRUJfxMbSNpmIPYjN+Fpw4QBSVg28DOwg0KxehtL2ERH3AbMI1JwvRHYP7LJhnKaciHLgGsREYDIwHVGCMbufke1WTlscCycQtYjdiP1kOEzAcSTLBtUbIG0+xuvA9RhevwviL4wXCeS80F8a7QkU37+416ZoA45iNJHhGebqePd+b4DQ3MaVGAcRh4HDGIdQ/L2XU7QwTy7tBpZGuwyPBMYUiD13NTAOKOuqG+sI9Gh2gJTtjy8YD5JUbb7vmNe5lD2OWAO8ja/HBvLArRhbut65mkA1eSkf7JCZCHkVcOnr6sdsfP2UHcCtNlqA+AS4Io6HpFYWDVFnJZTxDvAw8B1DqGKmjp2vL3sWhDYR48v4OVxQ+UVAPG8eAR8A9wPNGPNI6mTfnxm4EHU2nBCYgFiKr3cL8kRor2CscnWSy7mD63Q6dxr2PdHpia+BNkYwhmlqzwvC1YQM+4BvifBJ6tRA93KX4tBqMRbTzlXcoiN5ATRYJR5bMZaR1NrB7uQGSNlG4G48ykjoRF4ATVZBhmbEKny5DBhQcgOE5rrbJBKMGKic9tO+00Zzhl+AtQRaVjxAZyT/idiHr6n9FO2woZwkylodU+a8dYBAM4oH2GbX0sEPwHoCuVzulEarQDyFcReiA49P43Sdo909Z1Lm0ngmvzGKe9VRXBCG9hDG+4jl+HqT0FyTegm4DTiD2ApUYIwFDGMjHqvx9T0pewFYTcQUbjoPrA/J4DEQ2hsYy/FYRMR8xANdM+AajBqS+p06G8JolhDxHDAeyCBczWjA2AA8QqD3ivNAylwZXYqIYgXGhxjPktTR+Hu3DaeVcySVwcVDG08iqjFGQnzHi0c1X3XFAYQ2CWNT3Bc8FpCQq4ydss0m0BEPHS34quhZb7KxZFgBcUvezglWFB8D3VpdR6unjFLK8LUnXm6w2/HYEv9poJIegLRN5SIOMVOtg0V/917uOtB9MmUHuvrCDfj6JitA2m4m4ivETnxN/6cB3FhVipiPr01ZAVLmUnUd8CuBxvzvAM7Gw6ZxJ0ltyeqB0JZgrAd+JpCbA3NKITHgxrNpnGURVWolbZVEccdzaXhJbGmHjaM9zv3P8eUKVk75G2xHhTAphyS1AAAAAElFTkSuQmCC",alt:""})],-1),a("p",null,"评分高",-1)])),_:1,__:[3]},8,["to"])])}}}),q=I(O,[["__scopeId","data-v-8cc29512"]]),K=B({__name:"ListComp",props:{HomeVideos:{default:()=>[]},vtype:{default:1}},emits:["update:HomeVideos"],setup(l,{emit:u}){const t=d(!1);let n=1;const A=l,p=u,m=d(!1),g=d(!1),w=async()=>{try{n++;const s=(await F.get("/api/home/gethomemodules",{params:{channeid:A.vtype,page:n}}))?.data?.data?.list?.[0]?.list||[];s.length||(g.value=!0),p("update:HomeVideos",[...A.HomeVideos,...s])}catch(i){console.error("ListComp error: ",i),t.value=!0,n--}finally{m.value=!1}};return(i,s)=>{const o=k,e=j,y=Q;return f(),H(y,{loading:m.value,"onUpdate:loading":s[0]||(s[0]=v=>m.value=v),"immediate-check":!1,finished:g.value,"finished-text":"没有更多了",onLoad:w,error:t.value,"onUpdate:error":s[1]||(s[1]=v=>t.value=v),"error-text":"请求失败，点击重新加载",class:"list",role:""},{default:c(()=>[r(e,{gutter:"10"},{default:c(()=>[(f(!0),C(R,null,V(i.HomeVideos,v=>(f(),H(o,{key:v.shortId,span:"12"},{default:c(()=>[r(b,{MvItem:v,islist:i.vtype!=2},null,8,["MvItem","islist"])]),_:2},1024))),128))]),_:1})]),_:1},8,["loading","finished","error"])}}}),X=I(K,[["__scopeId","data-v-1e1d8b15"]]),$=B({__name:"NavHomeView",props:{catInfo:{}},setup(l){const u=d(!1),t=d(),n=d(),A=d(),p=d(0),m=l,g=async()=>{try{const s=(await F.get("/api/home/gethomemodules?channeid="+m.catInfo.id)).data;for(const o of s.data?.list??[])o.type===0?t.value=o.banners.map(e=>({id:e.id,showURL:e.showURL,title:e.title,url:e.url,shortId:e.shortId})):0<o.type&&o.type<5&&(n.value=o.list.map(e=>({id:e.id,coverUrl:e.coverUrl,score:e.score,playCount:e.playCount,cidMapper:e.cidMapper,shortId:e.shortId,title:e.title,isSerial:e.isSerial,upStatus:e.upStatus,upCount:e.upCount})))}catch(i){console.error("NavHomeView error: ",i)}u.value=!1};U(()=>{g()}),D(()=>{E(()=>{A.value&&(A.value.scrollTop=p.value)})});const w=()=>{A.value&&(p.value=A.value.scrollTop)};return(i,s)=>{const o=N;return f(),C("div",{class:"scroll-box",onScroll:w,ref_key:"listContainer",ref:A},[r(o,{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=e=>u.value=e),onRefresh:g,"success-text":"刷新成功"},{default:c(()=>[r(z,{HomeBanners:t.value},null,8,["HomeBanners"]),r(q,{catInfo:i.catInfo},null,8,["catInfo"]),r(X,{HomeVideos:n.value,"onUpdate:HomeVideos":s[0]||(s[0]=e=>n.value=e),vtype:i.catInfo.id??1},null,8,["HomeVideos","vtype"])]),_:1},8,["modelValue"])],544)}}}),ce=I($,[["__scopeId","data-v-f0752128"]]);export{ce as default};
